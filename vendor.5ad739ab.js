var tE=Object.defineProperty,rE=Object.defineProperties;var nE=Object.getOwnPropertyDescriptors;var Uo=Object.getOwnPropertySymbols;var wm=Object.prototype.hasOwnProperty,Cm=Object.prototype.propertyIsEnumerable;var Em=(t,e,r)=>e in t?tE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yd=(t,e)=>{for(var r in e||(e={}))wm.call(e,r)&&Em(t,r,e[r]);if(Uo)for(var r of Uo(e))Cm.call(e,r)&&Em(t,r,e[r]);return t},_d=(t,e)=>rE(t,nE(e));var Td=(t,e)=>{var r={};for(var i in t)wm.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&Uo)for(var i of Uo(t))e.indexOf(i)<0&&Cm.call(t,i)&&(r[i]=t[i]);return r};var Pl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function C0(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),e}var Te={exports:{}},ge={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var km=Object.getOwnPropertySymbols,iE=Object.prototype.hasOwnProperty,aE=Object.prototype.propertyIsEnumerable;function sE(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function oE(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(i.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(a){n[a]=a}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var k0=oE()?Object.assign:function(t,e){for(var r,i=sE(t),n,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var s in r)iE.call(r,s)&&(i[s]=r[s]);if(km){n=km(r);for(var o=0;o<n.length;o++)aE.call(r,n[o])&&(i[n[o]]=r[n[o]])}}return i};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf=k0,ua=60103,P0=60106;ge.Fragment=60107;ge.StrictMode=60108;ge.Profiler=60114;var A0=60109,I0=60110,L0=60112;ge.Suspense=60113;var O0=60115,D0=60116;if(typeof Symbol=="function"&&Symbol.for){var nr=Symbol.for;ua=nr("react.element"),P0=nr("react.portal"),ge.Fragment=nr("react.fragment"),ge.StrictMode=nr("react.strict_mode"),ge.Profiler=nr("react.profiler"),A0=nr("react.provider"),I0=nr("react.context"),L0=nr("react.forward_ref"),ge.Suspense=nr("react.suspense"),O0=nr("react.memo"),D0=nr("react.lazy")}var Pm=typeof Symbol=="function"&&Symbol.iterator;function lE(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}function Ks(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R0={};function da(t,e,r){this.props=t,this.context=e,this.refs=R0,this.updater=r||M0}da.prototype.isReactComponent={};da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Ks(85));this.updater.enqueueSetState(this,t,e,"setState")};da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N0(){}N0.prototype=da.prototype;function Ff(t,e,r){this.props=t,this.context=e,this.refs=R0,this.updater=r||M0}var Uf=Ff.prototype=new N0;Uf.constructor=Ff;Nf(Uf,da.prototype);Uf.isPureReactComponent=!0;var Bf={current:null},F0=Object.prototype.hasOwnProperty,U0={key:!0,ref:!0,__self:!0,__source:!0};function B0(t,e,r){var i,n={},a=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)F0.call(e,i)&&!U0.hasOwnProperty(i)&&(n[i]=e[i]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];n.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)n[i]===void 0&&(n[i]=o[i]);return{$$typeof:ua,type:t,key:a,ref:s,props:n,_owner:Bf.current}}function uE(t,e){return{$$typeof:ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ua}function dE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Am=/\/+/g;function Sd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dE(""+t.key):e.toString(36)}function cl(t,e,r,i,n){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ua:case P0:s=!0}}if(s)return s=t,n=n(s),t=i===""?"."+Sd(s,0):i,Array.isArray(n)?(r="",t!=null&&(r=t.replace(Am,"$&/")+"/"),cl(n,e,r,"",function(u){return u})):n!=null&&(jf(n)&&(n=uE(n,r+(!n.key||s&&s.key===n.key?"":(""+n.key).replace(Am,"$&/")+"/")+t)),e.push(n)),1;if(s=0,i=i===""?".":i+":",Array.isArray(t))for(var o=0;o<t.length;o++){a=t[o];var l=i+Sd(a,o);s+=cl(a,e,r,l,n)}else if(l=lE(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=i+Sd(a,o++),s+=cl(a,e,r,l,n);else if(a==="object")throw e=""+t,Error(Ks(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function Bo(t,e,r){if(t==null)return t;var i=[],n=0;return cl(t,i,"","",function(a){return e.call(r,a,n++)}),i}function cE(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var j0={current:null};function Xr(){var t=j0.current;if(t===null)throw Error(Ks(321));return t}var fE={ReactCurrentDispatcher:j0,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Bf,IsSomeRendererActing:{current:!1},assign:Nf};ge.Children={map:Bo,forEach:function(t,e,r){Bo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Bo(t,function(){e++}),e},toArray:function(t){return Bo(t,function(e){return e})||[]},only:function(t){if(!jf(t))throw Error(Ks(143));return t}};ge.Component=da;ge.PureComponent=Ff;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fE;ge.cloneElement=function(t,e,r){if(t==null)throw Error(Ks(267,t));var i=Nf({},t.props),n=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=Bf.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)F0.call(e,l)&&!U0.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:ua,type:t.type,key:n,ref:a,props:i,_owner:s}};ge.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:I0,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:A0,_context:t},t.Consumer=t};ge.createElement=B0;ge.createFactory=function(t){var e=B0.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:L0,render:t}};ge.isValidElement=jf;ge.lazy=function(t){return{$$typeof:D0,_payload:{_status:-1,_result:t},_init:cE}};ge.memo=function(t,e){return{$$typeof:O0,type:t,compare:e===void 0?null:e}};ge.useCallback=function(t,e){return Xr().useCallback(t,e)};ge.useContext=function(t,e){return Xr().useContext(t,e)};ge.useDebugValue=function(){};ge.useEffect=function(t,e){return Xr().useEffect(t,e)};ge.useImperativeHandle=function(t,e,r){return Xr().useImperativeHandle(t,e,r)};ge.useLayoutEffect=function(t,e){return Xr().useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Xr().useMemo(t,e)};ge.useReducer=function(t,e,r){return Xr().useReducer(t,e,r)};ge.useRef=function(t){return Xr().useRef(t)};ge.useState=function(t){return Xr().useState(t)};ge.version="17.0.2";Te.exports=ge;var Wn=Te.exports,V0={exports:{}},tr={},H0={exports:{}},z0={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,i,n;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,u=null,d=function(){if(l!==null)try{var q=t.unstable_now();l(!0,q),l=null}catch(re){throw setTimeout(d,0),re}};e=function(q){l!==null?setTimeout(e,0,q):(l=q,setTimeout(d,0))},r=function(q,re){u=setTimeout(q,re)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},n=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if(typeof console!="undefined"){var y=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof y!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var x=!1,S=null,v=-1,_=5,E=0;t.unstable_shouldYield=function(){return t.unstable_now()>=E},n=function(){},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5};var C=new MessageChannel,P=C.port2;C.port1.onmessage=function(){if(S!==null){var q=t.unstable_now();E=q+_;try{S(!0,q)?P.postMessage(null):(x=!1,S=null)}catch(re){throw P.postMessage(null),re}}else x=!1},e=function(q){S=q,x||(x=!0,P.postMessage(null))},r=function(q,re){v=h(function(){q(t.unstable_now())},re)},i=function(){f(v),v=-1}}function M(q,re){var ie=q.length;q.push(re);e:for(;;){var Se=ie-1>>>1,Oe=q[Se];if(Oe!==void 0&&0<N(Oe,re))q[Se]=re,q[ie]=Oe,ie=Se;else break e}}function D(q){return q=q[0],q===void 0?null:q}function j(q){var re=q[0];if(re!==void 0){var ie=q.pop();if(ie!==re){q[0]=ie;e:for(var Se=0,Oe=q.length;Se<Oe;){var Mt=2*(Se+1)-1,Rt=q[Mt],Nt=Mt+1,fr=q[Nt];if(Rt!==void 0&&0>N(Rt,ie))fr!==void 0&&0>N(fr,Rt)?(q[Se]=fr,q[Nt]=ie,Se=Nt):(q[Se]=Rt,q[Mt]=ie,Se=Mt);else if(fr!==void 0&&0>N(fr,ie))q[Se]=fr,q[Nt]=ie,Se=Nt;else break e}}return re}return null}function N(q,re){var ie=q.sortIndex-re.sortIndex;return ie!==0?ie:q.id-re.id}var F=[],B=[],z=1,K=null,J=3,pe=!1,se=!1,de=!1;function fe(q){for(var re=D(B);re!==null;){if(re.callback===null)j(B);else if(re.startTime<=q)j(B),re.sortIndex=re.expirationTime,M(F,re);else break;re=D(B)}}function he(q){if(de=!1,fe(q),!se)if(D(F)!==null)se=!0,e(Le);else{var re=D(B);re!==null&&r(he,re.startTime-q)}}function Le(q,re){se=!1,de&&(de=!1,i()),pe=!0;var ie=J;try{for(fe(re),K=D(F);K!==null&&(!(K.expirationTime>re)||q&&!t.unstable_shouldYield());){var Se=K.callback;if(typeof Se=="function"){K.callback=null,J=K.priorityLevel;var Oe=Se(K.expirationTime<=re);re=t.unstable_now(),typeof Oe=="function"?K.callback=Oe:K===D(F)&&j(F),fe(re)}else j(F);K=D(F)}if(K!==null)var Mt=!0;else{var Rt=D(B);Rt!==null&&r(he,Rt.startTime-re),Mt=!1}return Mt}finally{K=null,J=ie,pe=!1}}var me=n;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){se||pe||(se=!0,e(Le))},t.unstable_getCurrentPriorityLevel=function(){return J},t.unstable_getFirstCallbackNode=function(){return D(F)},t.unstable_next=function(q){switch(J){case 1:case 2:case 3:var re=3;break;default:re=J}var ie=J;J=re;try{return q()}finally{J=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=me,t.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=J;J=q;try{return re()}finally{J=ie}},t.unstable_scheduleCallback=function(q,re,ie){var Se=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Se+ie:Se):ie=Se,q){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ie+Oe,q={id:z++,callback:re,priorityLevel:q,startTime:ie,expirationTime:Oe,sortIndex:-1},ie>Se?(q.sortIndex=ie,M(B,q),D(F)===null&&q===D(B)&&(de?i():de=!0,r(he,ie-Se))):(q.sortIndex=Oe,M(F,q),se||pe||(se=!0,e(Le))),q},t.unstable_wrapCallback=function(q){var re=J;return function(){var ie=J;J=re;try{return q.apply(this,arguments)}finally{J=ie}}}})(z0);H0.exports=z0;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Te.exports,Me=k0,Ke=H0.exports;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Su)throw Error(G(227));var W0=new Set,Es={};function ri(t,e){Xi(t,e),Xi(t+"Capture",e)}function Xi(t,e){for(Es[t]=e,t=0;t<e.length;t++)W0.add(e[t])}var zr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),hE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Im=Object.prototype.hasOwnProperty,Lm={},Om={};function pE(t){return Im.call(Om,t)?!0:Im.call(Lm,t)?!1:hE.test(t)?Om[t]=!0:(Lm[t]=!0,!1)}function mE(t,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gE(t,e,r,i){if(e===null||typeof e=="undefined"||mE(t,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,r,i,n,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vf=/[\-:]([a-z])/g;function Hf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vf,Hf);at[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vf,Hf);at[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vf,Hf);at[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function zf(t,e,r,i){var n=at.hasOwnProperty(e)?at[e]:null,a=n!==null?n.type===0:i?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(gE(e,r,n,i)&&(r=null),i||n===null?pE(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,i=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?t.setAttributeNS(i,e,r):t.setAttribute(e,r))))}var ni=Su.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ya=60103,Un=60106,Jr=60107,Wf=60108,os=60114,$f=60109,Gf=60110,xu=60112,ls=60113,Al=60120,bu=60115,qf=60116,Xf=60121,Kf=60128,$0=60129,Yf=60130,Sc=60131;if(typeof Symbol=="function"&&Symbol.for){var Ge=Symbol.for;Ya=Ge("react.element"),Un=Ge("react.portal"),Jr=Ge("react.fragment"),Wf=Ge("react.strict_mode"),os=Ge("react.profiler"),$f=Ge("react.provider"),Gf=Ge("react.context"),xu=Ge("react.forward_ref"),ls=Ge("react.suspense"),Al=Ge("react.suspense_list"),bu=Ge("react.memo"),qf=Ge("react.lazy"),Xf=Ge("react.block"),Ge("react.scope"),Kf=Ge("react.opaque.id"),$0=Ge("react.debug_trace_mode"),Yf=Ge("react.offscreen"),Sc=Ge("react.legacy_hidden")}var Dm=typeof Symbol=="function"&&Symbol.iterator;function La(t){return t===null||typeof t!="object"?null:(t=Dm&&t[Dm]||t["@@iterator"],typeof t=="function"?t:null)}var xd;function Qa(t){if(xd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xd=e&&e[1]||""}return`
`+xd+t}var bd=!1;function jo(t,e){if(!t||bd)return"";bd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var i=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){i=l}t.call(e.prototype)}else{try{throw Error()}catch(l){i=l}t()}}catch(l){if(l&&i&&typeof l.stack=="string"){for(var n=l.stack.split(`
`),a=i.stack.split(`
`),s=n.length-1,o=a.length-1;1<=s&&0<=o&&n[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(n[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||n[s]!==a[o])return`
`+n[s].replace(" at new "," at ");while(1<=s&&0<=o);break}}}finally{bd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Qa(t):""}function vE(t){switch(t.tag){case 5:return Qa(t.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 2:case 15:return t=jo(t.type,!1),t;case 11:return t=jo(t.type.render,!1),t;case 22:return t=jo(t.type._render,!1),t;case 1:return t=jo(t.type,!0),t;default:return""}}function Ri(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jr:return"Fragment";case Un:return"Portal";case os:return"Profiler";case Wf:return"StrictMode";case ls:return"Suspense";case Al:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gf:return(t.displayName||"Context")+".Consumer";case $f:return(t._context.displayName||"Context")+".Provider";case xu:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case bu:return Ri(t.type);case Xf:return Ri(t._render);case qf:e=t._payload,t=t._init;try{return Ri(t(e))}catch{}}return null}function gn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function G0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yE(t){var e=G0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vo(t){t._valueTracker||(t._valueTracker=yE(t))}function q0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return t&&(i=G0(t)?t.checked?"true":"false":t.value),t=i,t!==r?(e.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function xc(t,e){var r=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function Mm(t,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=gn(e.value!=null?e.value:r),t._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function X0(t,e){e=e.checked,e!=null&&zf(t,"checked",e,!1)}function bc(t,e){X0(t,e);var r=gn(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ec(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ec(t,e.type,gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ec(t,e,r){(e!=="number"||Il(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function _E(t){var e="";return Su.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function wc(t,e){return t=Me({children:void 0},e),(e=_E(e.children))&&(t.children=e),t}function Ni(t,e,r,i){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&i&&(t[r].defaultSelected=!0)}else{for(r=""+gn(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,i&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function Cc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(G(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(G(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:gn(r)}}function K0(t,e){var r=gn(e.value),i=gn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),i!=null&&(t.defaultValue=""+i)}function Fm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var kc={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Y0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Y0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ho,Q0=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,r,i,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,i,n)})}:t}(function(t,e){if(t.namespaceURI!==kc.svg||"innerHTML"in t)t.innerHTML=e;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ho.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ws(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var us={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TE=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(t){TE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),us[e]=us[t]})});function Z0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||us.hasOwnProperty(t)&&us[t]?(""+e).trim():e+"px"}function J0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=Z0(r,e[r],i);r==="float"&&(r="cssFloat"),i?t.setProperty(r,n):t[r]=n}}var SE=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ac(t,e){if(e){if(SE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Ic(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Qf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lc=null,Fi=null,Ui=null;function Um(t){if(t=Qs(t)){if(typeof Lc!="function")throw Error(G(280));var e=t.stateNode;e&&(e=Au(e),Lc(t.stateNode,t.type,e))}}function ey(t){Fi?Ui?Ui.push(t):Ui=[t]:Fi=t}function ty(){if(Fi){var t=Fi,e=Ui;if(Ui=Fi=null,Um(t),e)for(t=0;t<e.length;t++)Um(e[t])}}function Zf(t,e){return t(e)}function ry(t,e,r,i,n){return t(e,r,i,n)}function Jf(){}var ny=Zf,Bn=!1,Ed=!1;function eh(){(Fi!==null||Ui!==null)&&(Jf(),ty())}function xE(t,e,r){if(Ed)return t(e,r);Ed=!0;try{return ny(t,e,r)}finally{Ed=!1,eh()}}function Cs(t,e){var r=t.stateNode;if(r===null)return null;var i=Au(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(G(231,e,typeof r));return r}var Oc=!1;if(zr)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Oc=!1}function bE(t,e,r,i,n,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var ds=!1,Ll=null,Ol=!1,Dc=null,EE={onError:function(t){ds=!0,Ll=t}};function wE(t,e,r,i,n,a,s,o,l){ds=!1,Ll=null,bE.apply(EE,arguments)}function CE(t,e,r,i,n,a,s,o,l){if(wE.apply(this,arguments),ds){if(ds){var u=Ll;ds=!1,Ll=null}else throw Error(G(198));Ol||(Ol=!0,Dc=u)}}function ii(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function iy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bm(t){if(ii(t)!==t)throw Error(G(188))}function kE(t){var e=t.alternate;if(!e){if(e=ii(t),e===null)throw Error(G(188));return e!==t?null:t}for(var r=t,i=e;;){var n=r.return;if(n===null)break;var a=n.alternate;if(a===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===r)return Bm(n),t;if(a===i)return Bm(n),e;a=a.sibling}throw Error(G(188))}if(r.return!==i.return)r=n,i=a;else{for(var s=!1,o=n.child;o;){if(o===r){s=!0,r=n,i=a;break}if(o===i){s=!0,i=n,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,i=n;break}if(o===i){s=!0,i=a,r=n;break}o=o.sibling}if(!s)throw Error(G(189))}}if(r.alternate!==i)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?t:e}function ay(t){if(t=kE(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function jm(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var sy,th,oy,ly,Mc=!1,vr=[],ln=null,un=null,dn=null,ks=new Map,Ps=new Map,Da=[],Vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(t,e,r,i,n){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:n,targetContainers:[i]}}function Hm(t,e){switch(t){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":ks.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(e.pointerId)}}function Ma(t,e,r,i,n,a){return t===null||t.nativeEvent!==a?(t=Rc(e,r,i,n,a),e!==null&&(e=Qs(e),e!==null&&th(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function PE(t,e,r,i,n){switch(e){case"focusin":return ln=Ma(ln,t,e,r,i,n),!0;case"dragenter":return un=Ma(un,t,e,r,i,n),!0;case"mouseover":return dn=Ma(dn,t,e,r,i,n),!0;case"pointerover":var a=n.pointerId;return ks.set(a,Ma(ks.get(a)||null,t,e,r,i,n)),!0;case"gotpointercapture":return a=n.pointerId,Ps.set(a,Ma(Ps.get(a)||null,t,e,r,i,n)),!0}return!1}function AE(t){var e=jn(t.target);if(e!==null){var r=ii(e);if(r!==null){if(e=r.tag,e===13){if(e=iy(r),e!==null){t.blockedOn=e,ly(t.lanePriority,function(){Ke.unstable_runWithPriority(t.priority,function(){oy(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Qs(r),e!==null&&th(e),t.blockedOn=r,!1;e.shift()}return!0}function zm(t,e,r){fl(t)&&r.delete(e)}function IE(){for(Mc=!1;0<vr.length;){var t=vr[0];if(t.blockedOn!==null){t=Qs(t.blockedOn),t!==null&&sy(t);break}for(var e=t.targetContainers;0<e.length;){var r=ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&vr.shift()}ln!==null&&fl(ln)&&(ln=null),un!==null&&fl(un)&&(un=null),dn!==null&&fl(dn)&&(dn=null),ks.forEach(zm),Ps.forEach(zm)}function Ra(t,e){t.blockedOn===e&&(t.blockedOn=null,Mc||(Mc=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,IE)))}function uy(t){function e(n){return Ra(n,t)}if(0<vr.length){Ra(vr[0],t);for(var r=1;r<vr.length;r++){var i=vr[r];i.blockedOn===t&&(i.blockedOn=null)}}for(ln!==null&&Ra(ln,t),un!==null&&Ra(un,t),dn!==null&&Ra(dn,t),ks.forEach(e),Ps.forEach(e),r=0;r<Da.length;r++)i=Da[r],i.blockedOn===t&&(i.blockedOn=null);for(;0<Da.length&&(r=Da[0],r.blockedOn===null);)AE(r),r.blockedOn===null&&Da.shift()}function zo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wi={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},wd={},dy={};zr&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Eu(t){if(wd[t])return wd[t];if(!wi[t])return t;var e=wi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dy)return wd[t]=e[r];return t}var cy=Eu("animationend"),fy=Eu("animationiteration"),hy=Eu("animationstart"),py=Eu("transitionend"),my=new Map,rh=new Map,LE=["abort","abort",cy,"animationEnd",fy,"animationIteration",hy,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",py,"transitionEnd","waiting","waiting"];function nh(t,e){for(var r=0;r<t.length;r+=2){var i=t[r],n=t[r+1];n="on"+(n[0].toUpperCase()+n.slice(1)),rh.set(i,e),my.set(i,n),ri(n,[i])}}var OE=Ke.unstable_now;OE();var Ee=8;function xi(t){if((1&t)!==0)return Ee=15,1;if((2&t)!==0)return Ee=14,2;if((4&t)!==0)return Ee=13,4;var e=24&t;return e!==0?(Ee=12,e):(t&32)!==0?(Ee=11,32):(e=192&t,e!==0?(Ee=10,e):(t&256)!==0?(Ee=9,256):(e=3584&t,e!==0?(Ee=8,e):(t&4096)!==0?(Ee=7,4096):(e=4186112&t,e!==0?(Ee=6,e):(e=62914560&t,e!==0?(Ee=5,e):t&67108864?(Ee=4,67108864):(t&134217728)!==0?(Ee=3,134217728):(e=805306368&t,e!==0?(Ee=2,e):(1073741824&t)!==0?(Ee=1,1073741824):(Ee=8,t))))))}function DE(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function ME(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(G(358,t))}}function As(t,e){var r=t.pendingLanes;if(r===0)return Ee=0;var i=0,n=0,a=t.expiredLanes,s=t.suspendedLanes,o=t.pingedLanes;if(a!==0)i=a,n=Ee=15;else if(a=r&134217727,a!==0){var l=a&~s;l!==0?(i=xi(l),n=Ee):(o&=a,o!==0&&(i=xi(o),n=Ee))}else a=r&~s,a!==0?(i=xi(a),n=Ee):o!==0&&(i=xi(o),n=Ee);if(i===0)return 0;if(i=31-vn(i),i=r&((0>i?0:1<<i)<<1)-1,e!==0&&e!==i&&(e&s)===0){if(xi(e),n<=Ee)return e;Ee=n}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)r=31-vn(e),n=1<<r,i|=t[r],e&=~n;return i}function gy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dl(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=bi(24&~e),t===0?Dl(10,e):t;case 10:return t=bi(192&~e),t===0?Dl(8,e):t;case 8:return t=bi(3584&~e),t===0&&(t=bi(4186112&~e),t===0&&(t=512)),t;case 2:return e=bi(805306368&~e),e===0&&(e=268435456),e}throw Error(G(358,t))}function bi(t){return t&-t}function Cd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function wu(t,e,r){t.pendingLanes|=e;var i=e-1;t.suspendedLanes&=i,t.pingedLanes&=i,t=t.eventTimes,e=31-vn(e),t[e]=r}var vn=Math.clz32?Math.clz32:FE,RE=Math.log,NE=Math.LN2;function FE(t){return t===0?32:31-(RE(t)/NE|0)|0}var UE=Ke.unstable_UserBlockingPriority,BE=Ke.unstable_runWithPriority,hl=!0;function jE(t,e,r,i){Bn||Jf();var n=ih,a=Bn;Bn=!0;try{ry(n,t,e,r,i)}finally{(Bn=a)||eh()}}function VE(t,e,r,i){BE(UE,ih.bind(null,t,e,r,i))}function ih(t,e,r,i){if(hl){var n;if((n=(e&4)===0)&&0<vr.length&&-1<Vm.indexOf(t))t=Rc(null,t,e,r,i),vr.push(t);else{var a=ah(t,e,r,i);if(a===null)n&&Hm(t,i);else{if(n){if(-1<Vm.indexOf(t)){t=Rc(a,t,e,r,i),vr.push(t);return}if(PE(a,t,e,r,i))return;Hm(t,i)}Ay(t,e,i,null,r)}}}}function ah(t,e,r,i){var n=Qf(i);if(n=jn(n),n!==null){var a=ii(n);if(a===null)n=null;else{var s=a.tag;if(s===13){if(n=iy(a),n!==null)return n;n=null}else if(s===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Ay(t,e,i,n,r),null}var rn=null,sh=null,pl=null;function vy(){if(pl)return pl;var t,e=sh,r=e.length,i,n="value"in rn?rn.value:rn.textContent,a=n.length;for(t=0;t<r&&e[t]===n[t];t++);var s=r-t;for(i=1;i<=s&&e[r-i]===n[a-i];i++);return pl=n.slice(t,1<i?1-i:void 0)}function ml(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wo(){return!0}function Wm(){return!1}function Gt(t){function e(r,i,n,a,s){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wo:Wm,this.isPropagationStopped=Wm,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oh=Gt(ca),Ys=Me({},ca,{view:0,detail:0}),HE=Gt(Ys),kd,Pd,Na,Cu=Me({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Na&&(Na&&t.type==="mousemove"?(kd=t.screenX-Na.screenX,Pd=t.screenY-Na.screenY):Pd=kd=0,Na=t),kd)},movementY:function(t){return"movementY"in t?t.movementY:Pd}}),$m=Gt(Cu),zE=Me({},Cu,{dataTransfer:0}),WE=Gt(zE),$E=Me({},Ys,{relatedTarget:0}),Ad=Gt($E),GE=Me({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),qE=Gt(GE),XE=Me({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KE=Gt(XE),YE=Me({},ca,{data:0}),Gm=Gt(YE),QE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ew(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JE[t])?!!e[t]:!1}function lh(){return ew}var tw=Me({},Ys,{key:function(t){if(t.key){var e=QE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(t){return t.type==="keypress"?ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rw=Gt(tw),nw=Me({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qm=Gt(nw),iw=Me({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),aw=Gt(iw),sw=Me({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),ow=Gt(sw),lw=Me({},Cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uw=Gt(lw),dw=[9,13,27,32],uh=zr&&"CompositionEvent"in window,cs=null;zr&&"documentMode"in document&&(cs=document.documentMode);var cw=zr&&"TextEvent"in window&&!cs,yy=zr&&(!uh||cs&&8<cs&&11>=cs),Xm=String.fromCharCode(32),Km=!1;function _y(t,e){switch(t){case"keyup":return dw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ci=!1;function fw(t,e){switch(t){case"compositionend":return Ty(e);case"keypress":return e.which!==32?null:(Km=!0,Xm);case"textInput":return t=e.data,t===Xm&&Km?null:t;default:return null}}function hw(t,e){if(Ci)return t==="compositionend"||!uh&&_y(t,e)?(t=vy(),pl=sh=rn=null,Ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yy&&e.locale!=="ko"?null:e.data;default:return null}}var pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pw[t.type]:e==="textarea"}function Sy(t,e,r,i){ey(i),e=Ml(e,"onChange"),0<e.length&&(r=new oh("onChange","change",null,r,i),t.push({event:r,listeners:e}))}var fs=null,Is=null;function mw(t){Cy(t,0)}function ku(t){var e=Pi(t);if(q0(e))return t}function gw(t,e){if(t==="change")return e}var xy=!1;if(zr){var Id;if(zr){var Ld="oninput"in document;if(!Ld){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),Ld=typeof Qm.oninput=="function"}Id=Ld}else Id=!1;xy=Id&&(!document.documentMode||9<document.documentMode)}function Zm(){fs&&(fs.detachEvent("onpropertychange",by),Is=fs=null)}function by(t){if(t.propertyName==="value"&&ku(Is)){var e=[];if(Sy(e,Is,t,Qf(t)),t=mw,Bn)t(e);else{Bn=!0;try{Zf(t,e)}finally{Bn=!1,eh()}}}}function vw(t,e,r){t==="focusin"?(Zm(),fs=e,Is=r,fs.attachEvent("onpropertychange",by)):t==="focusout"&&Zm()}function yw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Is)}function _w(t,e){if(t==="click")return ku(e)}function Tw(t,e){if(t==="input"||t==="change")return ku(e)}function Sw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kt=typeof Object.is=="function"?Object.is:Sw,xw=Object.prototype.hasOwnProperty;function Ls(t,e){if(Kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++)if(!xw.call(e,r[i])||!Kt(t[r[i]],e[r[i]]))return!1;return!0}function Jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eg(t,e){var r=Jm(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=e&&i>=e)return{node:r,offset:e-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jm(r)}}function Ey(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ey(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tg(){for(var t=window,e=Il();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Il(t.document)}return e}function Nc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var bw=zr&&"documentMode"in document&&11>=document.documentMode,ki=null,Fc=null,hs=null,Uc=!1;function rg(t,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uc||ki==null||ki!==Il(i)||(i=ki,"selectionStart"in i&&Nc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),hs&&Ls(hs,i)||(hs=i,i=Ml(Fc,"onSelect"),0<i.length&&(e=new oh("onSelect","select",null,e,r),t.push({event:e,listeners:i}),e.target=ki)))}nh("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);nh("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);nh(LE,2);for(var ng="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Od=0;Od<ng.length;Od++)rh.set(ng[Od],0);Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function ig(t,e,r){var i=t.type||"unknown-event";t.currentTarget=r,CE(i,e,void 0,t),t.currentTarget=null}function Cy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],n=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&n.isPropagationStopped())break e;ig(n,o,u),a=l}else for(s=0;s<i.length;s++){if(o=i[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&n.isPropagationStopped())break e;ig(n,o,u),a=l}}}if(Ol)throw t=Dc,Ol=!1,Dc=null,t}function Pe(t,e){var r=Ly(e),i=t+"__bubble";r.has(i)||(Py(e,t,2,!1),r.add(i))}var ag="_reactListening"+Math.random().toString(36).slice(2);function ky(t){t[ag]||(t[ag]=!0,W0.forEach(function(e){wy.has(e)||sg(e,!1,t,null),sg(e,!0,t,null)}))}function sg(t,e,r,i){var n=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),i!==null&&!e&&wy.has(t)){if(t!=="scroll")return;n|=2,a=i}var s=Ly(a),o=t+"__"+(e?"capture":"bubble");s.has(o)||(e&&(n|=4),Py(a,t,n,e),s.add(o))}function Py(t,e,r,i){var n=rh.get(e);switch(n===void 0?2:n){case 0:n=jE;break;case 1:n=VE;break;default:n=ih}r=n.bind(null,e,r,t),n=void 0,!Oc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),i?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function Ay(t,e,r,i,n){var a=i;if((e&1)===0&&(e&2)===0&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;s=s.return}for(;o!==null;){if(s=jn(o),s===null)return;if(l=s.tag,l===5||l===6){i=a=s;continue e}o=o.parentNode}}i=i.return}xE(function(){var u=a,d=Qf(r),h=[];e:{var f=my.get(t);if(f!==void 0){var y=oh,x=t;switch(t){case"keypress":if(ml(r)===0)break e;case"keydown":case"keyup":y=rw;break;case"focusin":x="focus",y=Ad;break;case"focusout":x="blur",y=Ad;break;case"beforeblur":case"afterblur":y=Ad;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=WE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=aw;break;case cy:case fy:case hy:y=qE;break;case py:y=ow;break;case"scroll":y=HE;break;case"wheel":y=uw;break;case"copy":case"cut":case"paste":y=KE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=qm}var S=(e&4)!==0,v=!S&&t==="scroll",_=S?f!==null?f+"Capture":null:f;S=[];for(var E=u,C;E!==null;){C=E;var P=C.stateNode;if(C.tag===5&&P!==null&&(C=P,_!==null&&(P=Cs(E,_),P!=null&&S.push(Os(E,P,C)))),v)break;E=E.return}0<S.length&&(f=new y(f,x,null,r,d),h.push({event:f,listeners:S}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&(e&16)===0&&(x=r.relatedTarget||r.fromElement)&&(jn(x)||x[fa]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?jn(x):null,x!==null&&(v=ii(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(S=$m,P="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(S=qm,P="onPointerLeave",_="onPointerEnter",E="pointer"),v=y==null?f:Pi(y),C=x==null?f:Pi(x),f=new S(P,E+"leave",y,r,d),f.target=v,f.relatedTarget=C,P=null,jn(d)===u&&(S=new S(_,E+"enter",x,r,d),S.target=C,S.relatedTarget=v,P=S),v=P,y&&x)t:{for(S=y,_=x,E=0,C=S;C;C=hi(C))E++;for(C=0,P=_;P;P=hi(P))C++;for(;0<E-C;)S=hi(S),E--;for(;0<C-E;)_=hi(_),C--;for(;E--;){if(S===_||_!==null&&S===_.alternate)break t;S=hi(S),_=hi(_)}S=null}else S=null;y!==null&&og(h,f,y,S,!1),x!==null&&v!==null&&og(h,v,x,S,!0)}}e:{if(f=u?Pi(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var M=gw;else if(Ym(f))if(xy)M=Tw;else{M=yw;var D=vw}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=_w);if(M&&(M=M(t,u))){Sy(h,M,r,d);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Ec(f,"number",f.value)}switch(D=u?Pi(u):window,t){case"focusin":(Ym(D)||D.contentEditable==="true")&&(ki=D,Fc=u,hs=null);break;case"focusout":hs=Fc=ki=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,rg(h,r,d);break;case"selectionchange":if(bw)break;case"keydown":case"keyup":rg(h,r,d)}var j;if(uh)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ci?_y(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(yy&&r.locale!=="ko"&&(Ci||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ci&&(j=vy()):(rn=d,sh="value"in rn?rn.value:rn.textContent,Ci=!0)),D=Ml(u,N),0<D.length&&(N=new Gm(N,t,null,r,d),h.push({event:N,listeners:D}),j?N.data=j:(j=Ty(r),j!==null&&(N.data=j)))),(j=cw?fw(t,r):hw(t,r))&&(u=Ml(u,"onBeforeInput"),0<u.length&&(d=new Gm("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}Cy(h,e)})}function Os(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ml(t,e){for(var r=e+"Capture",i=[];t!==null;){var n=t,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=Cs(t,r),a!=null&&i.unshift(Os(t,a,n)),a=Cs(t,e),a!=null&&i.push(Os(t,a,n))),t=t.return}return i}function hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function og(t,e,r,i,n){for(var a=e._reactName,s=[];r!==null&&r!==i;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&u!==null&&(o=u,n?(l=Cs(r,a),l!=null&&s.unshift(Os(r,l,o))):n||(l=Cs(r,a),l!=null&&s.push(Os(r,l,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}function Rl(){}var Dd=null,Md=null;function Iy(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Bc(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lg=typeof setTimeout=="function"?setTimeout:void 0,Ew=typeof clearTimeout=="function"?clearTimeout:void 0;function dh(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function ug(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Rd=0;function ww(t){return{$$typeof:Kf,toString:t,valueOf:t}}var Pu=Math.random().toString(36).slice(2),nn="__reactFiber$"+Pu,Nl="__reactProps$"+Pu,fa="__reactContainer$"+Pu,dg="__reactEvents$"+Pu;function jn(t){var e=t[nn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fa]||r[nn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ug(t);t!==null;){if(r=t[nn])return r;t=ug(t)}return e}t=r,r=t.parentNode}return null}function Qs(t){return t=t[nn]||t[fa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Au(t){return t[Nl]||null}function Ly(t){var e=t[dg];return e===void 0&&(e=t[dg]=new Set),e}var jc=[],Ai=-1;function En(t){return{current:t}}function Ie(t){0>Ai||(t.current=jc[Ai],jc[Ai]=null,Ai--)}function Ue(t,e){Ai++,jc[Ai]=t.current,t.current=e}var yn={},ct=En(yn),At=En(!1),Yn=yn;function Ki(t,e){var r=t.type.contextTypes;if(!r)return yn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in r)n[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function It(t){return t=t.childContextTypes,t!=null}function Fl(){Ie(At),Ie(ct)}function cg(t,e,r){if(ct.current!==yn)throw Error(G(168));Ue(ct,e),Ue(At,r)}function Oy(t,e,r){var i=t.stateNode;if(t=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in t))throw Error(G(108,Ri(e)||"Unknown",n));return Me({},r,i)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yn,Yn=ct.current,Ue(ct,t),Ue(At,At.current),!0}function fg(t,e,r){var i=t.stateNode;if(!i)throw Error(G(169));r?(t=Oy(t,e,Yn),i.__reactInternalMemoizedMergedChildContext=t,Ie(At),Ie(ct),Ue(ct,t)):Ie(At),Ue(At,r)}var ch=null,$n=null,Cw=Ke.unstable_runWithPriority,fh=Ke.unstable_scheduleCallback,Vc=Ke.unstable_cancelCallback,kw=Ke.unstable_shouldYield,hg=Ke.unstable_requestPaint,Hc=Ke.unstable_now,Pw=Ke.unstable_getCurrentPriorityLevel,Iu=Ke.unstable_ImmediatePriority,Dy=Ke.unstable_UserBlockingPriority,My=Ke.unstable_NormalPriority,Ry=Ke.unstable_LowPriority,Ny=Ke.unstable_IdlePriority,Nd={},Aw=hg!==void 0?hg:function(){},Dr=null,vl=null,Fd=!1,pg=Hc(),lt=1e4>pg?Hc:function(){return Hc()-pg};function Yi(){switch(Pw()){case Iu:return 99;case Dy:return 98;case My:return 97;case Ry:return 96;case Ny:return 95;default:throw Error(G(332))}}function Fy(t){switch(t){case 99:return Iu;case 98:return Dy;case 97:return My;case 96:return Ry;case 95:return Ny;default:throw Error(G(332))}}function Qn(t,e){return t=Fy(t),Cw(t,e)}function Ds(t,e,r){return t=Fy(t),fh(t,e,r)}function kr(){if(vl!==null){var t=vl;vl=null,Vc(t)}Uy()}function Uy(){if(!Fd&&Dr!==null){Fd=!0;var t=0;try{var e=Dr;Qn(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Dr=null}catch(r){throw Dr!==null&&(Dr=Dr.slice(t+1)),fh(Iu,kr),r}finally{Fd=!1}}}var Iw=ni.ReactCurrentBatchConfig;function ar(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ul=En(null),Bl=null,Ii=null,jl=null;function hh(){jl=Ii=Bl=null}function ph(t){var e=Ul.current;Ie(Ul),t.type._context._currentValue=e}function By(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function ji(t,e){Bl=t,jl=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(or=!0),t.firstContext=null)}function Jt(t,e){if(jl!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(jl=t,e=1073741823),e={context:t,observedBits:e,next:null},Ii===null){if(Bl===null)throw Error(G(308));Ii=e,Bl.dependencies={lanes:0,firstContext:e,responders:null}}else Ii=Ii.next=e;return t._currentValue}var Zr=!1;function mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function jy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function mg(t,e){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?n=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?n=a=e:a=a.next=e}else n=a=e;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ms(t,e,r,i){var n=t.updateQueue;Zr=!1;var a=n.firstBaseUpdate,s=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=t.alternate;if(d!==null){d=d.updateQueue;var h=d.lastBaseUpdate;h!==s&&(h===null?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=l)}}if(a!==null){h=n.baseState,s=0,d=u=l=null;do{o=a.lane;var f=a.eventTime;if((i&o)===o){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(o=e,f=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(f,h,o);break e}h=y;break e;case 3:y.flags=y.flags&-4097|64;case 0:if(y=x.payload,o=typeof y=="function"?y.call(f,h,o):y,o==null)break e;h=Me({},h,o);break e;case 2:Zr=!0}}a.callback!==null&&(t.flags|=32,o=n.effects,o===null?n.effects=[a]:o.push(a))}else f={eventTime:f,lane:o,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=f,l=h):d=d.next=f,s|=o;if(a=a.next,a===null){if(o=n.shared.pending,o===null)break;a=o.next,o.next=null,n.lastBaseUpdate=o,n.shared.pending=null}}while(1);d===null&&(l=h),n.baseState=l,n.firstBaseUpdate=u,n.lastBaseUpdate=d,Js|=s,t.lanes=s,t.memoizedState=h}}function gg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(G(191,n));n.call(i)}}}var Vy=new Su.Component().refs;function Vl(t,e,r,i){e=t.memoizedState,r=r(i,e),r=r==null?e:Me({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lu={isMounted:function(t){return(t=t._reactInternals)?ii(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var i=zt(),n=hn(t),a=cn(i,n);a.payload=e,r!=null&&(a.callback=r),fn(t,a),pn(t,n,i)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var i=zt(),n=hn(t),a=cn(i,n);a.tag=1,a.payload=e,r!=null&&(a.callback=r),fn(t,a),pn(t,n,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zt(),i=hn(t),n=cn(r,i);n.tag=2,e!=null&&(n.callback=e),fn(t,n),pn(t,i,r)}};function vg(t,e,r,i,n,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!Ls(r,i)||!Ls(n,a):!0}function Hy(t,e,r){var i=!1,n=yn,a=e.contextType;return typeof a=="object"&&a!==null?a=Jt(a):(n=It(e)?Yn:ct.current,i=e.contextTypes,a=(i=i!=null)?Ki(t,n):yn),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lu,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=a),e}function yg(t,e,r,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==t&&Lu.enqueueReplaceState(e,e.state,null)}function zc(t,e,r,i){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs=Vy,mh(t);var a=e.contextType;typeof a=="object"&&a!==null?n.context=Jt(a):(a=It(e)?Yn:ct.current,n.context=Ki(t,a)),Ms(t,r,n,i),n.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Vl(t,e,a,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Lu.enqueueReplaceState(n,n.state,null),Ms(t,r,n,i),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4)}var $o=Array.isArray;function Fa(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var i=r.stateNode}if(!i)throw Error(G(147,t));var n=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===n?e.ref:(e=function(a){var s=i.refs;s===Vy&&(s=i.refs={}),a===null?delete s[n]:s[n]=a},e._stringRef=n,e)}if(typeof t!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,t))}return t}function Go(t,e){if(t.type!=="textarea")throw Error(G(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function zy(t){function e(v,_){if(t){var E=v.lastEffect;E!==null?(E.nextEffect=_,v.lastEffect=_):v.firstEffect=v.lastEffect=_,_.nextEffect=null,_.flags=8}}function r(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function i(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function n(v,_){return v=Tn(v,_),v.index=0,v.sibling=null,v}function a(v,_,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<_?(v.flags=2,_):E):(v.flags=2,_)):_}function s(v){return t&&v.alternate===null&&(v.flags=2),v}function o(v,_,E,C){return _===null||_.tag!==6?(_=Hd(E,v.mode,C),_.return=v,_):(_=n(_,E),_.return=v,_)}function l(v,_,E,C){return _!==null&&_.elementType===E.type?(C=n(_,E.props),C.ref=Fa(v,_,E),C.return=v,C):(C=Sl(E.type,E.key,E.props,null,v.mode,C),C.ref=Fa(v,_,E),C.return=v,C)}function u(v,_,E,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=zd(E,v.mode,C),_.return=v,_):(_=n(_,E.children||[]),_.return=v,_)}function d(v,_,E,C,P){return _===null||_.tag!==7?(_=Wi(E,v.mode,C,P),_.return=v,_):(_=n(_,E),_.return=v,_)}function h(v,_,E){if(typeof _=="string"||typeof _=="number")return _=Hd(""+_,v.mode,E),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ya:return E=Sl(_.type,_.key,_.props,null,v.mode,E),E.ref=Fa(v,null,_),E.return=v,E;case Un:return _=zd(_,v.mode,E),_.return=v,_}if($o(_)||La(_))return _=Wi(_,v.mode,E,null),_.return=v,_;Go(v,_)}return null}function f(v,_,E,C){var P=_!==null?_.key:null;if(typeof E=="string"||typeof E=="number")return P!==null?null:o(v,_,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ya:return E.key===P?E.type===Jr?d(v,_,E.props.children,C,P):l(v,_,E,C):null;case Un:return E.key===P?u(v,_,E,C):null}if($o(E)||La(E))return P!==null?null:d(v,_,E,C,null);Go(v,E)}return null}function y(v,_,E,C,P){if(typeof C=="string"||typeof C=="number")return v=v.get(E)||null,o(_,v,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ya:return v=v.get(C.key===null?E:C.key)||null,C.type===Jr?d(_,v,C.props.children,P,C.key):l(_,v,C,P);case Un:return v=v.get(C.key===null?E:C.key)||null,u(_,v,C,P)}if($o(C)||La(C))return v=v.get(E)||null,d(_,v,C,P,null);Go(_,C)}return null}function x(v,_,E,C){for(var P=null,M=null,D=_,j=_=0,N=null;D!==null&&j<E.length;j++){D.index>j?(N=D,D=null):N=D.sibling;var F=f(v,D,E[j],C);if(F===null){D===null&&(D=N);break}t&&D&&F.alternate===null&&e(v,D),_=a(F,_,j),M===null?P=F:M.sibling=F,M=F,D=N}if(j===E.length)return r(v,D),P;if(D===null){for(;j<E.length;j++)D=h(v,E[j],C),D!==null&&(_=a(D,_,j),M===null?P=D:M.sibling=D,M=D);return P}for(D=i(v,D);j<E.length;j++)N=y(D,v,j,E[j],C),N!==null&&(t&&N.alternate!==null&&D.delete(N.key===null?j:N.key),_=a(N,_,j),M===null?P=N:M.sibling=N,M=N);return t&&D.forEach(function(B){return e(v,B)}),P}function S(v,_,E,C){var P=La(E);if(typeof P!="function")throw Error(G(150));if(E=P.call(E),E==null)throw Error(G(151));for(var M=P=null,D=_,j=_=0,N=null,F=E.next();D!==null&&!F.done;j++,F=E.next()){D.index>j?(N=D,D=null):N=D.sibling;var B=f(v,D,F.value,C);if(B===null){D===null&&(D=N);break}t&&D&&B.alternate===null&&e(v,D),_=a(B,_,j),M===null?P=B:M.sibling=B,M=B,D=N}if(F.done)return r(v,D),P;if(D===null){for(;!F.done;j++,F=E.next())F=h(v,F.value,C),F!==null&&(_=a(F,_,j),M===null?P=F:M.sibling=F,M=F);return P}for(D=i(v,D);!F.done;j++,F=E.next())F=y(D,v,j,F.value,C),F!==null&&(t&&F.alternate!==null&&D.delete(F.key===null?j:F.key),_=a(F,_,j),M===null?P=F:M.sibling=F,M=F);return t&&D.forEach(function(z){return e(v,z)}),P}return function(v,_,E,C){var P=typeof E=="object"&&E!==null&&E.type===Jr&&E.key===null;P&&(E=E.props.children);var M=typeof E=="object"&&E!==null;if(M)switch(E.$$typeof){case Ya:e:{for(M=E.key,P=_;P!==null;){if(P.key===M){switch(P.tag){case 7:if(E.type===Jr){r(v,P.sibling),_=n(P,E.props.children),_.return=v,v=_;break e}break;default:if(P.elementType===E.type){r(v,P.sibling),_=n(P,E.props),_.ref=Fa(v,P,E),_.return=v,v=_;break e}}r(v,P);break}else e(v,P);P=P.sibling}E.type===Jr?(_=Wi(E.props.children,v.mode,C,E.key),_.return=v,v=_):(C=Sl(E.type,E.key,E.props,null,v.mode,C),C.ref=Fa(v,_,E),C.return=v,v=C)}return s(v);case Un:e:{for(P=E.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){r(v,_.sibling),_=n(_,E.children||[]),_.return=v,v=_;break e}else{r(v,_);break}else e(v,_);_=_.sibling}_=zd(E,v.mode,C),_.return=v,v=_}return s(v)}if(typeof E=="string"||typeof E=="number")return E=""+E,_!==null&&_.tag===6?(r(v,_.sibling),_=n(_,E),_.return=v,v=_):(r(v,_),_=Hd(E,v.mode,C),_.return=v,v=_),s(v);if($o(E))return x(v,_,E,C);if(La(E))return S(v,_,E,C);if(M&&Go(v,E),typeof E=="undefined"&&!P)switch(v.tag){case 1:case 22:case 0:case 11:case 15:throw Error(G(152,Ri(v.type)||"Component"))}return r(v,_)}}var Hl=zy(!0),Wy=zy(!1),Zs={},br=En(Zs),Rs=En(Zs),Ns=En(Zs);function Vn(t){if(t===Zs)throw Error(G(174));return t}function Wc(t,e){switch(Ue(Ns,e),Ue(Rs,t),Ue(br,Zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pc(e,t)}Ie(br),Ue(br,e)}function Qi(){Ie(br),Ie(Rs),Ie(Ns)}function _g(t){Vn(Ns.current);var e=Vn(br.current),r=Pc(e,t.type);e!==r&&(Ue(Rs,t),Ue(br,r))}function gh(t){Rs.current===t&&(Ie(br),Ie(Rs))}var Fe=En(0);function zl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fr=null,an=null,Er=!1;function $y(t,e){var r=Yt(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Tg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function $c(t){if(Er){var e=an;if(e){var r=e;if(!Tg(t,e)){if(e=Bi(r.nextSibling),!e||!Tg(t,e)){t.flags=t.flags&-1025|2,Er=!1,Fr=t;return}$y(Fr,r)}Fr=t,an=Bi(e.firstChild)}else t.flags=t.flags&-1025|2,Er=!1,Fr=t}}function Sg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fr=t}function qo(t){if(t!==Fr)return!1;if(!Er)return Sg(t),Er=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Bc(e,t.memoizedProps))for(e=an;e;)$y(t,e),e=Bi(e.nextSibling);if(Sg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){an=Bi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}an=null}}else an=Fr?Bi(t.stateNode.nextSibling):null;return!0}function Ud(){an=Fr=null,Er=!1}var Vi=[];function vh(){for(var t=0;t<Vi.length;t++)Vi[t]._workInProgressVersionPrimary=null;Vi.length=0}var ps=ni.ReactCurrentDispatcher,Qt=ni.ReactCurrentBatchConfig,Fs=0,He=null,st=null,rt=null,Wl=!1,ms=!1;function wt(){throw Error(G(321))}function yh(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Kt(t[r],e[r]))return!1;return!0}function _h(t,e,r,i,n,a){if(Fs=a,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ps.current=t===null||t.memoizedState===null?Ow:Dw,t=r(i,n),ms){a=0;do{if(ms=!1,!(25>a))throw Error(G(301));a+=1,rt=st=null,e.updateQueue=null,ps.current=Mw,t=r(i,n)}while(ms)}if(ps.current=Xl,e=st!==null&&st.next!==null,Fs=0,rt=st=He=null,Wl=!1,e)throw Error(G(300));return t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?He.memoizedState=rt=t:rt=rt.next=t,rt}function ai(){if(st===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=rt===null?He.memoizedState:rt.next;if(e!==null)rt=e,st=t;else{if(t===null)throw Error(G(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},rt===null?He.memoizedState=rt=t:rt=rt.next=t}return rt}function yr(t,e){return typeof e=="function"?e(t):e}function Ua(t){var e=ai(),r=e.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var i=st,n=i.baseQueue,a=r.pending;if(a!==null){if(n!==null){var s=n.next;n.next=a.next,a.next=s}i.baseQueue=n=a,r.pending=null}if(n!==null){n=n.next,i=i.baseState;var o=s=a=null,l=n;do{var u=l.lane;if((Fs&u)===u)o!==null&&(o=o.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),i=l.eagerReducer===t?l.eagerState:t(i,l.action);else{var d={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};o===null?(s=o=d,a=i):o=o.next=d,He.lanes|=u,Js|=u}l=l.next}while(l!==null&&l!==n);o===null?a=i:o.next=s,Kt(i,e.memoizedState)||(or=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=o,r.lastRenderedState=i}return[e.memoizedState,r.dispatch]}function Ba(t){var e=ai(),r=e.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var i=r.dispatch,n=r.pending,a=e.memoizedState;if(n!==null){r.pending=null;var s=n=n.next;do a=t(a,s.action),s=s.next;while(s!==n);Kt(a,e.memoizedState)||(or=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,i]}function xg(t,e,r){var i=e._getVersion;i=i(e._source);var n=e._workInProgressVersionPrimary;if(n!==null?t=n===i:(t=t.mutableReadLanes,(t=(Fs&t)===t)&&(e._workInProgressVersionPrimary=i,Vi.push(e))),t)return r(e._source);throw Vi.push(e),Error(G(350))}function Gy(t,e,r,i){var n=bt;if(n===null)throw Error(G(349));var a=e._getVersion,s=a(e._source),o=ps.current,l=o.useState(function(){return xg(n,e,r)}),u=l[1],d=l[0];l=rt;var h=t.memoizedState,f=h.refs,y=f.getSnapshot,x=h.source;h=h.subscribe;var S=He;return t.memoizedState={refs:f,source:e,subscribe:i},o.useEffect(function(){f.getSnapshot=r,f.setSnapshot=u;var v=a(e._source);if(!Kt(s,v)){v=r(e._source),Kt(d,v)||(u(v),v=hn(S),n.mutableReadLanes|=v&n.pendingLanes),v=n.mutableReadLanes,n.entangledLanes|=v;for(var _=n.entanglements,E=v;0<E;){var C=31-vn(E),P=1<<C;_[C]|=v,E&=~P}}},[r,e,i]),o.useEffect(function(){return i(e._source,function(){var v=f.getSnapshot,_=f.setSnapshot;try{_(v(e._source));var E=hn(S);n.mutableReadLanes|=E&n.pendingLanes}catch(C){_(function(){throw C})}})},[e,i]),Kt(y,r)&&Kt(x,e)&&Kt(h,i)||(t={pending:null,dispatch:null,lastRenderedReducer:yr,lastRenderedState:d},t.dispatch=u=xh.bind(null,He,t),l.queue=t,l.baseQueue=null,d=xg(n,e,r),l.memoizedState=l.baseState=d),d}function qy(t,e,r){var i=ai();return Gy(i,t,e,r)}function ja(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:yr,lastRenderedState:t},t=t.dispatch=xh.bind(null,He,t),[e.memoizedState,t]}function $l(t,e,r,i){return t={tag:t,create:e,destroy:r,deps:i,next:null},e=He.updateQueue,e===null?(e={lastEffect:null},He.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,e.lastEffect=t)),t}function bg(t){var e=Hn();return t={current:t},e.memoizedState=t}function Gl(){return ai().memoizedState}function Gc(t,e,r,i){var n=Hn();He.flags|=t,n.memoizedState=$l(1|e,r,void 0,i===void 0?null:i)}function Th(t,e,r,i){var n=ai();i=i===void 0?null:i;var a=void 0;if(st!==null){var s=st.memoizedState;if(a=s.destroy,i!==null&&yh(i,s.deps)){$l(e,r,a,i);return}}He.flags|=t,n.memoizedState=$l(1|e,r,a,i)}function Eg(t,e){return Gc(516,4,t,e)}function ql(t,e){return Th(516,4,t,e)}function Xy(t,e){return Th(4,2,t,e)}function Ky(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yy(t,e,r){return r=r!=null?r.concat([t]):null,Th(4,2,Ky.bind(null,e,t),r)}function Sh(){}function Qy(t,e){var r=ai();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&yh(e,i[1])?i[0]:(r.memoizedState=[t,e],t)}function Zy(t,e){var r=ai();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&yh(e,i[1])?i[0]:(t=t(),r.memoizedState=[t,e],t)}function Lw(t,e){var r=Yi();Qn(98>r?98:r,function(){t(!0)}),Qn(97<r?97:r,function(){var i=Qt.transition;Qt.transition=1;try{t(!1),e()}finally{Qt.transition=i}})}function xh(t,e,r){var i=zt(),n=hn(t),a={lane:n,action:r,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a,s=t.alternate,t===He||s!==null&&s===He)ms=Wl=!0;else{if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(a.eagerReducer=s,a.eagerState=l,Kt(l,o))return}catch{}finally{}pn(t,n,i)}}var Xl={readContext:Jt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useOpaqueIdentifier:wt,unstable_isNewReconciler:!1},Ow={readContext:Jt,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:Eg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gc(4,2,Ky.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gc(4,2,t,e)},useMemo:function(t,e){var r=Hn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var i=Hn();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,t=i.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=xh.bind(null,He,t),[i.memoizedState,t]},useRef:bg,useState:ja,useDebugValue:Sh,useDeferredValue:function(t){var e=ja(t),r=e[0],i=e[1];return Eg(function(){var n=Qt.transition;Qt.transition=1;try{i(t)}finally{Qt.transition=n}},[t]),r},useTransition:function(){var t=ja(!1),e=t[0];return t=Lw.bind(null,t[1]),bg(t),[t,e]},useMutableSource:function(t,e,r){var i=Hn();return i.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},Gy(i,t,e,r)},useOpaqueIdentifier:function(){if(Er){var t=!1,e=ww(function(){throw t||(t=!0,r("r:"+(Rd++).toString(36))),Error(G(355))}),r=ja(e)[1];return(He.mode&2)===0&&(He.flags|=516,$l(5,function(){r("r:"+(Rd++).toString(36))},void 0,null)),e}return e="r:"+(Rd++).toString(36),ja(e),e},unstable_isNewReconciler:!1},Dw={readContext:Jt,useCallback:Qy,useContext:Jt,useEffect:ql,useImperativeHandle:Yy,useLayoutEffect:Xy,useMemo:Zy,useReducer:Ua,useRef:Gl,useState:function(){return Ua(yr)},useDebugValue:Sh,useDeferredValue:function(t){var e=Ua(yr),r=e[0],i=e[1];return ql(function(){var n=Qt.transition;Qt.transition=1;try{i(t)}finally{Qt.transition=n}},[t]),r},useTransition:function(){var t=Ua(yr)[0];return[Gl().current,t]},useMutableSource:qy,useOpaqueIdentifier:function(){return Ua(yr)[0]},unstable_isNewReconciler:!1},Mw={readContext:Jt,useCallback:Qy,useContext:Jt,useEffect:ql,useImperativeHandle:Yy,useLayoutEffect:Xy,useMemo:Zy,useReducer:Ba,useRef:Gl,useState:function(){return Ba(yr)},useDebugValue:Sh,useDeferredValue:function(t){var e=Ba(yr),r=e[0],i=e[1];return ql(function(){var n=Qt.transition;Qt.transition=1;try{i(t)}finally{Qt.transition=n}},[t]),r},useTransition:function(){var t=Ba(yr)[0];return[Gl().current,t]},useMutableSource:qy,useOpaqueIdentifier:function(){return Ba(yr)[0]},unstable_isNewReconciler:!1},Rw=ni.ReactCurrentOwner,or=!1;function kt(t,e,r,i){e.child=t===null?Wy(e,null,r,i):Hl(e,t.child,r,i)}function wg(t,e,r,i,n){r=r.render;var a=e.ref;return ji(e,n),i=_h(t,e,r,i,a,n),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~n,Ur(t,e,n)):(e.flags|=1,kt(t,e,i,n),e.child)}function Cg(t,e,r,i,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!Ph(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Jy(t,e,s,i,n,a)):(t=Sl(r.type,null,i,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return s=t.child,(n&a)===0&&(n=s.memoizedProps,r=r.compare,r=r!==null?r:Ls,r(n,i)&&t.ref===e.ref)?Ur(t,e,a):(e.flags|=1,t=Tn(s,i),t.ref=e.ref,t.return=e,e.child=t)}function Jy(t,e,r,i,n,a){if(t!==null&&Ls(t.memoizedProps,i)&&t.ref===e.ref)if(or=!1,(a&n)!==0)(t.flags&16384)!==0&&(or=!0);else return e.lanes=t.lanes,Ur(t,e,a);return qc(t,e,r,i,a)}function Bd(t,e,r){var i=e.pendingProps,n=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden"||i.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Ko(e,r);else if((r&1073741824)!==0)e.memoizedState={baseLanes:0},Ko(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Ko(e,t),null;else a!==null?(i=a.baseLanes|r,e.memoizedState=null):i=r,Ko(e,i);return kt(t,e,n,r),e.child}function e_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function qc(t,e,r,i,n){var a=It(r)?Yn:ct.current;return a=Ki(e,a),ji(e,n),r=_h(t,e,r,i,a,n),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~n,Ur(t,e,n)):(e.flags|=1,kt(t,e,r,n),e.child)}function kg(t,e,r,i,n){if(It(r)){var a=!0;gl(e)}else a=!1;if(ji(e,n),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Hy(e,r,i),zc(e,r,i,n),i=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=It(r)?Yn:ct.current,u=Ki(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==i||l!==u)&&yg(e,s,i,u),Zr=!1;var f=e.memoizedState;s.state=f,Ms(e,i,s,n),l=e.memoizedState,o!==i||f!==l||At.current||Zr?(typeof d=="function"&&(Vl(e,r,d,i),l=e.memoizedState),(o=Zr||vg(e,r,o,i,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=u,i=o):(typeof s.componentDidMount=="function"&&(e.flags|=4),i=!1)}else{s=e.stateNode,jy(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ar(e.type,o),s.props=u,h=e.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Jt(l):(l=It(r)?Yn:ct.current,l=Ki(e,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||f!==l)&&yg(e,s,i,l),Zr=!1,f=e.memoizedState,s.state=f,Ms(e,i,s,n);var x=e.memoizedState;o!==h||f!==x||At.current||Zr?(typeof y=="function"&&(Vl(e,r,y,i),x=e.memoizedState),(u=Zr||vg(e,r,u,i,f,x,l))?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,x,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=i,e.memoizedState=x),s.props=i,s.state=x,s.context=l,i=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),i=!1)}return Xc(t,e,r,i,a,n)}function Xc(t,e,r,i,n,a){e_(t,e);var s=(e.flags&64)!==0;if(!i&&!s)return n&&fg(e,r,!1),Ur(t,e,a);i=e.stateNode,Rw.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=Hl(e,t.child,null,a),e.child=Hl(e,null,o,a)):kt(t,e,o,a),e.memoizedState=i.state,n&&fg(e,r,!0),e.child}function Pg(t){var e=t.stateNode;e.pendingContext?cg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cg(t,e.context,!1),Wc(t,e.containerInfo)}var Xo={dehydrated:null,retryLane:0};function Ag(t,e,r){var i=e.pendingProps,n=Fe.current,a=!1,s;return(s=(e.flags&64)!==0)||(s=t!==null&&t.memoizedState===null?!1:(n&2)!==0),s?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(n|=1),Ue(Fe,n&1),t===null?(i.fallback!==void 0&&$c(e),t=i.children,n=i.fallback,a?(t=Ig(e,t,n,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Xo,t):typeof i.unstable_expectedLoadTime=="number"?(t=Ig(e,t,n,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Xo,e.lanes=33554432,t):(r=Ah({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(i=Og(t,e,i.children,i.fallback,r),a=e.child,n=t.child.memoizedState,a.memoizedState=n===null?{baseLanes:r}:{baseLanes:n.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Xo,i):(r=Lg(t,e,i.children,r),e.memoizedState=null,r):a?(i=Og(t,e,i.children,i.fallback,r),a=e.child,n=t.child.memoizedState,a.memoizedState=n===null?{baseLanes:r}:{baseLanes:n.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Xo,i):(r=Lg(t,e,i.children,r),e.memoizedState=null,r)}function Ig(t,e,r,i){var n=t.mode,a=t.child;return e={mode:"hidden",children:e},(n&2)===0&&a!==null?(a.childLanes=0,a.pendingProps=e):a=Ah(e,n,0,null),r=Wi(r,n,i,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function Lg(t,e,r,i){var n=t.child;return t=n.sibling,r=Tn(n,{mode:"visible",children:r}),(e.mode&2)===0&&(r.lanes=i),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function Og(t,e,r,i,n){var a=e.mode,s=t.child;t=s.sibling;var o={mode:"hidden",children:r};return(a&2)===0&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=o,s=r.lastEffect,s!==null?(e.firstEffect=r.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Tn(s,o),t!==null?i=Tn(t,i):(i=Wi(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,i}function Dg(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),By(t.return,e)}function jd(t,e,r,i,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n,lastEffect:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n,s.lastEffect=a)}function Mg(t,e,r){var i=e.pendingProps,n=i.revealOrder,a=i.tail;if(kt(t,e,i.children,r),i=Fe.current,(i&2)!==0)i=i&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dg(t,r);else if(t.tag===19)Dg(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ue(Fe,i),(e.mode&2)===0)e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&zl(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),jd(e,!1,n,r,a,e.lastEffect);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&zl(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}jd(e,!0,r,null,a,e.lastEffect);break;case"together":jd(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ur(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,(r&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,r=Tn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Tn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var t_,Kc,r_,n_;t_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kc=function(){};r_=function(t,e,r,i){var n=t.memoizedProps;if(n!==i){t=e.stateNode,Vn(br.current);var a=null;switch(r){case"input":n=xc(t,n),i=xc(t,i),a=[];break;case"option":n=wc(t,n),i=wc(t,i),a=[];break;case"select":n=Me({},n,{value:void 0}),i=Me({},i,{value:void 0}),a=[];break;case"textarea":n=Cc(t,n),i=Cc(t,i),a=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Rl)}Ac(r,i);var s;r=null;for(u in n)if(!i.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var o=n[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Es.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var l=i[u];if(o=n!=null?n[u]:void 0,i.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Es.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pe("scroll",t),a||o===l||(a=[])):typeof l=="object"&&l!==null&&l.$$typeof===Kf?l.toString():(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};n_=function(t,e,r,i){r!==i&&(e.flags|=4)};function Va(t,e){if(!Er)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Nw(t,e,r){var i=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return It(e.type)&&Fl(),null;case 3:return Qi(),Ie(At),Ie(ct),vh(),i=e.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(qo(e)?e.flags|=4:i.hydrate||(e.flags|=256)),Kc(e),null;case 5:gh(e);var n=Vn(Ns.current);if(r=e.type,t!==null&&e.stateNode!=null)r_(t,e,r,i,n),t.ref!==e.ref&&(e.flags|=128);else{if(!i){if(e.stateNode===null)throw Error(G(166));return null}if(t=Vn(br.current),qo(e)){i=e.stateNode,r=e.type;var a=e.memoizedProps;switch(i[nn]=e,i[Nl]=a,r){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(t=0;t<Za.length;t++)Pe(Za[t],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Mm(i,a),Pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Pe("invalid",i);break;case"textarea":Nm(i,a),Pe("invalid",i)}Ac(r,a),t=null;for(var s in a)a.hasOwnProperty(s)&&(n=a[s],s==="children"?typeof n=="string"?i.textContent!==n&&(t=["children",n]):typeof n=="number"&&i.textContent!==""+n&&(t=["children",""+n]):Es.hasOwnProperty(s)&&n!=null&&s==="onScroll"&&Pe("scroll",i));switch(r){case"input":Vo(i),Rm(i,a,!0);break;case"textarea":Vo(i),Fm(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Rl)}i=t,e.updateQueue=i,i!==null&&(e.flags|=4)}else{switch(s=n.nodeType===9?n:n.ownerDocument,t===kc.html&&(t=Y0(r)),t===kc.html?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(r,{is:i.is}):(t=s.createElement(r),r==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,r),t[nn]=e,t[Nl]=i,t_(t,e,!1,!1),e.stateNode=t,s=Ic(r,i),r){case"dialog":Pe("cancel",t),Pe("close",t),n=i;break;case"iframe":case"object":case"embed":Pe("load",t),n=i;break;case"video":case"audio":for(n=0;n<Za.length;n++)Pe(Za[n],t);n=i;break;case"source":Pe("error",t),n=i;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),n=i;break;case"details":Pe("toggle",t),n=i;break;case"input":Mm(t,i),n=xc(t,i),Pe("invalid",t);break;case"option":n=wc(t,i);break;case"select":t._wrapperState={wasMultiple:!!i.multiple},n=Me({},i,{value:void 0}),Pe("invalid",t);break;case"textarea":Nm(t,i),n=Cc(t,i),Pe("invalid",t);break;default:n=i}Ac(r,n);var o=n;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?J0(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Q0(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ws(t,l):typeof l=="number"&&ws(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Es.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Pe("scroll",t):l!=null&&zf(t,a,l,s))}switch(r){case"input":Vo(t),Rm(t,i,!1);break;case"textarea":Vo(t),Fm(t);break;case"option":i.value!=null&&t.setAttribute("value",""+gn(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?Ni(t,!!i.multiple,a,!1):i.defaultValue!=null&&Ni(t,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Rl)}Iy(r,i)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)n_(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(G(166));r=Vn(Ns.current),Vn(br.current),qo(e)?(i=e.stateNode,r=e.memoizedProps,i[nn]=e,i.nodeValue!==r&&(e.flags|=4)):(i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[nn]=e,e.stateNode=i)}return null;case 13:return Ie(Fe),i=e.memoizedState,(e.flags&64)!==0?(e.lanes=r,e):(i=i!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&qo(e):r=t.memoizedState!==null,i&&!r&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Fe.current&1)!==0?nt===0&&(nt=3):((nt===0||nt===3)&&(nt=4),bt===null||(Js&134217727)===0&&(pa&134217727)===0||Hi(bt,ut))),(i||r)&&(e.flags|=4),null);case 4:return Qi(),Kc(e),t===null&&ky(e.stateNode.containerInfo),null;case 10:return ph(e),null;case 17:return It(e.type)&&Fl(),null;case 19:if(Ie(Fe),i=e.memoizedState,i===null)return null;if(a=(e.flags&64)!==0,s=i.rendering,s===null)if(a)Va(i,!1);else{if(nt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(s=zl(t),s!==null){for(e.flags|=64,Va(i,!1),a=s.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),i.lastEffect===null&&(e.firstEffect=null),e.lastEffect=i.lastEffect,i=r,r=e.child;r!==null;)a=r,t=i,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ue(Fe,Fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>tf&&(e.flags|=64,a=!0,Va(i,!1),e.lanes=33554432)}else{if(!a)if(t=zl(s),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Va(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Er)return e=e.lastEffect=i.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*lt()-i.renderingStartTime>tf&&r!==1073741824&&(e.flags|=64,a=!0,Va(i,!1),e.lanes=33554432);i.isBackwards?(s.sibling=e.child,e.child=s):(r=i.last,r!==null?r.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=e.lastEffect,i.renderingStartTime=lt(),r.sibling=null,e=Fe.current,Ue(Fe,a?e&1|2:e&1),r):null;case 23:case 24:return kh(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&i.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(G(156,e.tag))}function Fw(t){switch(t.tag){case 1:It(t.type)&&Fl();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Qi(),Ie(At),Ie(ct),vh(),e=t.flags,(e&64)!==0)throw Error(G(285));return t.flags=e&-4097|64,t;case 5:return gh(t),null;case 13:return Ie(Fe),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Ie(Fe),null;case 4:return Qi(),null;case 10:return ph(t),null;case 23:case 24:return kh(),null;default:return null}}function bh(t,e){try{var r="",i=e;do r+=vE(i),i=i.return;while(i);var n=r}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:n}}function Yc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Uw=typeof WeakMap=="function"?WeakMap:Map;function i_(t,e,r){r=cn(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){Yl||(Yl=!0,rf=i),Yc(t,e)},r}function a_(t,e,r){r=cn(-1,r),r.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var n=e.value;r.payload=function(){return Yc(t,e),i(n)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof i!="function"&&(_r===null?_r=new Set([this]):_r.add(this),Yc(t,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}var Bw=typeof WeakSet=="function"?WeakSet:Set;function Rg(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){mn(t,r)}else e.current=null}function jw(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,i=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:ar(e.type,r),i),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&dh(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(G(163))}function Vw(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var n=t;i=n.next,n=n.tag,(n&4)!==0&&(n&1)!==0&&(p_(r,t),Kw(r,t)),t=i}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(i=r.elementType===r.type?e.memoizedProps:ar(r.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&gg(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}gg(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&Iy(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&uy(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(G(163))}function Ng(t,e){for(var r=t;;){if(r.tag===5){var i=r.stateNode;if(e)i=i.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{i=r.stateNode;var n=r.memoizedProps.style;n=n!=null&&n.hasOwnProperty("display")?n.display:null,i.style.display=Z0("display",n)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Fg(t,e){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(ch,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var i=r,n=i.destroy;if(i=i.tag,n!==void 0)if((i&4)!==0)p_(e,r);else{i=e;try{n()}catch(a){mn(i,a)}}r=r.next}while(r!==t)}break;case 1:if(Rg(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){mn(e,a)}break;case 5:Rg(e);break;case 4:s_(t,e)}}function Ug(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Bg(t){return t.tag===5||t.tag===3||t.tag===4}function jg(t){e:{for(var e=t.return;e!==null;){if(Bg(e))break e;e=e.return}throw Error(G(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var i=!1;break;case 3:e=e.containerInfo,i=!0;break;case 4:e=e.containerInfo,i=!0;break;default:throw Error(G(161))}r.flags&16&&(ws(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||Bg(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}i?Qc(t,r,e):Zc(t,r,e)}function Qc(t,e,r){var i=t.tag,n=i===5||i===6;if(n)t=n?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rl));else if(i!==4&&(t=t.child,t!==null))for(Qc(t,e,r),t=t.sibling;t!==null;)Qc(t,e,r),t=t.sibling}function Zc(t,e,r){var i=t.tag,n=i===5||i===6;if(n)t=n?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Zc(t,e,r),t=t.sibling;t!==null;)Zc(t,e,r),t=t.sibling}function s_(t,e){for(var r=e,i=!1,n,a;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(G(160));switch(n=i.stateNode,i.tag){case 5:a=!1;break e;case 3:n=n.containerInfo,a=!0;break e;case 4:n=n.containerInfo,a=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var s=t,o=r,l=o;;)if(Fg(s,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}a?(s=n,o=r.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):n.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){n=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(Fg(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function Vd(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do(i.tag&3)===3&&(t=i.destroy,i.destroy=void 0,t!==void 0&&t()),i=i.next;while(i!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){i=e.memoizedProps;var n=t!==null?t.memoizedProps:i;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[Nl]=i,t==="input"&&i.type==="radio"&&i.name!=null&&X0(r,i),Ic(t,n),e=Ic(t,i),n=0;n<a.length;n+=2){var s=a[n],o=a[n+1];s==="style"?J0(r,o):s==="dangerouslySetInnerHTML"?Q0(r,o):s==="children"?ws(r,o):zf(r,s,o,e)}switch(t){case"input":bc(r,i);break;case"textarea":K0(r,i);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!i.multiple,a=i.value,a!=null?Ni(r,!!i.multiple,a,!1):t!==!!i.multiple&&(i.defaultValue!=null?Ni(r,!!i.multiple,i.defaultValue,!0):Ni(r,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(G(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,uy(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Ch=lt(),Ng(e.child,!0)),Vg(e);return;case 19:Vg(e);return;case 17:return;case 23:case 24:Ng(e,e.memoizedState!==null);return}throw Error(G(163))}function Vg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Bw),e.forEach(function(i){var n=Zw.bind(null,t,i);r.has(i)||(r.add(i),i.then(n,n))})}}function Hw(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var zw=Math.ceil,Kl=ni.ReactCurrentDispatcher,Eh=ni.ReactCurrentOwner,le=0,bt=null,$e=null,ut=0,Zn=0,Jc=En(0),nt=0,Ou=null,ha=0,Js=0,pa=0,wh=0,ef=null,Ch=0,tf=1/0;function ma(){tf=lt()+500}var Z=null,Yl=!1,rf=null,_r=null,_n=!1,gs=null,Ja=90,nf=[],af=[],Br=null,vs=0,sf=null,yl=-1,Mr=0,_l=0,ys=null,Tl=!1;function zt(){return(le&48)!==0?lt():yl!==-1?yl:yl=lt()}function hn(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Yi()===99?1:2;if(Mr===0&&(Mr=ha),Iw.transition!==0){_l!==0&&(_l=ef!==null?ef.pendingLanes:0),t=Mr;var e=4186112&~_l;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Yi(),(le&4)!==0&&t===98?t=Dl(12,Mr):(t=DE(t),t=Dl(t,Mr)),t}function pn(t,e,r){if(50<vs)throw vs=0,sf=null,Error(G(185));if(t=Du(t,e),t===null)return null;wu(t,e,r),t===bt&&(pa|=e,nt===4&&Hi(t,ut));var i=Yi();e===1?(le&8)!==0&&(le&48)===0?of(t):(er(t,r),le===0&&(ma(),kr())):((le&4)===0||i!==98&&i!==99||(Br===null?Br=new Set([t]):Br.add(t)),er(t,r)),ef=t}function Du(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function er(t,e){for(var r=t.callbackNode,i=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vn(s),l=1<<o,u=a[o];if(u===-1){if((l&i)===0||(l&n)!==0){u=e,xi(l);var d=Ee;a[o]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=e&&(t.expiredLanes|=l);s&=~l}if(i=As(t,t===bt?ut:0),e=Ee,i===0)r!==null&&(r!==Nd&&Vc(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==Nd&&Vc(r)}e===15?(r=of.bind(null,t),Dr===null?(Dr=[r],vl=fh(Iu,Uy)):Dr.push(r),r=Nd):e===14?r=Ds(99,of.bind(null,t)):(r=ME(e),r=Ds(r,o_.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function o_(t){if(yl=-1,_l=Mr=0,(le&48)!==0)throw Error(G(327));var e=t.callbackNode;if(wn()&&t.callbackNode!==e)return null;var r=As(t,t===bt?ut:0);if(r===0)return null;var i=r,n=le;le|=16;var a=c_();(bt!==t||ut!==i)&&(ma(),zi(t,i));do try{Gw();break}catch(o){d_(t,o)}while(1);if(hh(),Kl.current=a,le=n,$e!==null?i=0:(bt=null,ut=0,i=nt),(ha&pa)!==0)zi(t,0);else if(i!==0){if(i===2&&(le|=64,t.hydrate&&(t.hydrate=!1,dh(t.containerInfo)),r=gy(t),r!==0&&(i=es(t,r))),i===1)throw e=Ou,zi(t,0),Hi(t,r),er(t,lt()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,i){case 0:case 1:throw Error(G(345));case 2:Rn(t);break;case 3:if(Hi(t,r),(r&62914560)===r&&(i=Ch+500-lt(),10<i)){if(As(t,0)!==0)break;if(n=t.suspendedLanes,(n&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=lg(Rn.bind(null,t),i);break}Rn(t);break;case 4:if(Hi(t,r),(r&4186112)===r)break;for(i=t.eventTimes,n=-1;0<r;){var s=31-vn(r);a=1<<s,s=i[s],s>n&&(n=s),r&=~a}if(r=n,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zw(r/1960))-r,10<r){t.timeoutHandle=lg(Rn.bind(null,t),r);break}Rn(t);break;case 5:Rn(t);break;default:throw Error(G(329))}}return er(t,lt()),t.callbackNode===e?o_.bind(null,t):null}function Hi(t,e){for(e&=~wh,e&=~pa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vn(e),i=1<<r;t[r]=-1,e&=~i}}function of(t){if((le&48)!==0)throw Error(G(327));if(wn(),t===bt&&(t.expiredLanes&ut)!==0){var e=ut,r=es(t,e);(ha&pa)!==0&&(e=As(t,e),r=es(t,e))}else e=As(t,0),r=es(t,e);if(t.tag!==0&&r===2&&(le|=64,t.hydrate&&(t.hydrate=!1,dh(t.containerInfo)),e=gy(t),e!==0&&(r=es(t,e))),r===1)throw r=Ou,zi(t,0),Hi(t,e),er(t,lt()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rn(t),er(t,lt()),null}function Ww(){if(Br!==null){var t=Br;Br=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,er(e,lt())})}kr()}function l_(t,e){var r=le;le|=1;try{return t(e)}finally{le=r,le===0&&(ma(),kr())}}function u_(t,e){var r=le;le&=-2,le|=8;try{return t(e)}finally{le=r,le===0&&(ma(),kr())}}function Ko(t,e){Ue(Jc,Zn),Zn|=e,ha|=e}function kh(){Zn=Jc.current,Ie(Jc)}function zi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Ew(r)),$e!==null)for(r=$e.return;r!==null;){var i=r;switch(i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fl();break;case 3:Qi(),Ie(At),Ie(ct),vh();break;case 5:gh(i);break;case 4:Qi();break;case 13:Ie(Fe);break;case 19:Ie(Fe);break;case 10:ph(i);break;case 23:case 24:kh()}r=r.return}bt=t,$e=Tn(t.current,null),ut=Zn=ha=e,nt=0,Ou=null,wh=pa=Js=0}function d_(t,e){do{var r=$e;try{if(hh(),ps.current=Xl,Wl){for(var i=He.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Wl=!1}if(Fs=0,rt=st=He=null,ms=!1,Eh.current=null,r===null||r.return===null){nt=1,Ou=e,$e=null;break}e:{var a=t,s=r.return,o=r,l=e;if(e=ut,o.flags|=2048,o.firstEffect=o.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if((o.mode&2)===0){var d=o.alternate;d?(o.updateQueue=d.updateQueue,o.memoizedState=d.memoizedState,o.lanes=d.lanes):(o.updateQueue=null,o.memoizedState=null)}var h=(Fe.current&1)!==0,f=s;do{var y;if(y=f.tag===13){var x=f.memoizedState;if(x!==null)y=x.dehydrated!==null;else{var S=f.memoizedProps;y=S.fallback===void 0?!1:S.unstable_avoidThisFallback!==!0?!0:!h}}if(y){var v=f.updateQueue;if(v===null){var _=new Set;_.add(u),f.updateQueue=_}else v.add(u);if((f.mode&2)===0){if(f.flags|=64,o.flags|=16384,o.flags&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var E=cn(-1,1);E.tag=2,fn(o,E)}o.lanes|=1;break e}l=void 0,o=e;var C=a.pingCache;if(C===null?(C=a.pingCache=new Uw,l=new Set,C.set(u,l)):(l=C.get(u),l===void 0&&(l=new Set,C.set(u,l))),!l.has(o)){l.add(o);var P=Qw.bind(null,a,u,o);u.then(P,P)}f.flags|=4096,f.lanes=e;break e}f=f.return}while(f!==null);l=Error((Ri(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}nt!==5&&(nt=2),l=bh(l,o),f=s;do{switch(f.tag){case 3:a=l,f.flags|=4096,e&=-e,f.lanes|=e;var M=i_(f,a,e);mg(f,M);break e;case 1:a=l;var D=f.type,j=f.stateNode;if((f.flags&64)===0&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(_r===null||!_r.has(j)))){f.flags|=4096,e&=-e,f.lanes|=e;var N=a_(f,a,e);mg(f,N);break e}}f=f.return}while(f!==null)}h_(r)}catch(F){e=F,$e===r&&r!==null&&($e=r=r.return);continue}break}while(1)}function c_(){var t=Kl.current;return Kl.current=Xl,t===null?Xl:t}function es(t,e){var r=le;le|=16;var i=c_();bt===t&&ut===e||zi(t,e);do try{$w();break}catch(n){d_(t,n)}while(1);if(hh(),le=r,Kl.current=i,$e!==null)throw Error(G(261));return bt=null,ut=0,nt}function $w(){for(;$e!==null;)f_($e)}function Gw(){for(;$e!==null&&!kw();)f_($e)}function f_(t){var e=m_(t.alternate,t,Zn);t.memoizedProps=t.pendingProps,e===null?h_(t):$e=e,Eh.current=null}function h_(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&2048)===0){if(r=Nw(r,e,Zn),r!==null){$e=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Zn&1073741824)!==0||(r.mode&4)===0){for(var i=0,n=r.child;n!==null;)i|=n.lanes|n.childLanes,n=n.sibling;r.childLanes=i}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(r=Fw(e),r!==null){r.flags&=2047,$e=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);nt===0&&(nt=5)}function Rn(t){var e=Yi();return Qn(99,qw.bind(null,t,e)),null}function qw(t,e){do wn();while(gs!==null);if((le&48)!==0)throw Error(G(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(G(177));t.callbackNode=null;var i=r.lanes|r.childLanes,n=i,a=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;for(var s=t.eventTimes,o=t.expirationTimes;0<a;){var l=31-vn(a),u=1<<l;n[l]=0,s[l]=-1,o[l]=-1,a&=~u}if(Br!==null&&(i&24)===0&&Br.has(t)&&Br.delete(t),t===bt&&($e=bt=null,ut=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,i!==null){if(n=le,le|=32,Eh.current=null,Dd=hl,s=tg(),Nc(s)){if("selectionStart"in s)o={start:s.selectionStart,end:s.selectionEnd};else e:if(o=(o=s.ownerDocument)&&o.defaultView||window,(u=o.getSelection&&o.getSelection())&&u.rangeCount!==0){o=u.anchorNode,a=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{o.nodeType,l.nodeType}catch{o=null;break e}var d=0,h=-1,f=-1,y=0,x=0,S=s,v=null;t:for(;;){for(var _;S!==o||a!==0&&S.nodeType!==3||(h=d+a),S!==l||u!==0&&S.nodeType!==3||(f=d+u),S.nodeType===3&&(d+=S.nodeValue.length),(_=S.firstChild)!==null;)v=S,S=_;for(;;){if(S===s)break t;if(v===o&&++y===a&&(h=d),v===l&&++x===u&&(f=d),(_=S.nextSibling)!==null)break;S=v,v=S.parentNode}S=_}o=h===-1||f===-1?null:{start:h,end:f}}else o=null;o=o||{start:0,end:0}}else o=null;Md={focusedElem:s,selectionRange:o},hl=!1,ys=null,Tl=!1,Z=i;do try{Xw()}catch(F){if(Z===null)throw Error(G(330));mn(Z,F),Z=Z.nextEffect}while(Z!==null);ys=null,Z=i;do try{for(s=t;Z!==null;){var E=Z.flags;if(E&16&&ws(Z.stateNode,""),E&128){var C=Z.alternate;if(C!==null){var P=C.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(E&1038){case 2:jg(Z),Z.flags&=-3;break;case 6:jg(Z),Z.flags&=-3,Vd(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025,Vd(Z.alternate,Z);break;case 4:Vd(Z.alternate,Z);break;case 8:o=Z,s_(s,o);var M=o.alternate;Ug(o),M!==null&&Ug(M)}Z=Z.nextEffect}}catch(F){if(Z===null)throw Error(G(330));mn(Z,F),Z=Z.nextEffect}while(Z!==null);if(P=Md,C=tg(),E=P.focusedElem,s=P.selectionRange,C!==E&&E&&E.ownerDocument&&Ey(E.ownerDocument.documentElement,E)){for(s!==null&&Nc(E)&&(C=s.start,P=s.end,P===void 0&&(P=C),"selectionStart"in E?(E.selectionStart=C,E.selectionEnd=Math.min(P,E.value.length)):(P=(C=E.ownerDocument||document)&&C.defaultView||window,P.getSelection&&(P=P.getSelection(),o=E.textContent.length,M=Math.min(s.start,o),s=s.end===void 0?M:Math.min(s.end,o),!P.extend&&M>s&&(o=s,s=M,M=o),o=eg(E,M),a=eg(E,s),o&&a&&(P.rangeCount!==1||P.anchorNode!==o.node||P.anchorOffset!==o.offset||P.focusNode!==a.node||P.focusOffset!==a.offset)&&(C=C.createRange(),C.setStart(o.node,o.offset),P.removeAllRanges(),M>s?(P.addRange(C),P.extend(a.node,a.offset)):(C.setEnd(a.node,a.offset),P.addRange(C)))))),C=[],P=E;P=P.parentNode;)P.nodeType===1&&C.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<C.length;E++)P=C[E],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}hl=!!Dd,Md=Dd=null,t.current=r,Z=i;do try{for(E=t;Z!==null;){var D=Z.flags;if(D&36&&Vw(E,Z.alternate,Z),D&128){C=void 0;var j=Z.ref;if(j!==null){var N=Z.stateNode;switch(Z.tag){case 5:C=N;break;default:C=N}typeof j=="function"?j(C):j.current=C}}Z=Z.nextEffect}}catch(F){if(Z===null)throw Error(G(330));mn(Z,F),Z=Z.nextEffect}while(Z!==null);Z=null,Aw(),le=n}else t.current=r;if(_n)_n=!1,gs=t,Ja=e;else for(Z=i;Z!==null;)e=Z.nextEffect,Z.nextEffect=null,Z.flags&8&&(D=Z,D.sibling=null,D.stateNode=null),Z=e;if(i=t.pendingLanes,i===0&&(_r=null),i===1?t===sf?vs++:(vs=0,sf=t):vs=0,r=r.stateNode,$n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(ch,r,void 0,(r.current.flags&64)===64)}catch{}if(er(t,lt()),Yl)throw Yl=!1,t=rf,rf=null,t;return(le&8)!==0||kr(),null}function Xw(){for(;Z!==null;){var t=Z.alternate;Tl||ys===null||((Z.flags&8)!==0?jm(Z,ys)&&(Tl=!0):Z.tag===13&&Hw(t,Z)&&jm(Z,ys)&&(Tl=!0));var e=Z.flags;(e&256)!==0&&jw(t,Z),(e&512)===0||_n||(_n=!0,Ds(97,function(){return wn(),null})),Z=Z.nextEffect}}function wn(){if(Ja!==90){var t=97<Ja?97:Ja;return Ja=90,Qn(t,Yw)}return!1}function Kw(t,e){nf.push(e,t),_n||(_n=!0,Ds(97,function(){return wn(),null}))}function p_(t,e){af.push(e,t),_n||(_n=!0,Ds(97,function(){return wn(),null}))}function Yw(){if(gs===null)return!1;var t=gs;if(gs=null,(le&48)!==0)throw Error(G(331));var e=le;le|=32;var r=af;af=[];for(var i=0;i<r.length;i+=2){var n=r[i],a=r[i+1],s=n.destroy;if(n.destroy=void 0,typeof s=="function")try{s()}catch(l){if(a===null)throw Error(G(330));mn(a,l)}}for(r=nf,nf=[],i=0;i<r.length;i+=2){n=r[i],a=r[i+1];try{var o=n.create;n.destroy=o()}catch(l){if(a===null)throw Error(G(330));mn(a,l)}}for(o=t.current.firstEffect;o!==null;)t=o.nextEffect,o.nextEffect=null,o.flags&8&&(o.sibling=null,o.stateNode=null),o=t;return le=e,kr(),!0}function Hg(t,e,r){e=bh(r,e),e=i_(t,e,1),fn(t,e),e=zt(),t=Du(t,1),t!==null&&(wu(t,1,e),er(t,e))}function mn(t,e){if(t.tag===3)Hg(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){Hg(r,t,e);break}else if(r.tag===1){var i=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(_r===null||!_r.has(i))){t=bh(e,t);var n=a_(r,t,1);if(fn(r,n),n=zt(),r=Du(r,1),r!==null)wu(r,1,n),er(r,n);else if(typeof i.componentDidCatch=="function"&&(_r===null||!_r.has(i)))try{i.componentDidCatch(e,t)}catch{}break}}r=r.return}}function Qw(t,e,r){var i=t.pingCache;i!==null&&i.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&r,bt===t&&(ut&r)===r&&(nt===4||nt===3&&(ut&62914560)===ut&&500>lt()-Ch?zi(t,0):wh|=r),er(t,e)}function Zw(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Yi()===99?1:2:(Mr===0&&(Mr=ha),e=bi(62914560&~Mr),e===0&&(e=4194304))),r=zt(),t=Du(t,e),t!==null&&(wu(t,e,r),er(t,r))}var m_;m_=function(t,e,r){var i=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)or=!0;else if((r&i)!==0)or=(t.flags&16384)!==0;else{switch(or=!1,e.tag){case 3:Pg(e),Ud();break;case 5:_g(e);break;case 1:It(e.type)&&gl(e);break;case 4:Wc(e,e.stateNode.containerInfo);break;case 10:i=e.memoizedProps.value;var n=e.type._context;Ue(Ul,n._currentValue),n._currentValue=i;break;case 13:if(e.memoizedState!==null)return(r&e.child.childLanes)!==0?Ag(t,e,r):(Ue(Fe,Fe.current&1),e=Ur(t,e,r),e!==null?e.sibling:null);Ue(Fe,Fe.current&1);break;case 19:if(i=(r&e.childLanes)!==0,(t.flags&64)!==0){if(i)return Mg(t,e,r);e.flags|=64}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ue(Fe,Fe.current),i)break;return null;case 23:case 24:return e.lanes=0,Bd(t,e,r)}return Ur(t,e,r)}else or=!1;switch(e.lanes=0,e.tag){case 2:if(i=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,n=Ki(e,ct.current),ji(e,r),n=_h(null,e,i,t,n,r),e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(i)){var a=!0;gl(e)}else a=!1;e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,mh(e);var s=i.getDerivedStateFromProps;typeof s=="function"&&Vl(e,i,s,t),n.updater=Lu,e.stateNode=n,n._reactInternals=e,zc(e,i,t,r),e=Xc(null,e,i,!0,a,r)}else e.tag=0,kt(null,e,n,r),e=e.child;return e;case 16:n=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=eC(n),t=ar(n,t),a){case 0:e=qc(null,e,n,t,r);break e;case 1:e=kg(null,e,n,t,r);break e;case 11:e=wg(null,e,n,t,r);break e;case 14:e=Cg(null,e,n,ar(n.type,t),i,r);break e}throw Error(G(306,n,""))}return e;case 0:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ar(i,n),qc(t,e,i,n,r);case 1:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ar(i,n),kg(t,e,i,n,r);case 3:if(Pg(e),i=e.updateQueue,t===null||i===null)throw Error(G(282));if(i=e.pendingProps,n=e.memoizedState,n=n!==null?n.element:null,jy(t,e),Ms(e,i,null,r),i=e.memoizedState.element,i===n)Ud(),e=Ur(t,e,r);else{if(n=e.stateNode,(a=n.hydrate)&&(an=Bi(e.stateNode.containerInfo.firstChild),Fr=e,a=Er=!0),a){if(t=n.mutableSourceEagerHydrationData,t!=null)for(n=0;n<t.length;n+=2)a=t[n],a._workInProgressVersionPrimary=t[n+1],Vi.push(a);for(r=Wy(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else kt(t,e,i,r),Ud();e=e.child}return e;case 5:return _g(e),t===null&&$c(e),i=e.type,n=e.pendingProps,a=t!==null?t.memoizedProps:null,s=n.children,Bc(i,n)?s=null:a!==null&&Bc(i,a)&&(e.flags|=16),e_(t,e),kt(t,e,s,r),e.child;case 6:return t===null&&$c(e),null;case 13:return Ag(t,e,r);case 4:return Wc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Hl(e,null,i,r):kt(t,e,i,r),e.child;case 11:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ar(i,n),wg(t,e,i,n,r);case 7:return kt(t,e,e.pendingProps,r),e.child;case 8:return kt(t,e,e.pendingProps.children,r),e.child;case 12:return kt(t,e,e.pendingProps.children,r),e.child;case 10:e:{i=e.type._context,n=e.pendingProps,s=e.memoizedProps,a=n.value;var o=e.type._context;if(Ue(Ul,o._currentValue),o._currentValue=a,s!==null)if(o=s.value,a=Kt(o,a)?0:(typeof i._calculateChangedBits=="function"?i._calculateChangedBits(o,a):1073741823)|0,a===0){if(s.children===n.children&&!At.current){e=Ur(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===i&&(u.observedBits&a)!==0){o.tag===1&&(u=cn(-1,r&-r),u.tag=2,fn(o,u)),o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),By(o.return,r),l.lanes|=r;break}u=u.next}}else s=o.tag===10&&o.type===e.type?null:o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}kt(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,a=e.pendingProps,i=a.children,ji(e,r),n=Jt(n,a.unstable_observedBits),i=i(n),e.flags|=1,kt(t,e,i,r),e.child;case 14:return n=e.type,a=ar(n,e.pendingProps),a=ar(n.type,a),Cg(t,e,n,a,i,r);case 15:return Jy(t,e,e.type,e.pendingProps,i,r);case 17:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:ar(i,n),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,It(i)?(t=!0,gl(e)):t=!1,ji(e,r),Hy(e,i,n),zc(e,i,n,r),Xc(null,e,i,!0,t,r);case 19:return Mg(t,e,r);case 23:return Bd(t,e,r);case 24:return Bd(t,e,r)}throw Error(G(156,e.tag))};function Jw(t,e,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,e,r,i){return new Jw(t,e,r,i)}function Ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eC(t){if(typeof t=="function")return Ph(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xu)return 11;if(t===bu)return 14}return 2}function Tn(t,e){var r=t.alternate;return r===null?(r=Yt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Sl(t,e,r,i,n,a){var s=2;if(i=t,typeof t=="function")Ph(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Jr:return Wi(r.children,n,a,e);case $0:s=8,n|=16;break;case Wf:s=8,n|=1;break;case os:return t=Yt(12,r,e,n|8),t.elementType=os,t.type=os,t.lanes=a,t;case ls:return t=Yt(13,r,e,n),t.type=ls,t.elementType=ls,t.lanes=a,t;case Al:return t=Yt(19,r,e,n),t.elementType=Al,t.lanes=a,t;case Yf:return Ah(r,n,a,e);case Sc:return t=Yt(24,r,e,n),t.elementType=Sc,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $f:s=10;break e;case Gf:s=9;break e;case xu:s=11;break e;case bu:s=14;break e;case qf:s=16,i=null;break e;case Xf:s=22;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Yt(s,r,e,n),e.elementType=t,e.type=i,e.lanes=a,e}function Wi(t,e,r,i){return t=Yt(7,t,i,e),t.lanes=r,t}function Ah(t,e,r,i){return t=Yt(23,t,i,e),t.elementType=Yf,t.lanes=r,t}function Hd(t,e,r){return t=Yt(6,t,null,e),t.lanes=r,t}function zd(t,e,r){return e=Yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tC(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.mutableSourceEagerHydrationData=null}function rC(t,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:i==null?null:""+i,children:t,containerInfo:e,implementation:r}}function Ql(t,e,r,i){var n=e.current,a=zt(),s=hn(n);e:if(r){r=r._reactInternals;t:{if(ii(r)!==r||r.tag!==1)throw Error(G(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(It(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(G(171))}if(r.tag===1){var l=r.type;if(It(l)){r=Oy(r,l,o);break e}}r=o}else r=yn;return e.context===null?e.context=r:e.pendingContext=r,e=cn(a,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),fn(n,e),pn(n,s,a),s}function Wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ih(t,e){zg(t,e),(t=t.alternate)&&zg(t,e)}function nC(){return null}function Lh(t,e,r){var i=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new tC(t,e,r!=null&&r.hydrate===!0),e=Yt(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,mh(e),t[fa]=r.current,ky(t.nodeType===8?t.parentNode:t),i)for(t=0;t<i.length;t++){e=i[t];var n=e._getVersion;n=n(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,n]:r.mutableSourceEagerHydrationData.push(e,n)}this._internalRoot=r}Lh.prototype.render=function(t){Ql(t,this._internalRoot,null,null)};Lh.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ql(null,t,null,function(){e[fa]=null})};function eo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iC(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new Lh(t,0,e?{hydrate:!0}:void 0)}function Mu(t,e,r,i,n){var a=r._reactRootContainer;if(a){var s=a._internalRoot;if(typeof n=="function"){var o=n;n=function(){var u=Wd(s);o.call(u)}}Ql(e,s,t,n)}else{if(a=r._reactRootContainer=iC(r,i),s=a._internalRoot,typeof n=="function"){var l=n;n=function(){var u=Wd(s);l.call(u)}}u_(function(){Ql(e,s,t,n)})}return Wd(s)}sy=function(t){if(t.tag===13){var e=zt();pn(t,4,e),Ih(t,4)}};th=function(t){if(t.tag===13){var e=zt();pn(t,67108864,e),Ih(t,67108864)}};oy=function(t){if(t.tag===13){var e=zt(),r=hn(t);pn(t,r,e),Ih(t,r)}};ly=function(t,e){return e()};Lc=function(t,e,r){switch(e){case"input":if(bc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var n=Au(i);if(!n)throw Error(G(90));q0(i),bc(i,n)}}}break;case"textarea":K0(t,r);break;case"select":e=r.value,e!=null&&Ni(t,!!r.multiple,e,!1)}};Zf=l_;ry=function(t,e,r,i,n){var a=le;le|=4;try{return Qn(98,t.bind(null,e,r,i,n))}finally{le=a,le===0&&(ma(),kr())}};Jf=function(){(le&49)===0&&(Ww(),wn())};ny=function(t,e){var r=le;le|=2;try{return t(e)}finally{le=r,le===0&&(ma(),kr())}};function g_(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eo(e))throw Error(G(200));return rC(t,e,null,r)}var aC={Events:[Qs,Pi,Au,ey,ty,wn,{current:!1}]},Ha={findFiberByHostInstance:jn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sC={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ay(t),t===null?null:t.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||nC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{ch=Yo.inject(sC),$n=Yo}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aC;tr.createPortal=g_;tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):Error(G(268,Object.keys(t)));return t=ay(e),t=t===null?null:t.stateNode,t};tr.flushSync=function(t,e){var r=le;if((r&48)!==0)return t(e);le|=1;try{if(t)return Qn(99,t.bind(null,e))}finally{le=r,kr()}};tr.hydrate=function(t,e,r){if(!eo(e))throw Error(G(200));return Mu(null,t,e,!0,r)};tr.render=function(t,e,r){if(!eo(e))throw Error(G(200));return Mu(null,t,e,!1,r)};tr.unmountComponentAtNode=function(t){if(!eo(t))throw Error(G(40));return t._reactRootContainer?(u_(function(){Mu(null,null,t,!1,function(){t._reactRootContainer=null,t[fa]=null})}),!0):!1};tr.unstable_batchedUpdates=l_;tr.unstable_createPortal=function(t,e){return g_(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};tr.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!eo(r))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Mu(t,e,r,!1,i)};tr.version="17.0.2";function v_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v_)}catch(t){console.error(t)}}v_(),V0.exports=tr;var LM=V0.exports,y_={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var i=[],n=0;n<arguments.length;n++){var a=arguments[n];if(!!a){var s=typeof a;if(s==="string"||s==="number")i.push(a);else if(Array.isArray(a)){if(a.length){var o=r.apply(null,a);o&&i.push(o)}}else if(s==="object")if(a.toString===Object.prototype.toString)for(var l in a)e.call(a,l)&&a[l]&&i.push(l);else i.push(a.toString())}}return i.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(y_);var OM=y_.exports,Ru={exports:{}},to={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC=Te.exports,__=60103;to.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Wg=Symbol.for;__=Wg("react.element"),to.Fragment=Wg("react.fragment")}var lC=oC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uC=Object.prototype.hasOwnProperty,dC={key:!0,ref:!0,__self:!0,__source:!0};function T_(t,e,r){var i,n={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)uC.call(e,i)&&!dC.hasOwnProperty(i)&&(n[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:__,type:t,key:a,ref:s,props:n,_owner:lC.current}}to.jsx=T_;to.jsxs=T_;Ru.exports=to;const en=Ru.exports.jsx,$d=Ru.exports.jsxs,cC=Ru.exports.Fragment;var ts;typeof window!="undefined"?ts=window:typeof Pl!="undefined"?ts=Pl:typeof self!="undefined"?ts=self:ts={};var L=ts,fC={},hC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fC}),pC=C0(hC),$g=typeof Pl!="undefined"?Pl:typeof window!="undefined"?window:{},mC=pC,rs;typeof document!="undefined"?rs=document:(rs=$g["__GLOBAL_DOCUMENT_CACHE@4"],rs||(rs=$g["__GLOBAL_DOCUMENT_CACHE@4"]=mC));var $=rs;function Wt(){return Wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Wt.apply(this,arguments)}var gC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wt});function oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Us(t,e){return Us=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Us(t,e)}function X(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Us(t,e)}var vC=yC;function yC(t,e){var r,i=null;try{r=JSON.parse(t,e)}catch(n){i=n}return[i,r]}var lf={exports:{}};(function(t,e){function r(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return s[l];var d=String(l),h=i[d.toLowerCase()];if(h)return h;var h=n[d.toLowerCase()];if(h)return h;if(d.length===1)return d.charCodeAt(0)}r.isEventKey=function(u,d){if(u&&typeof u=="object"){var h=u.which||u.keyCode||u.charCode;if(h==null)return!1;if(typeof d=="string"){var f=i[d.toLowerCase()];if(f)return f===h;var f=n[d.toLowerCase()];if(f)return f===h}else if(typeof d=="number")return d===h;return!1}},e=t.exports=r;var i=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)i[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)i[a-48]=a;for(a=1;a<13;a++)i["f"+a]=a+111;for(a=0;a<10;a++)i["numpad "+a]=a+96;var s=e.names=e.title={};for(a in i)s[i[a]]=a;for(var o in n)i[o]=n[o]})(lf,lf.exports);var ue=lf.exports,Oh={exports:{}},_C=C0(gC),TC=xC,SC=Object.prototype.toString;function xC(t){if(!t)return!1;var e=SC.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window!="undefined"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var bC=L,EC=function(e,r){return r===void 0&&(r=!1),function(i,n,a){if(i){e(i);return}if(n.statusCode>=400&&n.statusCode<=599){var s=a;if(r)if(bC.TextDecoder){var o=wC(n.headers&&n.headers["content-type"]);try{s=new TextDecoder(o).decode(a)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:s});return}e(null,a)}};function wC(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,r){var i=r.split("="),n=i[0],a=i[1];return n.trim()==="charset"?a.trim():e},"utf-8")}var CC=EC,S_=L,kC=_C,PC=TC;wr.httpHandler=CC;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var AC=function(e){var r={};return e&&e.trim().split(`
`).forEach(function(i){var n=i.indexOf(":"),a=i.slice(0,n).trim().toLowerCase(),s=i.slice(n+1).trim();typeof r[a]=="undefined"?r[a]=s:Array.isArray(r[a])?r[a].push(s):r[a]=[r[a],s]}),r};Oh.exports=wr;Oh.exports.default=wr;wr.XMLHttpRequest=S_.XMLHttpRequest||DC;wr.XDomainRequest="withCredentials"in new wr.XMLHttpRequest?wr.XMLHttpRequest:S_.XDomainRequest;IC(["get","put","post","patch","head","delete"],function(t){wr[t==="delete"?"del":t]=function(e,r,i){return r=x_(e,r,i),r.method=t.toUpperCase(),b_(r)}});function IC(t,e){for(var r=0;r<t.length;r++)e(t[r])}function LC(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function x_(t,e,r){var i=t;return PC(e)?(r=e,typeof t=="string"&&(i={uri:t})):i=kC({},e,{uri:t}),i.callback=r,i}function wr(t,e,r){return e=x_(t,e,r),b_(e)}function b_(t){if(typeof t.callback=="undefined")throw new Error("callback argument missing");var e=!1,r=function(C,P,M){e||(e=!0,t.callback(C,P,M))};function i(){o.readyState===4&&setTimeout(s,0)}function n(){var E=void 0;if(o.response?E=o.response:E=o.responseText||OC(o),S)try{E=JSON.parse(E)}catch{}return E}function a(E){return clearTimeout(v),E instanceof Error||(E=new Error(""+(E||"Unknown XMLHttpRequest Error"))),E.statusCode=0,r(E,_)}function s(){if(!u){var E;clearTimeout(v),t.useXDR&&o.status===void 0?E=200:E=o.status===1223?204:o.status;var C=_,P=null;return E!==0?(C={body:n(),statusCode:E,method:h,headers:{},url:d,rawRequest:o},o.getAllResponseHeaders&&(C.headers=AC(o.getAllResponseHeaders()))):P=new Error("Internal XMLHttpRequest Error"),r(P,C,C.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new wr.XDomainRequest:o=new wr.XMLHttpRequest);var l,u,d=o.url=t.uri||t.url,h=o.method=t.method||"GET",f=t.body||t.data,y=o.headers=t.headers||{},x=!!t.sync,S=!1,v,_={body:void 0,headers:{},statusCode:0,method:h,url:d,rawRequest:o};if("json"in t&&t.json!==!1&&(S=!0,y.accept||y.Accept||(y.Accept="application/json"),h!=="GET"&&h!=="HEAD"&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),f=JSON.stringify(t.json===!0?f:t.json))),o.onreadystatechange=i,o.onload=s,o.onerror=a,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=a,o.open(h,d,!x,t.username,t.password),x||(o.withCredentials=!!t.withCredentials),!x&&t.timeout>0&&(v=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var E=new Error("XMLHttpRequest timeout");E.code="ETIMEDOUT",a(E)}},t.timeout)),o.setRequestHeader)for(l in y)y.hasOwnProperty(l)&&o.setRequestHeader(l,y[l]);else if(t.headers&&!LC(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(f||null),o}function OC(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function DC(){}var E_=Oh.exports,w_={exports:{}},Gg=$,Dh=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Ht(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Ht.prototype=Dh(Error.prototype);Ht.prototype.constructor=Ht;Ht.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Mh(t){function e(i,n,a,s){return(i|0)*3600+(n|0)*60+(a|0)+(s|0)/1e3}var r=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return r?r[3]?e(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?e(r[1],r[2],0,r[4]):e(0,r[1],r[2],r[4]):null}function _s(){this.values=Dh(null)}_s.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,r){for(var i=0;i<r.length;++i)if(e===r[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function ns(t,e,r,i){var n=i?t.split(i):[t];for(var a in n)if(typeof n[a]=="string"){var s=n[a].split(r);if(s.length===2){var o=s[0],l=s[1];e(o,l)}}}function MC(t,e,r){var i=t;function n(){var o=Mh(t);if(o===null)throw new Ht(Ht.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,l){var u=new _s;ns(o,function(d,h){switch(d){case"region":for(var f=r.length-1;f>=0;f--)if(r[f].id===h){u.set(d,r[f].region);break}break;case"vertical":u.alt(d,h,["rl","lr"]);break;case"line":var y=h.split(","),x=y[0];u.integer(d,x),u.percent(d,x)&&u.set("snapToLines",!1),u.alt(d,x,["auto"]),y.length===2&&u.alt("lineAlign",y[1],["start","center","end"]);break;case"position":y=h.split(","),u.percent(d,y[0]),y.length===2&&u.alt("positionAlign",y[1],["start","center","end"]);break;case"size":u.percent(d,h);break;case"align":u.alt(d,h,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=n(),s(),t.substr(0,3)!=="-->")throw new Ht(Ht.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),s(),e.endTime=n(),s(),a(t,e)}var Gd=Gg.createElement&&Gg.createElement("textarea"),RC={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},qg={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},NC={v:"title",lang:"lang"},Xg={rt:"ruby"};function C_(t,e){function r(){if(!e)return null;function x(v){return e=e.substr(v.length),v}var S=e.match(/^([^<]*)(<[^>]*>?)?/);return x(S[1]?S[1]:S[2])}function i(x){return Gd.innerHTML=x,x=Gd.textContent,Gd.textContent="",x}function n(x,S){return!Xg[S.localName]||Xg[S.localName]===x.localName}function a(x,S){var v=RC[x];if(!v)return null;var _=t.document.createElement(v),E=NC[x];return E&&S&&(_[E]=S.trim()),_}for(var s=t.document.createElement("div"),o=s,l,u=[];(l=r())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var d=Mh(l.substr(1,l.length-2)),h;if(d){h=t.document.createProcessingInstruction("timestamp",d),o.appendChild(h);continue}var f=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(h=a(f[1],f[3]),!h)||!n(o,h))continue;if(f[2]){var y=f[2].split(".");y.forEach(function(x){var S=/^bg_/.test(x),v=S?x.slice(3):x;if(qg.hasOwnProperty(v)){var _=S?"background-color":"color",E=qg[v];h.style[_]=E}}),h.className=y.join(" ")}u.push(f[1]),o.appendChild(h),o=h;continue}o.appendChild(t.document.createTextNode(i(l)))}return s}var Kg=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function FC(t){for(var e=0;e<Kg.length;e++){var r=Kg[e];if(t>=r[0]&&t<=r[1])return!0}return!1}function UC(t){var e=[],r="",i;if(!t||!t.childNodes)return"ltr";function n(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function a(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var d=u.match(/^.*(\n|\r)/);return d?(o.length=0,d[0]):u}if(l.tagName==="ruby")return a(o);if(l.childNodes)return n(o,l),a(o)}for(n(e,t);r=a(e);)for(var s=0;s<r.length;s++)if(i=r.charCodeAt(s),FC(i))return"rtl";return"ltr"}function BC(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,r=e.textTrackList,i=0,n=0;n<r.length&&r[n]!==e;n++)r[n].mode==="showing"&&i++;return++i*-1}function Nu(){}Nu.prototype.applyStyles=function(t,e){e=e||this.div;for(var r in t)t.hasOwnProperty(r)&&(e.style[r]=t[r])};Nu.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Zl(t,e,r){Nu.call(this),this.cue=e,this.cueDiv=C_(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:UC(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var n=0;switch(e.positionAlign){case"start":n=e.position;break;case"center":n=e.position-e.size/2;break;case"end":n=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}Zl.prototype=Dh(Nu.prototype);Zl.prototype.constructor=Zl;function _t(t){var e,r,i,n;if(t.div){r=t.div.offsetHeight,i=t.div.offsetWidth,n=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||r,this.bottom=t.bottom||n+(t.height||r),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}_t.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};_t.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};_t.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};_t.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};_t.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};_t.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),r=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*r;return i/(this.height*this.width)};_t.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};_t.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var n={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||r};return n};function jC(t,e,r,i){function n(v,_){for(var E,C=new _t(v),P=1,M=0;M<_.length;M++){for(;v.overlapsOppositeAxis(r,_[M])||v.within(r)&&v.overlapsAny(i);)v.move(_[M]);if(v.within(r))return v;var D=v.intersectPercentage(r);P>D&&(E=new _t(v),P=D),v=new _t(C)}return E||C}var a=new _t(e),s=e.cue,o=BC(s),l=[];if(s.snapToLines){var u;switch(s.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var d=a.lineHeight,h=d*Math.round(o),f=r[u]+d,y=l[0];Math.abs(h)>f&&(h=h<0?-1:1,h*=Math.ceil(f/d)*d),o<0&&(h+=s.vertical===""?r.height:r.width,l=l.reverse()),a.move(y,h)}else{var x=a.lineHeight/r.height*100;switch(s.lineAlign){case"center":o-=x/2;break;case"end":o-=x;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],a=new _t(e)}var S=n(a,l);e.move(S.toCSSCompatValues(r))}function ga(){}ga.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};ga.convertCueToDOMTree=function(t,e){return!t||!e?null:C_(t,e)};var VC=.05,HC="sans-serif",zC="1.5%";ga.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=zC,r.appendChild(i);function n(d){for(var h=0;h<d.length;h++)if(d[h].hasBeenReset||!d[h].displayState)return!0;return!1}if(!n(e)){for(var a=0;a<e.length;a++)i.appendChild(e[a].displayState);return}var s=[],o=_t.getSimpleBoxPosition(i),l=Math.round(o.height*VC*100)/100,u={font:l+"px "+HC};(function(){for(var d,h,f=0;f<e.length;f++)h=e[f],d=new Zl(t,h,u),i.appendChild(d.div),jC(t,d,o,s),h.displayState=d.div,s.push(_t.getSimpleBoxPosition(d))})()};ga.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]};ga.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Ht)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function r(){for(var d=e.buffer,h=0;h<d.length&&d[h]!=="\r"&&d[h]!==`
`;)++h;var f=d.substr(0,h);return d[h]==="\r"&&++h,d[h]===`
`&&++h,e.buffer=d.substr(h),f}function i(d){var h=new _s;if(ns(d,function(y,x){switch(y){case"id":h.set(y,x);break;case"width":h.percent(y,x);break;case"lines":h.integer(y,x);break;case"regionanchor":case"viewportanchor":var S=x.split(",");if(S.length!==2)break;var v=new _s;if(v.percent("x",S[0]),v.percent("y",S[1]),!v.has("x")||!v.has("y"))break;h.set(y+"X",v.get("x")),h.set(y+"Y",v.get("y"));break;case"scroll":h.alt(y,x,["up"]);break}},/=/,/\s/),h.has("id")){var f=new(e.vttjs.VTTRegion||e.window.VTTRegion);f.width=h.get("width",100),f.lines=h.get("lines",3),f.regionAnchorX=h.get("regionanchorX",0),f.regionAnchorY=h.get("regionanchorY",100),f.viewportAnchorX=h.get("viewportanchorX",0),f.viewportAnchorY=h.get("viewportanchorY",100),f.scroll=h.get("scroll",""),e.onregion&&e.onregion(f),e.regionList.push({id:h.get("id"),region:f})}}function n(d){var h=new _s;ns(d,function(f,y){switch(f){case"MPEGT":h.integer(f+"S",y);break;case"LOCA":h.set(f+"L",Mh(y));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:h.get("MPEGTS"),LOCAL:h.get("LOCAL")})}function a(d){d.match(/X-TIMESTAMP-MAP/)?ns(d,function(h,f){switch(h){case"X-TIMESTAMP-MAP":n(f);break}},/=/):ns(d,function(h,f){switch(h){case"Region":i(f);break}},/:/)}try{var s;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;s=r();var o=s.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Ht(Ht.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:s=r(),e.state){case"HEADER":/:/.test(s)?a(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",s.indexOf("-->")===-1){e.cue.id=s;continue}case"CUE":try{MC(s,e.cue,e.regionList)}catch(d){e.reportOrThrowError(d),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=s.indexOf("-->")!==-1;if(!s||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(e.state="ID");continue}}}catch(d){e.reportOrThrowError(d),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Ht(Ht.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var WC=ga,$C="auto",GC={"":1,lr:1,rl:1},qC={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function XC(t){if(typeof t!="string")return!1;var e=GC[t.toLowerCase()];return e?t.toLowerCase():!1}function qd(t){if(typeof t!="string")return!1;var e=qC[t.toLowerCase()];return e?t.toLowerCase():!1}function k_(t,e,r){this.hasBeenReset=!1;var i="",n=!1,a=t,s=e,o=r,l=null,u="",d=!0,h="auto",f="start",y="auto",x="auto",S=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(_){i=""+_}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(_){n=!!_}},startTime:{enumerable:!0,get:function(){return a},set:function(_){if(typeof _!="number")throw new TypeError("Start time must be set to a number.");a=_,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(_){if(typeof _!="number")throw new TypeError("End time must be set to a number.");s=_,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(_){o=""+_,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(_){l=_,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(_){var E=XC(_);if(E===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=E,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(_){d=!!_,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(_){if(typeof _!="number"&&_!==$C)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=_,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(_){var E=qd(_);E?(f=E,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return y},set:function(_){if(_<0||_>100)throw new Error("Position must be between 0 and 100.");y=_,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return x},set:function(_){var E=qd(_);E?(x=E,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return S},set:function(_){if(_<0||_>100)throw new Error("Size must be between 0 and 100.");S=_,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(_){var E=qd(_);if(!E)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=E,this.hasBeenReset=!0}}}),this.displayState=void 0}k_.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var KC=k_,YC={"":!0,up:!0};function QC(t){if(typeof t!="string")return!1;var e=YC[t.toLowerCase()];return e?t.toLowerCase():!1}function za(t){return typeof t=="number"&&t>=0&&t<=100}function ZC(){var t=100,e=3,r=0,i=100,n=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!za(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!za(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!za(o))throw new Error("RegionAnchorY must be between 0 and 100.");r=o}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(o){if(!za(o))throw new Error("ViewportAnchorY must be between 0 and 100.");a=o}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!za(o))throw new Error("ViewportAnchorX must be between 0 and 100.");n=o}},scroll:{enumerable:!0,get:function(){return s},set:function(o){var l=QC(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}var JC=ZC,Wr=L,si=w_.exports={WebVTT:WC,VTTCue:KC,VTTRegion:JC};Wr.vttjs=si;Wr.WebVTT=si.WebVTT;var e1=si.VTTCue,t1=si.VTTRegion,r1=Wr.VTTCue,n1=Wr.VTTRegion;si.shim=function(){Wr.VTTCue=e1,Wr.VTTRegion=t1};si.restore=function(){Wr.VTTCue=r1,Wr.VTTRegion=n1};Wr.VTTCue||si.shim();var Yg=w_.exports;function i1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xl(t,e,r){return i1()?xl=Reflect.construct:xl=function(n,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(n,o),u=new l;return s&&Us(u,s.prototype),u},xl.apply(null,arguments)}function a1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Us(t,e)}var P_={exports:{}};(function(t,e){(function(r){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,d){if(d=d||{},l=l.trim(),u=u.trim(),!u){if(!d.alwaysNormalize)return l;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");return h.path=o.normalizePath(h.path),o.buildURLFromParts(h)}var f=o.parseURL(u);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return d.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):u;var y=o.parseURL(l);if(!y)throw new Error("Error trying to parse base URL.");if(!y.netLoc&&y.path&&y.path[0]!=="/"){var x=n.exec(y.path);y.netLoc=x[1],y.path=x[2]}y.netLoc&&!y.path&&(y.path="/");var S={scheme:y.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(S.netLoc=y.netLoc,f.path[0]!=="/"))if(!f.path)S.path=y.path,f.params||(S.params=y.params,f.query||(S.query=y.query));else{var v=y.path,_=v.substring(0,v.lastIndexOf("/")+1)+f.path;S.path=o.normalizePath(_)}return S.path===null&&(S.path=d.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(S)},parseURL:function(l){var u=i.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(P_);var Qg=P_.exports,Zg="http://example.com",Fu=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=L.location&&L.location.href||"");var i=typeof L.URL=="function",n=/^\/\//.test(e),a=!L.location&&!/\/\//i.test(e);if(i?e=new L.URL(e,L.location||Zg):/\/\//i.test(e)||(e=Qg.buildAbsoluteURL(L.location&&L.location.href||"",e)),i){var s=new URL(r,e);return a?s.href.slice(Zg.length):n?s.href.slice(s.protocol.length):s.href}return Qg.buildAbsoluteURL(e,r)},Rh=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,n){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(n)},e.off=function(i,n){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(n);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var n=this.listeners[i];if(!!n)if(arguments.length===2)for(var a=n.length,s=0;s<a;++s)n[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=n.length,u=0;u<l;++u)n[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(n){i.push(n)})},t}(),s1=function(e){return L.atob?L.atob(e):Buffer.from(e,"base64").toString("binary")};function A_(t){for(var e=s1(t),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var o1=function(t){X(e,t);function e(){var i;return i=t.call(this)||this,i.buffer="",i}var r=e.prototype;return r.push=function(n){var a;for(this.buffer+=n,a=this.buffer.indexOf(`
`);a>-1;a=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},e}(Rh),l1=String.fromCharCode(9),Xd=function(e){var r=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return r[1]&&(i.length=parseInt(r[1],10)),r[2]&&(i.offset=parseInt(r[2],10)),i},u1=function(){var e="[^=]*",r='"[^"]*"|[^,]*',i="(?:"+e+")=(?:"+r+")";return new RegExp("(?:^|,)("+i+")")},ir=function(e){for(var r=e.split(u1()),i={},n=r.length,a;n--;)r[n]!==""&&(a=/([^=]*)=(.*)/.exec(r[n]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),i[a[0]]=a[1]);return i},d1=function(t){X(e,t);function e(){var i;return i=t.call(this)||this,i.customParsers=[],i.tagMappers=[],i}var r=e.prototype;return r.push=function(n){var a=this,s,o;if(n=n.trim(),n.length!==0){if(n[0]!=="#"){this.trigger("data",{type:"uri",uri:n});return}var l=this.tagMappers.reduce(function(u,d){var h=d(n);return h===n?u:u.concat([h])},[n]);l.forEach(function(u){for(var d=0;d<a.customParsers.length;d++)if(a.customParsers[d].call(a,u))return;if(u.indexOf("#EXT")!==0){a.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),s=/^#EXTM3U/.exec(u),s){a.trigger("data",{type:"tag",tagType:"m3u"});return}if(s=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),s){o={type:"tag",tagType:"inf"},s[1]&&(o.duration=parseFloat(s[1])),s[2]&&(o.title=s[2]),a.trigger("data",o);return}if(s=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"targetduration"},s[1]&&(o.duration=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"version"},s[1]&&(o.version=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"media-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),s){o={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(o.number=parseInt(s[1],10)),a.trigger("data",o);return}if(s=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"playlist-type"},s[1]&&(o.playlistType=s[1]),a.trigger("data",o);return}if(s=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u),s){o=Wt(Xd(s[1]),{type:"tag",tagType:"byterange"}),a.trigger("data",o);return}if(s=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),s){o={type:"tag",tagType:"allow-cache"},s[1]&&(o.allowed=!/NO/.test(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-MAP:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"map"},s[1]){var h=ir(s[1]);h.URI&&(o.uri=h.URI),h.BYTERANGE&&(o.byterange=Xd(h.BYTERANGE))}a.trigger("data",o);return}if(s=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),s){if(o={type:"tag",tagType:"stream-inf"},s[1]){if(o.attributes=ir(s[1]),o.attributes.RESOLUTION){var f=o.attributes.RESOLUTION.split("x"),y={};f[0]&&(y.width=parseInt(f[0],10)),f[1]&&(y.height=parseInt(f[1],10)),o.attributes.RESOLUTION=y}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}a.trigger("data",o);return}if(s=/^#EXT-X-MEDIA:?(.*)$/.exec(u),s){o={type:"tag",tagType:"media"},s[1]&&(o.attributes=ir(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-ENDLIST/.exec(u),s){a.trigger("data",{type:"tag",tagType:"endlist"});return}if(s=/^#EXT-X-DISCONTINUITY/.exec(u),s){a.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(s=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),s){o={type:"tag",tagType:"program-date-time"},s[1]&&(o.dateTimeString=s[1],o.dateTimeObject=new Date(s[1])),a.trigger("data",o);return}if(s=/^#EXT-X-KEY:?(.*)$/.exec(u),s){o={type:"tag",tagType:"key"},s[1]&&(o.attributes=ir(s[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),a.trigger("data",o);return}if(s=/^#EXT-X-START:?(.*)$/.exec(u),s){o={type:"tag",tagType:"start"},s[1]&&(o.attributes=ir(s[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out-cont"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-out"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),s){o={type:"tag",tagType:"cue-in"},s[1]?o.data=s[1]:o.data="",a.trigger("data",o);return}if(s=/^#EXT-X-SKIP:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"skip"},o.attributes=ir(s[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(l1)),a.trigger("data",o);return}if(s=/^#EXT-X-PART:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part"},o.attributes=ir(s[1]),["DURATION"].forEach(function(x){o.attributes.hasOwnProperty(x)&&(o.attributes[x]=parseFloat(o.attributes[x]))}),["INDEPENDENT","GAP"].forEach(function(x){o.attributes.hasOwnProperty(x)&&(o.attributes[x]=/YES/.test(o.attributes[x]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=Xd(o.attributes.BYTERANGE)),a.trigger("data",o);return}if(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"server-control"},o.attributes=ir(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(x){o.attributes.hasOwnProperty(x)&&(o.attributes[x]=parseFloat(o.attributes[x]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(x){o.attributes.hasOwnProperty(x)&&(o.attributes[x]=/YES/.test(o.attributes[x]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PART-INF:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"part-inf"},o.attributes=ir(s[1]),["PART-TARGET"].forEach(function(x){o.attributes.hasOwnProperty(x)&&(o.attributes[x]=parseFloat(o.attributes[x]))}),a.trigger("data",o);return}if(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=ir(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(x){if(o.attributes.hasOwnProperty(x)){o.attributes[x]=parseInt(o.attributes[x],10);var S=x==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[S]=o.attributes[x],delete o.attributes[x]}}),a.trigger("data",o);return}if(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),s&&s[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=ir(s[1]),["LAST-MSN","LAST-PART"].forEach(function(x){o.attributes.hasOwnProperty(x)&&(o.attributes[x]=parseInt(o.attributes[x],10))}),a.trigger("data",o);return}a.trigger("data",{type:"tag",data:u.slice(4)})})}},r.addParser=function(n){var a=this,s=n.expression,o=n.customType,l=n.dataParser,u=n.segment;typeof l!="function"&&(l=function(h){return h}),this.customParsers.push(function(d){var h=s.exec(d);if(h)return a.trigger("data",{type:"custom",data:l(d),customType:o,segment:u}),!0})},r.addTagMapper=function(n){var a=n.expression,s=n.map,o=function(u){return a.test(u)?s(u):u};this.tagMappers.push(o)},e}(Rh),c1=function(e){return e.toLowerCase().replace(/-(\w)/g,function(r){return r[1].toUpperCase()})},pi=function(e){var r={};return Object.keys(e).forEach(function(i){r[c1(i)]=e[i]}),r},Kd=function(e){var r=e.serverControl,i=e.targetDuration,n=e.partTargetDuration;if(!!r){var a="#EXT-X-SERVER-CONTROL",s="holdBack",o="partHoldBack",l=i&&i*3,u=n&&n*2;i&&!r.hasOwnProperty(s)&&(r[s]=l,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&r[s]<l&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+r[s]+") to targetDuration * 3 ("+l+")"}),r[s]=l),n&&!r.hasOwnProperty(o)&&(r[o]=n*3,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+r[o]+")."})),n&&r[o]<u&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+r[o]+") to partTargetDuration * 2 ("+u+")."}),r[o]=u)}},f1=function(t){X(e,t);function e(){var i;i=t.call(this)||this,i.lineStream=new o1,i.parseStream=new d1,i.lineStream.pipe(i.parseStream);var n=oe(i),a=[],s={},o,l,u=!1,d=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",y=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var x=0,S=0;return i.on("end",function(){s.uri||!s.parts&&!s.preloadHints||(!s.map&&o&&(s.map=o),!s.key&&l&&(s.key=l),!s.timeline&&typeof y=="number"&&(s.timeline=y),i.manifest.preloadSegment=s)}),i.parseStream.on("data",function(v){var _,E;({tag:function(){({version:function(){v.version&&(this.manifest.version=v.version)},"allow-cache":function(){this.manifest.allowCache=v.allowed,"allowed"in v||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var M={};"length"in v&&(s.byterange=M,M.length=v.length,"offset"in v||(v.offset=x)),"offset"in v&&(s.byterange=M,M.offset=v.offset),x=M.offset+M.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),v.duration>0&&(s.duration=v.duration),v.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(!v.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(v.attributes.METHOD==="NONE"){l=null;return}if(!v.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(v.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:v.attributes};return}if(v.attributes.KEYFORMAT===f){var M=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(M.indexOf(v.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(v.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),v.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(v.attributes.KEYID&&v.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:v.attributes.KEYFORMAT,keyId:v.attributes.KEYID.substring(2)},pssh:A_(v.attributes.URI.split(",")[1])};return}v.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:v.attributes.METHOD||"AES-128",uri:v.attributes.URI},typeof v.attributes.IV!="undefined"&&(l.iv=v.attributes.IV)},"media-sequence":function(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+v.number});return}this.manifest.mediaSequence=v.number},"discontinuity-sequence":function(){if(!isFinite(v.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+v.number});return}this.manifest.discontinuitySequence=v.number,y=v.number},"playlist-type":function(){if(!/VOD|EVENT/.test(v.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+v.playlist});return}this.manifest.playlistType=v.playlistType},map:function(){o={},v.uri&&(o.uri=v.uri),v.byterange&&(o.byterange=v.byterange),l&&(o.key=l)},"stream-inf":function(){if(this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||h,!v.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),Wt(s.attributes,v.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,!(v.attributes&&v.attributes.TYPE&&v.attributes["GROUP-ID"]&&v.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var M=this.manifest.mediaGroups[v.attributes.TYPE];M[v.attributes["GROUP-ID"]]=M[v.attributes["GROUP-ID"]]||{},_=M[v.attributes["GROUP-ID"]],E={default:/yes/i.test(v.attributes.DEFAULT)},E.default?E.autoselect=!0:E.autoselect=/yes/i.test(v.attributes.AUTOSELECT),v.attributes.LANGUAGE&&(E.language=v.attributes.LANGUAGE),v.attributes.URI&&(E.uri=v.attributes.URI),v.attributes["INSTREAM-ID"]&&(E.instreamId=v.attributes["INSTREAM-ID"]),v.attributes.CHARACTERISTICS&&(E.characteristics=v.attributes.CHARACTERISTICS),v.attributes.FORCED&&(E.forced=/yes/i.test(v.attributes.FORCED)),_[v.attributes.NAME]=E},discontinuity:function(){y+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=v.dateTimeString,this.manifest.dateTimeObject=v.dateTimeObject),s.dateTimeString=v.dateTimeString,s.dateTimeObject=v.dateTimeObject},targetduration:function(){if(!isFinite(v.duration)||v.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+v.duration});return}this.manifest.targetDuration=v.duration,Kd.call(this,this.manifest)},start:function(){if(!v.attributes||isNaN(v.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:v.attributes["TIME-OFFSET"],precise:v.attributes.PRECISE}},"cue-out":function(){s.cueOut=v.data},"cue-out-cont":function(){s.cueOutCont=v.data},"cue-in":function(){s.cueIn=v.data},skip:function(){this.manifest.skip=pi(v.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",v.attributes,["SKIPPED-SEGMENTS"])},part:function(){var M=this;u=!0;var D=this.manifest.segments.length,j=pi(v.attributes);s.parts=s.parts||[],s.parts.push(j),j.byterange&&(j.byterange.hasOwnProperty("offset")||(j.byterange.offset=S),S=j.byterange.offset+j.byterange.length);var N=s.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+N+" for segment #"+D,v.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(F,B){F.hasOwnProperty("lastPart")||M.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+B+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var M=this.manifest.serverControl=pi(v.attributes);M.hasOwnProperty("canBlockReload")||(M.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Kd.call(this,this.manifest),M.canSkipDateranges&&!M.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var M=this.manifest.segments.length,D=pi(v.attributes),j=D.type&&D.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(D),D.byterange&&(D.byterange.hasOwnProperty("offset")||(D.byterange.offset=j?S:0,j&&(S=D.byterange.offset+D.byterange.length)));var N=s.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+N+" for segment #"+M,v.attributes,["TYPE","URI"]),!!D.type)for(var F=0;F<s.preloadHints.length-1;F++){var B=s.preloadHints[F];!B.type||B.type===D.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+N+" for segment #"+M+" has the same TYPE "+D.type+" as preload hint #"+F})}},"rendition-report":function(){var M=pi(v.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(M);var D=this.manifest.renditionReports.length-1,j=["LAST-MSN","URI"];u&&j.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+D,v.attributes,j)},"part-inf":function(){this.manifest.partInf=pi(v.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",v.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Kd.call(this,this.manifest)}}[v.tagType]||d).call(n)},uri:function(){s.uri=v.uri,a.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),l&&(s.key=l),s.timeline=y,o&&(s.map=o),S=0,s={}},comment:function(){},custom:function(){v.segment?(s.custom=s.custom||{},s.custom[v.customType]=v.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[v.customType]=v.data)}})[v.type].call(n)}),i}var r=e.prototype;return r.warnOnMissingAttributes_=function(n,a,s){var o=[];s.forEach(function(l){a.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:n+" lacks required attribute(s): "+o.join(", ")})},r.push=function(n){this.lineStream.push(n)},r.end=function(){this.lineStream.push(`
`),this.trigger("end")},r.addParser=function(n){this.parseStream.addParser(n)},r.addTagMapper=function(n){this.parseStream.addTagMapper(n)},e}(Rh),Gn={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},h1=["video","audio","text"],Jg=["Video","Audio","Text"],I_=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,n){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(n).toString(16)).slice(-2);return"avc1."+a+"00"+s})},mr=function(e){e===void 0&&(e="");var r=e.split(","),i=[];return r.forEach(function(n){n=n.trim();var a;h1.forEach(function(s){var o=Gn[s].exec(n.toLowerCase());if(!(!o||o.length<=1)){a=s;var l=n.substring(0,o[1].length),u=n.replace(l,"");i.push({type:l,details:u,mediaType:s})}}),a||i.push({type:n,details:"",mediaType:"unknown"})}),i},p1=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var i=e.mediaGroups.AUDIO[r];if(!i)return null;for(var n in i){var a=i[n];if(a.default&&a.playlists)return mr(a.playlists[0].attributes.CODECS)}return null},L_=function(e){return e===void 0&&(e=""),Gn.audio.test(e.trim().toLowerCase())},m1=function(e){return e===void 0&&(e=""),Gn.text.test(e.trim().toLowerCase())},Bs=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(a){return I_(a.trim())}),i="video";r.length===1&&L_(r[0])?i="audio":r.length===1&&m1(r[0])&&(i="application");var n="mp4";return r.every(function(a){return Gn.mp4.test(a)})?n="mp4":r.every(function(a){return Gn.webm.test(a)})?n="webm":r.every(function(a){return Gn.ogg.test(a)})&&(n="ogg"),i+"/"+n+';codecs="'+e+'"'}},bl=function(e){return e===void 0&&(e=""),L.MediaSource&&L.MediaSource.isTypeSupported&&L.MediaSource.isTypeSupported(Bs(e))||!1},Yd=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var i=0;i<Jg.length;i++){var n=Jg[i];if(Gn["muxer"+n].test(r))return!0}return!1})},ev="mp4a.40.2",g1="avc1.4d400d",v1=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,y1=/^application\/dash\+xml/i,O_=function(e){return v1.test(e)?"hls":y1.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},Cn={},oi={};function Nh(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var D_=Nh({HTML:"text/html",isHTML:function(t){return t===D_.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),M_=Nh({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===M_.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});oi.freeze=Nh;oi.MIME_TYPE=D_;oi.NAMESPACE=M_;var _1=oi,js=_1.NAMESPACE;function T1(t){return t!==""}function S1(t){return t?t.split(/[\t\n\f\r ]+/).filter(T1):[]}function x1(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function tv(t){if(!t)return[];var e=S1(t);return Object.keys(e.reduce(x1,{}))}function b1(t){return function(e){return t&&t.indexOf(e)!==-1}}function ro(t,e){for(var r in t)e[r]=t[r]}function Ot(t,e){var r=t.prototype;if(!(r instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,ro(r,i),t.prototype=r=i}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var Dt={},lr=Dt.ELEMENT_NODE=1,Zi=Dt.ATTRIBUTE_NODE=2,Jl=Dt.TEXT_NODE=3,R_=Dt.CDATA_SECTION_NODE=4,N_=Dt.ENTITY_REFERENCE_NODE=5,E1=Dt.ENTITY_NODE=6,F_=Dt.PROCESSING_INSTRUCTION_NODE=7,U_=Dt.COMMENT_NODE=8,B_=Dt.DOCUMENT_NODE=9,j_=Dt.DOCUMENT_TYPE_NODE=10,$r=Dt.DOCUMENT_FRAGMENT_NODE=11,w1=Dt.NOTATION_NODE=12,ft={},Ye={};ft.INDEX_SIZE_ERR=(Ye[1]="Index size error",1);ft.DOMSTRING_SIZE_ERR=(Ye[2]="DOMString size error",2);var C1=ft.HIERARCHY_REQUEST_ERR=(Ye[3]="Hierarchy request error",3);ft.WRONG_DOCUMENT_ERR=(Ye[4]="Wrong document",4);ft.INVALID_CHARACTER_ERR=(Ye[5]="Invalid character",5);ft.NO_DATA_ALLOWED_ERR=(Ye[6]="No data allowed",6);ft.NO_MODIFICATION_ALLOWED_ERR=(Ye[7]="No modification allowed",7);var k1=ft.NOT_FOUND_ERR=(Ye[8]="Not found",8);ft.NOT_SUPPORTED_ERR=(Ye[9]="Not supported",9);var rv=ft.INUSE_ATTRIBUTE_ERR=(Ye[10]="Attribute in use",10);ft.INVALID_STATE_ERR=(Ye[11]="Invalid state",11);ft.SYNTAX_ERR=(Ye[12]="Syntax error",12);ft.INVALID_MODIFICATION_ERR=(Ye[13]="Invalid modification",13);ft.NAMESPACE_ERR=(Ye[14]="Invalid namespace",14);ft.INVALID_ACCESS_ERR=(Ye[15]="Invalid access",15);function Jn(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Ye[t]),this.message=Ye[t],Error.captureStackTrace&&Error.captureStackTrace(this,Jn);return r.code=t,e&&(this.message=this.message+": "+e),r}Jn.prototype=Error.prototype;ro(ft,Jn);function jr(){}jr.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],i=0;i<this.length;i++)Li(this[i],r,t,e);return r.join("")}};function Ji(t,e){this._node=t,this._refresh=e,Fh(this)}function Fh(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);Z_(t,"length",r.length),ro(r,t),t._inc=e}}Ji.prototype.item=function(t){return Fh(this),this[t]};Ot(Ji,jr);function eu(){}function V_(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function nv(t,e,r,i){if(i?e[V_(e,i)]=r:e[e.length++]=r,t){r.ownerElement=t;var n=t.ownerDocument;n&&(i&&W_(n,t,i),P1(n,t,r))}}function iv(t,e,r){var i=V_(e,r);if(i>=0){for(var n=e.length-1;i<n;)e[i]=e[++i];if(e.length=n,t){var a=t.ownerDocument;a&&(W_(a,t,r),r.ownerElement=null)}}else throw Jn(k1,new Error(t.tagName+"@"+r))}eu.prototype={length:0,item:jr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Jn(rv);var r=this.getNamedItem(t.nodeName);return nv(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new Jn(rv);return r=this.getNamedItemNS(t.namespaceURI,t.localName),nv(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return iv(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return iv(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var i=this[r];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function H_(){}H_.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var i=new no;if(i.implementation=this,i.childNodes=new jr,i.doctype=r||null,r&&i.appendChild(r),e){var n=i.createElementNS(t,e);i.appendChild(n)}return i},createDocumentType:function(t,e,r){var i=new Uu;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=r||"",i}};function ht(){}ht.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return G_(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return $_(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return uf(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Jl&&t.nodeType==Jl?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var i in r)if(r[i]==t)return i}e=e.nodeType==Zi?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=e.nodeType==Zi?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function z_(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}ro(Dt,ht);ro(Dt,ht.prototype);function Vs(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Vs(t,e))return!0;while(t=t.nextSibling)}function no(){}function P1(t,e,r){t&&t._inc++;var i=r.namespaceURI;i===js.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function W_(t,e,r,i){t&&t._inc++;var n=r.namespaceURI;n===js.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function Uh(t,e,r){if(t&&t._inc){t._inc++;var i=e.childNodes;if(r)i[i.length++]=r;else{for(var n=e.firstChild,a=0;n;)i[a++]=n,n=n.nextSibling;i.length=a}}}function $_(t,e){var r=e.previousSibling,i=e.nextSibling;return r?r.nextSibling=i:t.firstChild=i,i?i.previousSibling=r:t.lastChild=r,Uh(t.ownerDocument,t),e}function G_(t,e,r){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===$r){var n=e.firstChild;if(n==null)return e;var a=e.lastChild}else n=a=e;var s=r?r.previousSibling:t.lastChild;n.previousSibling=s,a.nextSibling=r,s?s.nextSibling=n:t.firstChild=n,r==null?t.lastChild=a:r.previousSibling=a;do n.parentNode=t;while(n!==a&&(n=n.nextSibling));return Uh(t.ownerDocument||t,t),e.nodeType==$r&&(e.firstChild=e.lastChild=null),e}function A1(t,e){var r=e.parentNode;if(r){var i=t.lastChild;r.removeChild(e);var i=t.lastChild}var i=t.lastChild;return e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,Uh(t.ownerDocument,t,e),e}no.prototype={nodeName:"#document",nodeType:B_,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==$r){for(var r=t.firstChild;r;){var i=r.nextSibling;this.insertBefore(r,e),r=i}return t}return this.documentElement==null&&t.nodeType==lr&&(this.documentElement=t),G_(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),$_(this,t)},importNode:function(t,e){return Q_(this,t,e)},getElementById:function(t){var e=null;return Vs(this.documentElement,function(r){if(r.nodeType==lr&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=tv(t);return new Ji(this,function(r){var i=[];return e.length>0&&Vs(r.documentElement,function(n){if(n!==r&&n.nodeType===lr){var a=n.getAttribute("class");if(a){var s=t===a;if(!s){var o=tv(a);s=e.every(b1(o))}s&&i.push(n)}}}),i})},createElement:function(t){var e=new ei;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new jr;var r=e.attributes=new eu;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new Bu;return t.ownerDocument=this,t.childNodes=new jr,t},createTextNode:function(t){var e=new Bh;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new jh;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Vh;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new zh;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new tu;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Hh;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new ei,i=e.split(":"),n=r.attributes=new eu;return r.childNodes=new jr,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,n._ownerElement=r,r},createAttributeNS:function(t,e){var r=new tu,i=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,i.length==2?(r.prefix=i[0],r.localName=i[1]):r.localName=e,r}};Ot(no,ht);function ei(){this._nsMap={}}ei.prototype={nodeType:lr,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===$r?this.insertBefore(t,null):A1(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+r,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Ji(this,function(e){var r=[];return Vs(e,function(i){i!==e&&i.nodeType==lr&&(t==="*"||i.tagName==t)&&r.push(i)}),r})},getElementsByTagNameNS:function(t,e){return new Ji(this,function(r){var i=[];return Vs(r,function(n){n!==r&&n.nodeType===lr&&(t==="*"||n.namespaceURI===t)&&(e==="*"||n.localName==e)&&i.push(n)}),i})}};no.prototype.getElementsByTagName=ei.prototype.getElementsByTagName;no.prototype.getElementsByTagNameNS=ei.prototype.getElementsByTagNameNS;Ot(ei,ht);function tu(){}tu.prototype.nodeType=Zi;Ot(tu,ht);function io(){}io.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Ye[C1])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var i=this.data.substring(0,t),n=this.data.substring(t+e);r=i+r+n,this.nodeValue=this.data=r,this.length=r.length}};Ot(io,ht);function Bh(){}Bh.prototype={nodeName:"#text",nodeType:Jl,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};Ot(Bh,io);function jh(){}jh.prototype={nodeName:"#comment",nodeType:U_};Ot(jh,io);function Vh(){}Vh.prototype={nodeName:"#cdata-section",nodeType:R_};Ot(Vh,io);function Uu(){}Uu.prototype.nodeType=j_;Ot(Uu,ht);function q_(){}q_.prototype.nodeType=w1;Ot(q_,ht);function X_(){}X_.prototype.nodeType=E1;Ot(X_,ht);function Hh(){}Hh.prototype.nodeType=N_;Ot(Hh,ht);function Bu(){}Bu.prototype.nodeName="#document-fragment";Bu.prototype.nodeType=$r;Ot(Bu,ht);function zh(){}zh.prototype.nodeType=F_;Ot(zh,ht);function K_(){}K_.prototype.serializeToString=function(t,e,r){return Y_.call(t,e,r)};ht.prototype.toString=Y_;function Y_(t,e){var r=[],i=this.nodeType==9&&this.documentElement||this,n=i.prefix,a=i.namespaceURI;if(a&&n==null){var n=i.lookupPrefix(a);if(n==null)var s=[{namespace:a,prefix:null}]}return Li(this,r,t,e,s),r.join("")}function av(t,e,r){var i=t.prefix||"",n=t.namespaceURI;if(!n||i==="xml"&&n===js.XML||n===js.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===i)return s.namespace!==n}return!0}function Qd(t,e,r){t.push(" ",e,'="',r.replace(/[<&"]/g,z_),'"')}function Li(t,e,r,i,n){if(n||(n=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case lr:var a=t.attributes,s=a.length,_=t.firstChild,o=t.tagName;r=js.isHTML(t.namespaceURI)||r;var l=o;if(!r&&!t.prefix&&t.namespaceURI){for(var u,d=0;d<a.length;d++)if(a.item(d).name==="xmlns"){u=a.item(d).value;break}if(!u)for(var h=n.length-1;h>=0;h--){var f=n[h];if(f.prefix===""&&f.namespace===t.namespaceURI){u=f.namespace;break}}if(u!==t.namespaceURI)for(var h=n.length-1;h>=0;h--){var f=n[h];if(f.namespace===t.namespaceURI){f.prefix&&(l=f.prefix+":"+o);break}}}e.push("<",l);for(var y=0;y<s;y++){var x=a.item(y);x.prefix=="xmlns"?n.push({prefix:x.localName,namespace:x.value}):x.nodeName=="xmlns"&&n.push({prefix:"",namespace:x.value})}for(var y=0;y<s;y++){var x=a.item(y);if(av(x,r,n)){var S=x.prefix||"",v=x.namespaceURI;Qd(e,S?"xmlns:"+S:"xmlns",v),n.push({prefix:S,namespace:v})}Li(x,e,r,i,n)}if(o===l&&av(t,r,n)){var S=t.prefix||"",v=t.namespaceURI;Qd(e,S?"xmlns:"+S:"xmlns",v),n.push({prefix:S,namespace:v})}if(_||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),r&&/^script$/i.test(o))for(;_;)_.data?e.push(_.data):Li(_,e,r,i,n.slice()),_=_.nextSibling;else for(;_;)Li(_,e,r,i,n.slice()),_=_.nextSibling;e.push("</",l,">")}else e.push("/>");return;case B_:case $r:for(var _=t.firstChild;_;)Li(_,e,r,i,n.slice()),_=_.nextSibling;return;case Zi:return Qd(e,t.name,t.value);case Jl:return e.push(t.data.replace(/[<&]/g,z_).replace(/]]>/g,"]]&gt;"));case R_:return e.push("<![CDATA[",t.data,"]]>");case U_:return e.push("<!--",t.data,"-->");case j_:var E=t.publicId,C=t.systemId;if(e.push("<!DOCTYPE ",t.name),E)e.push(" PUBLIC ",E),C&&C!="."&&e.push(" ",C),e.push(">");else if(C&&C!=".")e.push(" SYSTEM ",C,">");else{var P=t.internalSubset;P&&e.push(" [",P,"]"),e.push(">")}return;case F_:return e.push("<?",t.target," ",t.data,"?>");case N_:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Q_(t,e,r){var i;switch(e.nodeType){case lr:i=e.cloneNode(!1),i.ownerDocument=t;case $r:break;case Zi:r=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,r)for(var n=e.firstChild;n;)i.appendChild(Q_(t,n,r)),n=n.nextSibling;return i}function uf(t,e,r){var i=new e.constructor;for(var n in e){var a=e[n];typeof a!="object"&&a!=i[n]&&(i[n]=a)}switch(e.childNodes&&(i.childNodes=new jr),i.ownerDocument=t,i.nodeType){case lr:var s=e.attributes,o=i.attributes=new eu,l=s.length;o._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(uf(t,s.item(u),!0));break;case Zi:r=!0}if(r)for(var d=e.firstChild;d;)i.appendChild(uf(t,d,r)),d=d.nextSibling;return i}function Z_(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case lr:case $r:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};Object.defineProperty(Ji.prototype,"length",{get:function(){return Fh(this),this.$$length}}),Object.defineProperty(ht.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case lr:case $r:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Z_=function(e,r,i){e["$$"+r]=i}}}catch{}Cn.DocumentType=Uu;Cn.DOMException=Jn;Cn.DOMImplementation=H_;Cn.Element=ei;Cn.Node=ht;Cn.NodeList=jr;Cn.XMLSerializer=K_;var ao={},J_={};(function(t){var e=oi.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(J_);var Wh={},Hs=oi.NAMESPACE,df=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,sv=new RegExp("[\\-\\.0-9"+df.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),ov=new RegExp("^"+df.source+sv.source+"*(?::"+df.source+sv.source+"*)?$"),Wa=0,Qr=1,mi=2,$a=3,gi=4,vi=5,Ga=6,Qo=7;function ea(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,ea)}ea.prototype=new Error;ea.prototype.name=ea.name;function eT(){}eT.prototype={parse:function(t,e,r){var i=this.domBuilder;i.startDocument(),tT(e,e={}),I1(t,e,r,i,this.errorHandler),i.endDocument()}};function I1(t,e,r,i,n){function a(de){if(de>65535){de-=65536;var fe=55296+(de>>10),he=56320+(de&1023);return String.fromCharCode(fe,he)}else return String.fromCharCode(de)}function s(de){var fe=de.slice(1,-1);return fe in r?r[fe]:fe.charAt(0)==="#"?a(parseInt(fe.substr(1).replace("x","0x"))):(n.error("entity not found:"+de),de)}function o(de){if(de>S){var fe=t.substring(S,de).replace(/&#?\w+;/g,s);f&&l(S),i.characters(fe,0,de-S),S=de}}function l(de,fe){for(;de>=d&&(fe=h.exec(t));)u=fe.index,d=u+fe[0].length,f.lineNumber++;f.columnNumber=de-u+1}for(var u=0,d=0,h=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,y=[{currentNSMap:e}],x={},S=0;;){try{var v=t.indexOf("<",S);if(v<0){if(!t.substr(S).match(/^\s*$/)){var _=i.doc,E=_.createTextNode(t.substr(S));_.appendChild(E),i.currentElement=E}return}switch(v>S&&o(v),t.charAt(v+1)){case"/":var z=t.indexOf(">",v+3),C=t.substring(v+2,z).replace(/[ \t\n\r]+$/g,""),P=y.pop();z<0?(C=t.substring(v+2).replace(/[\s<].*/,""),n.error("end tag name: "+C+" is not complete:"+P.tagName),z=v+1+C.length):C.match(/\s</)&&(C=C.replace(/[\s<].*/,""),n.error("end tag name: "+C+" maybe not complete"),z=v+1+C.length);var M=P.localNSMap,D=P.tagName==C,j=D||P.tagName&&P.tagName.toLowerCase()==C.toLowerCase();if(j){if(i.endElement(P.uri,P.localName,C),M)for(var N in M)i.endPrefixMapping(N);D||n.fatalError("end tag name: "+C+" is not match the current start tagName:"+P.tagName)}else y.push(P);z++;break;case"?":f&&l(v),z=R1(t,v,i);break;case"!":f&&l(v),z=M1(t,v,i,n);break;default:f&&l(v);var F=new rT,B=y[y.length-1].currentNSMap,z=L1(t,v,F,B,s,n),K=F.length;if(!F.closed&&D1(t,z,F.tagName,x)&&(F.closed=!0,r.nbsp||n.warning("unclosed xml attribute")),f&&K){for(var J=lv(f,{}),pe=0;pe<K;pe++){var se=F[pe];l(se.offset),se.locator=lv(f,{})}i.locator=J,uv(F,i,B)&&y.push(F),i.locator=f}else uv(F,i,B)&&y.push(F);Hs.isHTML(F.uri)&&!F.closed?z=O1(t,z,F.tagName,s,i):z++}}catch(de){if(de instanceof ea)throw de;n.error("element parse error: "+de),z=-1}z>S?S=z:o(Math.max(v,S)+1)}}function lv(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function L1(t,e,r,i,n,a){function s(f,y,x){r.attributeNames.hasOwnProperty(f)&&a.fatalError("Attribute "+f+" redefined"),r.addValue(f,y,x)}for(var o,l,u=++e,d=Wa;;){var h=t.charAt(u);switch(h){case"=":if(d===Qr)o=t.slice(e,u),d=$a;else if(d===mi)d=$a;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===$a||d===Qr)if(d===Qr&&(a.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(h,e),u>0)l=t.slice(e,u).replace(/&#?\w+;/g,n),s(o,l,e-1),d=vi;else throw new Error("attribute value no end '"+h+"' match");else if(d==gi)l=t.slice(e,u).replace(/&#?\w+;/g,n),s(o,l,e),a.warning('attribute "'+o+'" missed start quot('+h+")!!"),e=u+1,d=vi;else throw new Error('attribute value must after "="');break;case"/":switch(d){case Wa:r.setTagName(t.slice(e,u));case vi:case Ga:case Qo:d=Qo,r.closed=!0;case gi:case Qr:case mi:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),d==Wa&&r.setTagName(t.slice(e,u)),u;case">":switch(d){case Wa:r.setTagName(t.slice(e,u));case vi:case Ga:case Qo:break;case gi:case Qr:l=t.slice(e,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case mi:d===mi&&(l=o),d==gi?(a.warning('attribute "'+l+'" missed quot(")!'),s(o,l.replace(/&#?\w+;/g,n),e)):((!Hs.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case $a:throw new Error("attribute value missed!!")}return u;case"\x80":h=" ";default:if(h<=" ")switch(d){case Wa:r.setTagName(t.slice(e,u)),d=Ga;break;case Qr:o=t.slice(e,u),d=mi;break;case gi:var l=t.slice(e,u).replace(/&#?\w+;/g,n);a.warning('attribute "'+l+'" missed quot(")!!'),s(o,l,e);case vi:d=Ga;break}else switch(d){case mi:r.tagName,(!Hs.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,e),e=u,d=Qr;break;case vi:a.warning('attribute space is required"'+o+'"!!');case Ga:d=Qr,e=u;break;case $a:d=gi,e=u;break;case Qo:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function uv(t,e,r){for(var i=t.tagName,n=null,h=t.length;h--;){var a=t[h],s=a.qName,o=a.value,f=s.indexOf(":");if(f>0)var l=a.prefix=s.slice(0,f),u=s.slice(f+1),d=l==="xmlns"&&u;else u=s,l=null,d=s==="xmlns"&&"";a.localName=u,d!==!1&&(n==null&&(n={},tT(r,r={})),r[d]=n[d]=o,a.uri=Hs.XMLNS,e.startPrefixMapping(d,o))}for(var h=t.length;h--;){a=t[h];var l=a.prefix;l&&(l==="xml"&&(a.uri=Hs.XML),l!=="xmlns"&&(a.uri=r[l||""]))}var f=i.indexOf(":");f>0?(l=t.prefix=i.slice(0,f),u=t.localName=i.slice(f+1)):(l=null,u=t.localName=i);var y=t.uri=r[l||""];if(e.startElement(y,u,i,t),t.closed){if(e.endElement(y,u,i),n)for(l in n)e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=n,!0}function O1(t,e,r,i,n){if(/^(?:script|textarea)$/i.test(r)){var a=t.indexOf("</"+r+">",e),s=t.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)?(n.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),n.characters(s,0,s.length),a)}return e+1}function D1(t,e,r,i){var n=i[r];return n==null&&(n=t.lastIndexOf("</"+r+">"),n<e&&(n=t.lastIndexOf("</"+r)),i[r]=n),n<e}function tT(t,e){for(var r in t)e[r]=t[r]}function M1(t,e,r,i){var n=t.charAt(e+2);switch(n){case"-":if(t.charAt(e+3)==="-"){var a=t.indexOf("-->",e+4);return a>e?(r.comment(t,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var a=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,a-e-9),r.endCDATA(),a+3}var s=N1(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],u=!1,d=!1;o>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],d=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(d=s[3][0]));var h=s[o-1];return r.startDTD(l,u,d),r.endDTD(),h.index+h[0].length}}return-1}function R1(t,e,r){var i=t.indexOf("?>",e);if(i){var n=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,r.processingInstruction(n[1],n[2]),i+2):-1}return-1}function rT(){this.attributeNames={}}rT.prototype={setTagName:function(t){if(!ov.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!ov.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function N1(t,e){var r,i=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(t);r=n.exec(t);)if(i.push(r),r[1])return i}Wh.XMLReader=eT;Wh.ParseError=ea;var F1=oi,$h=Cn,dv=J_,nT=Wh,U1=$h.DOMImplementation,cv=F1.NAMESPACE,B1=nT.ParseError,j1=nT.XMLReader;function iT(t){this.options=t||{locator:{}}}iT.prototype.parseFromString=function(t,e){var r=this.options,i=new j1,n=r.domBuilder||new so,a=r.errorHandler,s=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(e),u=l?dv.HTML_ENTITIES:dv.XML_ENTITIES;return s&&n.setDocumentLocator(s),i.errorHandler=V1(a,n,s),i.domBuilder=r.domBuilder||n,l&&(o[""]=cv.HTML),o.xml=o.xml||cv.XML,t&&typeof t=="string"?i.parse(t,o,u):i.errorHandler.error("invalid doc source"),n.doc};function V1(t,e,r){if(!t){if(e instanceof so)return e;t=e}var i={},n=t instanceof Function;r=r||{};function a(s){var o=t[s];!o&&n&&(o=t.length==2?function(l){t(s,l)}:t),i[s]=o&&function(l){o("[xmldom "+s+"]	"+l+cf(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function so(){this.cdata=!1}function yi(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}so.prototype={startDocument:function(){this.doc=new U1().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,i){var n=this.doc,a=n.createElementNS(t,r||e),s=i.length;Zo(this,a),this.currentElement=a,this.locator&&yi(this.locator,a);for(var o=0;o<s;o++){var t=i.getURI(o),l=i.getValue(o),r=i.getQName(o),u=n.createAttributeNS(t,r);this.locator&&yi(i.getLocator(o),u),u.value=u.nodeValue=l,a.setAttributeNode(u)}},endElement:function(t,e,r){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&yi(this.locator,r),Zo(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=fv.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&yi(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=fv.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&yi(this.locator,i),Zo(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var i=this.doc.implementation;if(i&&i.createDocumentType){var n=i.createDocumentType(t,e,r);this.locator&&yi(this.locator,n),Zo(this,n),this.doc.doctype=n}},warning:function(t){console.warn("[xmldom warning]	"+t,cf(this.locator))},error:function(t){console.error("[xmldom error]	"+t,cf(this.locator))},fatalError:function(t){throw new B1(t,this.locator)}};function cf(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function fv(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){so.prototype[t]=function(){return null}});function Zo(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}ao.__DOMHandler=so;ao.DOMParser=iT;ao.DOMImplementation=$h.DOMImplementation;ao.XMLSerializer=$h.XMLSerializer;var H1=ao.DOMParser;/*! @name mpd-parser @version 0.19.2 @license Apache-2.0 */var hv=function(e){return!!e&&typeof e=="object"},Tt=function t(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.reduce(function(n,a){return typeof a!="object"||Object.keys(a).forEach(function(s){Array.isArray(n[s])&&Array.isArray(a[s])?n[s]=n[s].concat(a[s]):hv(n[s])&&hv(a[s])?n[s]=t(n[s],a[s]):n[s]=a[s]}),n},{})},z1=function(e){return Object.keys(e).map(function(r){return e[r]})},W1=function(e,r){for(var i=[],n=e;n<r;n++)i.push(n);return i},ju=function(e){return e.reduce(function(r,i){return r.concat(i)},[])},aT=function(e){if(!e.length)return[];for(var r=[],i=0;i<e.length;i++)r.push(e[i]);return r},$1=function(e,r){return e.reduce(function(i,n,a){return n[r]&&i.push(a),i},[])},ta={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},zs=function(e){var r=e.baseUrl,i=r===void 0?"":r,n=e.source,a=n===void 0?"":n,s=e.range,o=s===void 0?"":s,l=e.indexRange,u=l===void 0?"":l,d={uri:a,resolvedUri:Fu(i||"",a)};if(o||u){var h=o||u,f=h.split("-"),y=parseInt(f[0],10),x=parseInt(f[1],10);d.byterange={length:x-y+1,offset:y}}return d},G1=function(e){var r=e.offset+e.length-1;return e.offset+"-"+r},pv=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},q1={static:function(e){var r=e.duration,i=e.timescale,n=i===void 0?1:i,a=e.sourceDuration,s=e.periodDuration,o=pv(e.endNumber),l=r/n;return typeof o=="number"?{start:0,end:o}:typeof s=="number"?{start:0,end:s/l}:{start:0,end:a/l}},dynamic:function(e){var r=e.NOW,i=e.clientOffset,n=e.availabilityStartTime,a=e.timescale,s=a===void 0?1:a,o=e.duration,l=e.start,u=l===void 0?0:l,d=e.minimumUpdatePeriod,h=d===void 0?0:d,f=e.timeShiftBufferDepth,y=f===void 0?1/0:f,x=pv(e.endNumber),S=(r+i)/1e3,v=n+u,_=S+h,E=_-v,C=Math.ceil(E*s/o),P=Math.floor((S-v-y)*s/o),M=Math.floor((S-v)*s/o);return{start:Math.max(0,P),end:typeof x=="number"?x:Math.min(C,M)}}},X1=function(e){return function(r,i){var n=e.duration,a=e.timescale,s=a===void 0?1:a,o=e.periodIndex,l=e.startNumber,u=l===void 0?1:l;return{number:u+r,duration:n/s,timeline:o,time:i*n}}},Gh=function(e){var r=e.type,i=e.duration,n=e.timescale,a=n===void 0?1:n,s=e.periodDuration,o=e.sourceDuration,l=q1[r](e),u=l.start,d=l.end,h=W1(u,d).map(X1(e));if(r==="static"){var f=h.length-1,y=typeof s=="number"?s:o;h[f].duration=y-i/a*f}return h},sT=function(e){var r=e.baseUrl,i=e.initialization,n=i===void 0?{}:i,a=e.sourceDuration,s=e.indexRange,o=s===void 0?"":s,l=e.duration;if(!r)throw new Error(ta.NO_BASE_URL);var u=zs({baseUrl:r,source:n.sourceURL,range:n.range}),d=zs({baseUrl:r,source:r,indexRange:o});if(d.map=u,l){var h=Gh(e);h.length&&(d.duration=h[0].duration,d.timeline=h[0].timeline)}else a&&(d.duration=a,d.timeline=0);return d.number=0,[d]},qh=function(e,r,i){for(var n=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,s=e.timeline||0,o=e.sidx.byterange,l=o.offset+o.length,u=r.timescale,d=r.references.filter(function(D){return D.referenceType!==1}),h=[],f=e.endList?"static":"dynamic",y=l+r.firstOffset,x=0;x<d.length;x++){var S=r.references[x],v=S.referencedSize,_=S.subsegmentDuration,E=y+v-1,C=y+"-"+E,P={baseUrl:i,timescale:u,timeline:s,periodIndex:s,duration:_,sourceDuration:a,indexRange:C,type:f},M=sT(P)[0];n&&(M.map=n),h.push(M),y+=v}return e.segments=h,e},Vu=function(e){return e&&e.uri+"-"+G1(e.byterange)},mv=function(e){var r=z1(e.reduce(function(i,n){var a=n.attributes.id+(n.attributes.lang||"");if(i[a]){var s;n.segments[0]&&(n.segments[0].discontinuity=!0),(s=i[a].segments).push.apply(s,n.segments),n.attributes.contentProtection&&(i[a].attributes.contentProtection=n.attributes.contentProtection)}else i[a]=n;return i},{}));return r.map(function(i){return i.discontinuityStarts=$1(i.segments,"discontinuity"),i})},Xh=function(e,r){var i=Vu(e.sidx),n=i&&r[i]&&r[i].sidx;return n&&qh(e,n,e.sidx.resolvedUri),e},K1=function(e,r){if(r===void 0&&(r={}),!Object.keys(r).length)return e;for(var i in e)e[i]=Xh(e[i],r);return e},Y1=function(e,r){var i,n=e.attributes,a=e.segments,s=e.sidx,o={attributes:(i={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:n.type==="static",timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:a,mediaSequence:a.length?a[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),s&&(o.sidx=s),r&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},Q1=function(e){var r,i=e.attributes,n=e.segments;typeof n=="undefined"&&(n=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var a=(r={NAME:i.id,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r);return i.codecs&&(a.CODECS=i.codecs),{attributes:a,uri:"",endList:i.type==="static",timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1}},Z1=function(e,r,i){r===void 0&&(r={}),i===void 0&&(i=!1);var n,a=e.reduce(function(o,l){var u=l.attributes.role&&l.attributes.role.value||"",d=l.attributes.lang||"",h=l.attributes.label||"main";if(d&&!l.attributes.label){var f=u?" ("+u+")":"";h=""+l.attributes.lang+f}o[h]||(o[h]={language:d,autoselect:!0,default:u==="main",playlists:[],uri:""});var y=Xh(Y1(l,i),r);return o[h].playlists.push(y),typeof n=="undefined"&&u==="main"&&(n=l,n.default=!0),o},{});if(!n){var s=Object.keys(a)[0];a[s].default=!0}return a},J1=function(e,r){return r===void 0&&(r={}),e.reduce(function(i,n){var a=n.attributes.lang||"text";return i[a]||(i[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),i[a].playlists.push(Xh(Q1(n),r)),i},{})},ek=function(e){return e.reduce(function(r,i){return i&&i.forEach(function(n){var a=n.channel,s=n.language;r[s]={autoselect:!1,default:!1,instreamId:a,language:s},n.hasOwnProperty("aspectRatio")&&(r[s].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(r[s].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(r[s]["3D"]=n["3D"])}),r},{})},tk=function(e){var r,i=e.attributes,n=e.segments,a=e.sidx,s={attributes:(r={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:i.type==="static",timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),a&&(s.sidx=a),s},rk=function(e){var r=e.attributes;return r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video"},nk=function(e){var r=e.attributes;return r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio"},ik=function(e){var r=e.attributes;return r.mimeType==="text/vtt"||r.contentType==="text"},ak=function(e,r,i){var n;if(i===void 0&&(i={}),!e.length)return{};var a=e[0].attributes,s=a.sourceDuration,o=a.type,l=a.suggestedPresentationDelay,u=a.minimumUpdatePeriod,d=mv(e.filter(rk)).map(tk),h=mv(e.filter(nk)),f=e.filter(ik),y=e.map(function(v){return v.attributes.captionServices}).filter(Boolean),x={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:s,playlists:K1(d,i)};u>=0&&(x.minimumUpdatePeriod=u*1e3),r&&(x.locations=r),o==="dynamic"&&(x.suggestedPresentationDelay=l);var S=x.playlists.length===0;return h.length&&(x.mediaGroups.AUDIO.audio=Z1(h,i,S)),f.length&&(x.mediaGroups.SUBTITLES.subs=J1(f,i)),y.length&&(x.mediaGroups["CLOSED-CAPTIONS"].cc=ek(y)),x},sk=function(e,r,i){var n=e.NOW,a=e.clientOffset,s=e.availabilityStartTime,o=e.timescale,l=o===void 0?1:o,u=e.start,d=u===void 0?0:u,h=e.minimumUpdatePeriod,f=h===void 0?0:h,y=(n+a)/1e3,x=s+d,S=y+f,v=S-x;return Math.ceil((v*l-r)/i)},oT=function(e,r){for(var i=e.type,n=e.minimumUpdatePeriod,a=n===void 0?0:n,s=e.media,o=s===void 0?"":s,l=e.sourceDuration,u=e.timescale,d=u===void 0?1:u,h=e.startNumber,f=h===void 0?1:h,y=e.periodIndex,x=[],S=-1,v=0;v<r.length;v++){var _=r[v],E=_.d,C=_.r||0,P=_.t||0;S<0&&(S=P),P&&P>S&&(S=P);var M=void 0;if(C<0){var D=v+1;D===r.length?i==="dynamic"&&a>0&&o.indexOf("$Number$")>0?M=sk(e,S,E):M=(l*d-S)/E:M=(r[D].t-S)/E}else M=C+1;for(var j=f+x.length+M,N=f+x.length;N<j;)x.push({number:N,duration:E/d,time:S,timeline:y}),S+=E,N++}return x},ok=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,lk=function(e){return function(r,i,n,a){if(r==="$$")return"$";if(typeof e[i]=="undefined")return r;var s=""+e[i];return i==="RepresentationID"||(n?a=parseInt(a,10):a=1,s.length>=a)?s:""+new Array(a-s.length+1).join("0")+s}},gv=function(e,r){return e.replace(ok,lk(r))},uk=function(e,r){return!e.duration&&!r?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]:e.duration?Gh(e):oT(e,r)},dk=function(e,r){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},n=e.initialization,a=n===void 0?{sourceURL:"",range:""}:n,s=zs({baseUrl:e.baseUrl,source:gv(a.sourceURL,i),range:a.range}),o=uk(e,r);return o.map(function(l){i.Number=l.number,i.Time=l.time;var u=gv(e.media||"",i),d=e.timescale||1,h=e.presentationTimeOffset||0,f=e.periodStart+(l.time-h)/d,y={uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:Fu(e.baseUrl||"",u),map:s,number:l.number,presentationTime:f};return y})},ck=function(e,r){var i=e.baseUrl,n=e.initialization,a=n===void 0?{}:n,s=zs({baseUrl:i,source:a.sourceURL,range:a.range}),o=zs({baseUrl:i,source:r.media,range:r.mediaRange});return o.map=s,o},fk=function(e,r){var i=e.duration,n=e.segmentUrls,a=n===void 0?[]:n,s=e.periodStart;if(!i&&!r||i&&r)throw new Error(ta.SEGMENT_TIME_UNSPECIFIED);var o=a.map(function(d){return ck(e,d)}),l;i&&(l=Gh(e)),r&&(l=oT(e,r));var u=l.map(function(d,h){if(o[h]){var f=o[h],y=e.timescale||1,x=e.presentationTimeOffset||0;return f.timeline=d.timeline,f.duration=d.duration,f.number=d.number,f.presentationTime=s+(d.time-x)/y,f}}).filter(function(d){return d});return u},hk=function(e){var r=e.attributes,i=e.segmentInfo,n,a;i.template?(a=dk,n=Tt(r,i.template)):i.base?(a=sT,n=Tt(r,i.base)):i.list&&(a=fk,n=Tt(r,i.list));var s={attributes:r};if(!a)return s;var o=a(n,i.segmentTimeline);if(n.duration){var l=n,u=l.duration,d=l.timescale,h=d===void 0?1:d;n.duration=u/h}else o.length?n.duration=o.reduce(function(f,y){return Math.max(f,Math.ceil(y.duration))},0):n.duration=0;return s.attributes=n,s.segments=o,i.base&&n.indexRange&&(s.sidx=o[0],s.segments=[]),s},pk=function(e){return e.map(hk)},je=function(e,r){return aT(e.childNodes).filter(function(i){var n=i.tagName;return n===r})},Kh=function(e){return e.textContent.trim()},_i=function(e){var r=31536e3,i=30*24*60*60,n=24*60*60,a=60*60,s=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(e);if(!l)return 0;var u=l.slice(1),d=u[0],h=u[1],f=u[2],y=u[3],x=u[4],S=u[5];return parseFloat(d||0)*r+parseFloat(h||0)*i+parseFloat(f||0)*n+parseFloat(y||0)*a+parseFloat(x||0)*s+parseFloat(S||0)},mk=function(e){var r=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return r.test(e)&&(e+="Z"),Date.parse(e)},vv={mediaPresentationDuration:function(e){return _i(e)},availabilityStartTime:function(e){return mk(e)/1e3},minimumUpdatePeriod:function(e){return _i(e)},suggestedPresentationDelay:function(e){return _i(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return _i(e)},start:function(e){return _i(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var r=parseInt(e,10);return isNaN(r)?_i(e):r},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},ot=function(e){return e&&e.attributes?aT(e.attributes).reduce(function(r,i){var n=vv[i.name]||vv.DEFAULT;return r[i.name]=n(i.value),r},{}):{}},gk={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Hu=function(e,r){return r.length?ju(e.map(function(i){return r.map(function(n){return Fu(i,Kh(n))})})):e},Yh=function(e){var r=je(e,"SegmentTemplate")[0],i=je(e,"SegmentList")[0],n=i&&je(i,"SegmentURL").map(function(f){return Tt({tag:"SegmentURL"},ot(f))}),a=je(e,"SegmentBase")[0],s=i||r,o=s&&je(s,"SegmentTimeline")[0],l=i||a||r,u=l&&je(l,"Initialization")[0],d=r&&ot(r);d&&u?d.initialization=u&&ot(u):d&&d.initialization&&(d.initialization={sourceURL:d.initialization});var h={template:d,segmentTimeline:o&&je(o,"S").map(function(f){return ot(f)}),list:i&&Tt(ot(i),{segmentUrls:n,initialization:ot(u)}),base:a&&Tt(ot(a),{initialization:ot(u)})};return Object.keys(h).forEach(function(f){h[f]||delete h[f]}),h},vk=function(e,r,i){return function(n){var a=je(n,"BaseURL"),s=Hu(r,a),o=Tt(e,ot(n)),l=Yh(n);return s.map(function(u){return{segmentInfo:Tt(i,l),attributes:Tt(o,{baseUrl:u})}})}},yk=function(e){return e.reduce(function(r,i){var n=ot(i),a=gk[n.schemeIdUri];if(a){r[a]={attributes:n};var s=je(i,"cenc:pssh")[0];if(s){var o=Kh(s),l=o&&A_(o);r[a].pssh=l}}return r},{})},_k=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var r=typeof e.value!="string"?[]:e.value.split(";");return r.map(function(n){var a,s;if(s=n,/^CC\d=/.test(n)){var o=n.split("=");a=o[0],s=o[1]}else/^CC\d$/.test(n)&&(a=n);return{channel:a,language:s}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(n){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){var s=n.split("="),o=s[0],l=s[1],u=l===void 0?"":l;a.channel=o,a.language=n,u.split(",").forEach(function(d){var h=d.split(":"),f=h[0],y=h[1];f==="lang"?a.language=y:f==="er"?a.easyReader=Number(y):f==="war"?a.aspectRatio=Number(y):f==="3D"&&(a["3D"]=Number(y))})}else a.language=n;return a.channel&&(a.channel="SERVICE"+a.channel),a})}},Tk=function(e,r,i){return function(n){var a=ot(n),s=Hu(r,je(n,"BaseURL")),o=je(n,"Role")[0],l={role:ot(o)},u=Tt(e,a,l),d=je(n,"Accessibility")[0],h=_k(ot(d));h&&(u=Tt(u,{captionServices:h}));var f=je(n,"Label")[0];if(f&&f.childNodes.length){var y=f.childNodes[0].nodeValue.trim();u=Tt(u,{label:y})}var x=yk(je(n,"ContentProtection"));Object.keys(x).length&&(u=Tt(u,{contentProtection:x}));var S=Yh(n),v=je(n,"Representation"),_=Tt(i,S);return ju(v.map(vk(u,s,_)))}},Sk=function(e,r){return function(i,n){var a=Hu(r,je(i.node,"BaseURL")),s=parseInt(i.attributes.id,10),o=L.isNaN(s)?n:s,l=Tt(e,{periodIndex:o,periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(l.periodDuration=i.attributes.duration);var u=je(i.node,"AdaptationSet"),d=Yh(i.node);return ju(u.map(Tk(l,a,d)))}},xk=function(e){var r=e.attributes,i=e.priorPeriodAttributes,n=e.mpdType;return typeof r.start=="number"?r.start:i&&typeof i.start=="number"&&typeof i.duration=="number"?i.start+i.duration:!i&&n==="static"?0:null},bk=function(e,r){r===void 0&&(r={});var i=r,n=i.manifestUri,a=n===void 0?"":n,s=i.NOW,o=s===void 0?Date.now():s,l=i.clientOffset,u=l===void 0?0:l,d=je(e,"Period");if(!d.length)throw new Error(ta.INVALID_NUMBER_OF_PERIOD);var h=je(e,"Location"),f=ot(e),y=Hu([a],je(e,"BaseURL"));f.type=f.type||"static",f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=o,f.clientOffset=u,h.length&&(f.locations=h.map(Kh));var x=[];return d.forEach(function(S,v){var _=ot(S),E=x[v-1];_.start=xk({attributes:_,priorPeriodAttributes:E?E.attributes:null,mpdType:f.type}),x.push({node:S,attributes:_})}),{locations:f.locations,representationInfo:ju(x.map(Sk(f,y)))}},lT=function(e){if(e==="")throw new Error(ta.DASH_EMPTY_MANIFEST);var r=new H1,i,n;try{i=r.parseFromString(e,"application/xml"),n=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(ta.DASH_INVALID_XML);return n},Ek=function(e){var r=je(e,"UTCTiming")[0];if(!r)return null;var i=ot(r);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(ta.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},wk=function(e,r){r===void 0&&(r={});var i=bk(lT(e),r),n=pk(i.representationInfo);return ak(n,i.locations,r.sidxMapping)},Ck=function(e){return Ek(lT(e))},yv=Math.pow(2,32),kk=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;r.version===0?(r.earliestPresentationTime=e.getUint32(i),r.firstOffset=e.getUint32(i+4),i+=8):(r.earliestPresentationTime=e.getUint32(i)*yv+e.getUint32(i+4),r.firstOffset=e.getUint32(i+8)*yv+e.getUint32(i+12),i+=16),i+=2;var n=e.getUint16(i);for(i+=2;n>0;i+=12,n--)r.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return r},Pk=kk,Ak=function(e){return e.toString(2).length},Ik=function(e){return Math.ceil(Ak(e)/8)},Lk=function(e){return ArrayBuffer.isView(e)},ne=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!Lk(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},tt=L.BigInt||Number,ff=[tt("0x1"),tt("0x100"),tt("0x10000"),tt("0x1000000"),tt("0x100000000"),tt("0x10000000000"),tt("0x1000000000000"),tt("0x100000000000000"),tt("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var Ok=function(e,r){var i=r===void 0?{}:r,n=i.signed,a=n===void 0?!1:n,s=i.le,o=s===void 0?!1:s;e=ne(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],d=u.call(e,function(f,y,x){var S=o?x:Math.abs(x+1-e.length);return f+tt(y)*ff[S]},tt(0));if(a){var h=ff[e.length]/tt(2)-tt(1);d=tt(d),d>h&&(d-=h,d-=h,d-=tt(2))}return Number(d)},Dk=function(e,r){var i=r===void 0?{}:r,n=i.le,a=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=tt(e);for(var s=Ik(e),o=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var u=a?l:Math.abs(l+1-o.length);o[u]=Number(e/ff[l]&tt(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},uT=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},Mk=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return ne(r[0]);var n=r.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),a=new Uint8Array(n),s=0;return r.forEach(function(o){o=ne(o),a.set(o,s),s+=o.byteLength}),a},De=function(e,r,i){var n=i===void 0?{}:i,a=n.offset,s=a===void 0?0:a,o=n.mask,l=o===void 0?[]:o;e=ne(e),r=ne(r);var u=r.every?r.every:Array.prototype.every;return r.length&&e.length-s>=r.length&&u.call(r,function(d,h){var f=l[h]?l[h]&e[s+h]:e[s+h];return d===f})},Rk=ne([73,68,51]),Nk=function(e,r){r===void 0&&(r=0),e=ne(e);var i=e[r+5],n=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],a=(i&16)>>4;return a?n+20:n+10},is=function t(e,r){return r===void 0&&(r=0),e=ne(e),e.length-r<10||!De(e,Rk,{offset:r})?r:(r+=Nk(e,r),t(e,r))},_v=function(e){return typeof e=="string"?uT(e):e},Fk=function(e){return Array.isArray(e)?e.map(function(r){return _v(r)}):[_v(e)]},Uk=function t(e,r,i){i===void 0&&(i=!1),r=Fk(r),e=ne(e);var n=[];if(!r.length)return n;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,o=e.subarray(a+4,a+8);if(s===0)break;var l=a+s;if(l>e.length){if(i)break;l=e.length}var u=e.subarray(a+8,l);De(o,r[0])&&(r.length===1?n.push(u):n.push.apply(n,t(u,r.slice(1),i))),a=l}return n},Jo={EBML:ne([26,69,223,163]),DocType:ne([66,130]),Segment:ne([24,83,128,103]),SegmentInfo:ne([21,73,169,102]),Tracks:ne([22,84,174,107]),Track:ne([174]),TrackNumber:ne([215]),DefaultDuration:ne([35,227,131]),TrackEntry:ne([174]),TrackType:ne([131]),FlagDefault:ne([136]),CodecID:ne([134]),CodecPrivate:ne([99,162]),VideoTrack:ne([224]),AudioTrack:ne([225]),Cluster:ne([31,67,182,117]),Timestamp:ne([231]),TimestampScale:ne([42,215,177]),BlockGroup:ne([160]),BlockDuration:ne([155]),Block:ne([161]),SimpleBlock:ne([163])},hf=[128,64,32,16,8,4,2,1],Bk=function(e){for(var r=1,i=0;i<hf.length&&!(e&hf[i]);i++)r++;return r},ru=function(e,r,i,n){i===void 0&&(i=!0),n===void 0&&(n=!1);var a=Bk(e[r]),s=e.subarray(r,r+a);return i&&(s=Array.prototype.slice.call(e,r,r+a),s[0]^=hf[a-1]),{length:a,value:Ok(s,{signed:n}),bytes:s}},Tv=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?Dk(e):e},jk=function(e){return Array.isArray(e)?e.map(function(r){return Tv(r)}):[Tv(e)]},Vk=function t(e,r,i){if(i>=r.length)return r.length;var n=ru(r,i,!1);if(De(e.bytes,n.bytes))return i;var a=ru(r,i+n.length);return t(e,r,i+a.length+a.value+n.length)},Sv=function t(e,r){r=jk(r),e=ne(e);var i=[];if(!r.length)return i;for(var n=0;n<e.length;){var a=ru(e,n,!1),s=ru(e,n+a.length),o=n+a.length+s.length;s.value===127&&(s.value=Vk(a,e,o),s.value!==e.length&&(s.value-=o));var l=o+s.value>e.length?e.length:o+s.value,u=e.subarray(o,l);De(r[0],a.bytes)&&(r.length===1?i.push(u):i=i.concat(t(u,r.slice(1))));var d=a.length+s.length+u.length;n+=d}return i},Hk=ne([0,0,0,1]),zk=ne([0,0,1]),Wk=ne([0,0,3]),$k=function(e){for(var r=[],i=1;i<e.length-2;)De(e.subarray(i,i+3),Wk)&&(r.push(i+2),i++),i++;if(r.length===0)return e;var n=e.length-r.length,a=new Uint8Array(n),s=0;for(i=0;i<n;s++,i++)s===r[0]&&(s++,r.shift()),a[i]=e[s];return a},dT=function(e,r,i,n){n===void 0&&(n=1/0),e=ne(e),i=[].concat(i);for(var a=0,s,o=0;a<e.length&&(o<n||s);){var l=void 0;if(De(e.subarray(a),Hk)?l=4:De(e.subarray(a),zk)&&(l=3),!l){a++;continue}if(o++,s)return $k(e.subarray(s,a));var u=void 0;r==="h264"?u=e[a+l]&31:r==="h265"&&(u=e[a+l]>>1&63),i.indexOf(u)!==-1&&(s=a+l),a+=l+(r==="h264"?1:2)}return e.subarray(0,0)},Gk=function(e,r,i){return dT(e,"h264",r,i)},qk=function(e,r,i){return dT(e,"h265",r,i)},gt={webm:ne([119,101,98,109]),matroska:ne([109,97,116,114,111,115,107,97]),flac:ne([102,76,97,67]),ogg:ne([79,103,103,83]),ac3:ne([11,119]),riff:ne([82,73,70,70]),avi:ne([65,86,73]),wav:ne([87,65,86,69]),"3gp":ne([102,116,121,112,51,103]),mp4:ne([102,116,121,112]),fmp4:ne([115,116,121,112]),mov:ne([102,116,121,112,113,116]),moov:ne([109,111,111,118]),moof:ne([109,111,111,102])},ra={aac:function(e){var r=is(e);return De(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=is(e);return De(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=Sv(e,[Jo.EBML,Jo.DocType])[0];return De(r,gt.webm)},mkv:function(e){var r=Sv(e,[Jo.EBML,Jo.DocType])[0];return De(r,gt.matroska)},mp4:function(e){if(ra["3gp"](e)||ra.mov(e))return!1;if(De(e,gt.mp4,{offset:4})||De(e,gt.fmp4,{offset:4})||De(e,gt.moof,{offset:4})||De(e,gt.moov,{offset:4}))return!0},mov:function(e){return De(e,gt.mov,{offset:4})},"3gp":function(e){return De(e,gt["3gp"],{offset:4})},ac3:function(e){var r=is(e);return De(e,gt.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=is(e);return De(e,gt.flac,{offset:r})},ogg:function(e){return De(e,gt.ogg)},avi:function(e){return De(e,gt.riff)&&De(e,gt.avi,{offset:8})},wav:function(e){return De(e,gt.riff)&&De(e,gt.wav,{offset:8})},h264:function(e){return Gk(e,7,3).length},h265:function(e){return qk(e,[32,33],3).length}},pf=Object.keys(ra).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);pf.forEach(function(t){var e=ra[t];ra[t]=function(r){return e(ne(r))}});var Xk=ra,Qh=function(e){e=ne(e);for(var r=0;r<pf.length;r++){var i=pf[r];if(Xk[i](e))return i}return""},Kk=function(e){return Uk(e,["moof"]).length>0},Zh=9e4,Jh,ep,zu,tp,cT,fT,hT;Jh=function(t){return t*Zh};ep=function(t,e){return t*e};zu=function(t){return t/Zh};tp=function(t,e){return t/e};cT=function(t,e){return Jh(tp(t,e))};fT=function(t,e){return ep(zu(t),e)};hT=function(t,e,r){return zu(r?t:t-e)};var nu={ONE_SECOND_IN_TS:Zh,secondsToVideoTs:Jh,secondsToAudioTs:ep,videoTsToSeconds:zu,audioTsToSeconds:tp,audioTsToVideoTs:cT,videoTsToAudioTs:fT,metadataTsToSeconds:hT};/**
 * @license
 * Video.js 7.17.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var pT="7.17.0",Rr={},Sn=function(e,r){return Rr[e]=Rr[e]||[],r&&(Rr[e]=Rr[e].concat(r)),Rr[e]},Yk=function(e,r){Sn(e,r)},mT=function(e,r){var i=Sn(e).indexOf(r);return i<=-1?!1:(Rr[e]=Rr[e].slice(),Rr[e].splice(i,1),!0)},Qk=function(e,r){Sn(e,[].concat(r).map(function(i){var n=function a(){return mT(e,a),i.apply(void 0,arguments)};return n}))},iu={prefixed:!0},El=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],xv=El[0],as;for(var el=0;el<El.length;el++)if(El[el][1]in $){as=El[el];break}if(as){for(var tl=0;tl<as.length;tl++)iu[xv[tl]]=as[tl];iu.prefixed=as[0]!==xv[0]}var Ct=[],Zk=function(e,r){return function(i,n,a){var s=r.levels[n],o=new RegExp("^("+s+")$");if(i!=="log"&&a.unshift(i.toUpperCase()+":"),a.unshift(e+":"),Ct){Ct.push([].concat(a));var l=Ct.length-1e3;Ct.splice(0,l>0?l:0)}if(!!L.console){var u=L.console[i];!u&&i==="debug"&&(u=L.console.info||L.console.log),!(!u||!s||!o.test(i))&&u[Array.isArray(a)?"apply":"call"](L.console,a)}}};function gT(t){var e="info",r,i=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];r("log",e,s)};return r=Zk(t,i),i.createLogger=function(n){return gT(t+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},i.level=function(n){if(typeof n=="string"){if(!i.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');e=n}return e},i.history=function(){return Ct?[].concat(Ct):[]},i.history.filter=function(n){return(Ct||[]).filter(function(a){return new RegExp(".*"+n+".*").test(a[0])})},i.history.clear=function(){Ct&&(Ct.length=0)},i.history.disable=function(){Ct!==null&&(Ct.length=0,Ct=null)},i.history.enable=function(){Ct===null&&(Ct=[])},i.error=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r("error",e,a)},i.warn=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r("warn",e,a)},i.debug=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r("debug",e,a)},i}var ce=gT("VIDEOJS"),vT=ce.createLogger,Jk=Object.prototype.toString,yT=function(e){return Gr(e)?Object.keys(e):[]};function $i(t,e){yT(t).forEach(function(r){return e(t[r],r)})}function eP(t,e,r){return r===void 0&&(r=0),yT(t).reduce(function(i,n){return e(i,t[n],n)},r)}function Ne(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Object.assign?Wt.apply(void 0,[t].concat(r)):(r.forEach(function(n){!n||$i(n,function(a,s){t[s]=a})}),t)}function Gr(t){return!!t&&typeof t=="object"}function Ws(t){return Gr(t)&&Jk.call(t)==="[object Object]"&&t.constructor===Object}function $s(t,e){if(!t||!e)return"";if(typeof L.getComputedStyle=="function"){var r;try{r=L.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}var Xe=L.navigator&&L.navigator.userAgent||"",bv=/AppleWebKit\/([\d.]+)/i.exec(Xe),tP=bv?parseFloat(bv.pop()):null,_T=/iPod/i.test(Xe),rP=function(){var t=Xe.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Kr=/Android/i.test(Xe),rp=function(){var t=Xe.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),r=t[2]&&parseFloat(t[2]);return e&&r?parseFloat(t[1]+"."+t[2]):e||null}(),TT=Kr&&rp<5&&tP<537,ST=/Firefox/i.test(Xe),oo=/Edg/i.test(Xe),Yr=!oo&&(/Chrome/i.test(Xe)||/CriOS/i.test(Xe)),xT=function(){var t=Xe.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),lo=function(){var t=/MSIE\s(\d+)\.\d/.exec(Xe),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Xe)&&/rv:11.0/.test(Xe)&&(e=11),e}(),np=/Safari/i.test(Xe)&&!Yr&&!Kr&&!oo,bT=/Windows/i.test(Xe),na=Boolean(va()&&("ontouchstart"in L||L.navigator.maxTouchPoints||L.DocumentTouch&&L.document instanceof L.DocumentTouch)),ip=/iPad/i.test(Xe)||np&&na&&!/iPhone/i.test(Xe),ap=/iPhone/i.test(Xe)&&!ip,Lt=ap||ip||_T,Wu=(np||Lt)&&!Yr,nP=Object.freeze({__proto__:null,IS_IPOD:_T,IOS_VERSION:rP,IS_ANDROID:Kr,ANDROID_VERSION:rp,IS_NATIVE_ANDROID:TT,IS_FIREFOX:ST,IS_EDGE:oo,IS_CHROME:Yr,CHROME_VERSION:xT,IE_VERSION:lo,IS_SAFARI:np,IS_WINDOWS:bT,TOUCH_ENABLED:na,IS_IPAD:ip,IS_IPHONE:ap,IS_IOS:Lt,IS_ANY_SAFARI:Wu});function Ev(t){return typeof t=="string"&&Boolean(t.trim())}function ET(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function iP(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function va(){return $===L.document}function ya(t){return Gr(t)&&t.nodeType===1}function wT(){try{return L.parent!==L.self}catch{return!0}}function CT(t){return function(e,r){if(!Ev(e))return $[t](null);Ev(r)&&(r=$.querySelector(r));var i=ya(r)?r:$;return i[t]&&i[t](e)}}function ye(t,e,r,i){t===void 0&&(t="div"),e===void 0&&(e={}),r===void 0&&(r={});var n=$.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(a){var s=e[a];a.indexOf("aria-")!==-1||a==="role"||a==="type"?(ce.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+a+" to "+s+".")),n.setAttribute(a,s)):a==="textContent"?li(n,s):(n[a]!==s||a==="tabIndex")&&(n[a]=s)}),Object.getOwnPropertyNames(r).forEach(function(a){n.setAttribute(a,r[a])}),i&&op(n,i),n}function li(t,e){return typeof t.textContent=="undefined"?t.innerText=e:t.textContent=e,t}function mf(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function qn(t,e){return ET(e),t.classList?t.classList.contains(e):iP(e).test(t.className)}function Vr(t,e){return t.classList?t.classList.add(e):qn(t,e)||(t.className=(t.className+" "+e).trim()),t}function uo(t,e){return t?(t.classList?t.classList.remove(e):(ET(e),t.className=t.className.split(/\s+/).filter(function(r){return r!==e}).join(" ")),t):(ce.warn("removeClass was called with an element that doesn't exist"),null)}function kT(t,e,r){var i=qn(t,e);if(typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=!i),r!==i)return r?Vr(t,e):uo(t,e),t}function PT(t,e){Object.getOwnPropertyNames(e).forEach(function(r){var i=e[r];i===null||typeof i=="undefined"||i===!1?t.removeAttribute(r):t.setAttribute(r,i===!0?"":i)})}function Or(t){var e={},r=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,n=i.length-1;n>=0;n--){var a=i[n].name,s=i[n].value;(typeof t[a]=="boolean"||r.indexOf(","+a+",")!==-1)&&(s=s!==null),e[a]=s}return e}function AT(t,e){return t.getAttribute(e)}function ia(t,e,r){t.setAttribute(e,r)}function $u(t,e){t.removeAttribute(e)}function IT(){$.body.focus(),$.onselectstart=function(){return!1}}function LT(){$.onselectstart=function(){return!0}}function aa(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(function(i){e[i]!==void 0&&(r[i]=e[i])}),r.height||(r.height=parseFloat($s(t,"height"))),r.width||(r.width=parseFloat($s(t,"width"))),r}}function Gs(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,r=t.offsetHeight,i=0,n=0;t.offsetParent&&t!==$[iu.fullscreenElement];)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:i,top:n,width:e,height:r}}function Gu(t,e){var r={x:0,y:0};if(Lt)for(var i=t;i&&i.nodeName.toLowerCase()!=="html";){var n=$s(i,"transform");if(/^matrix/.test(n)){var a=n.slice(7,-1).split(/,\s/).map(Number);r.x+=a[4],r.y+=a[5]}else if(/^matrix3d/.test(n)){var s=n.slice(9,-1).split(/,\s/).map(Number);r.x+=s[12],r.y+=s[13]}i=i.parentNode}var o={},l=Gs(e.target),u=Gs(t),d=u.width,h=u.height,f=e.offsetY-(u.top-l.top),y=e.offsetX-(u.left-l.left);return e.changedTouches&&(y=e.changedTouches[0].pageX-u.left,f=e.changedTouches[0].pageY+u.top,Lt&&(y-=r.x,f-=r.y)),o.y=1-Math.max(0,Math.min(1,f/h)),o.x=Math.max(0,Math.min(1,y/d)),o}function OT(t){return Gr(t)&&t.nodeType===3}function sp(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function DT(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),ya(e)||OT(e))return e;if(typeof e=="string"&&/\S/.test(e))return $.createTextNode(e)}).filter(function(e){return e})}function op(t,e){return DT(e).forEach(function(r){return t.appendChild(r)}),t}function MT(t,e){return op(sp(t),e)}function qs(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var xn=CT("querySelector"),RT=CT("querySelectorAll"),NT=Object.freeze({__proto__:null,isReal:va,isEl:ya,isInFrame:wT,createEl:ye,textContent:li,prependTo:mf,hasClass:qn,addClass:Vr,removeClass:uo,toggleClass:kT,setAttributes:PT,getAttributes:Or,getAttribute:AT,setAttribute:ia,removeAttribute:$u,blockTextSelection:IT,unblockTextSelection:LT,getBoundingClientRect:aa,findPosition:Gs,getPointerPosition:Gu,isTextNode:OT,emptyEl:sp,normalizeContent:DT,appendContent:op,insertContent:MT,isSingleLeftClick:qs,$:xn,$$:RT}),FT=!1,gf,aP=function(){if(gf.options.autoSetup!==!1){var e=Array.prototype.slice.call($.getElementsByTagName("video")),r=Array.prototype.slice.call($.getElementsByTagName("audio")),i=Array.prototype.slice.call($.getElementsByTagName("video-js")),n=e.concat(r,i);if(n&&n.length>0)for(var a=0,s=n.length;a<s;a++){var o=n[a];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&gf(o)}}else{vf(1);break}}else FT||vf(1)}};function vf(t,e){!va()||(e&&(gf=e),L.setTimeout(aP,t))}function yf(){FT=!0,L.removeEventListener("load",yf)}va()&&($.readyState==="complete"?yf():L.addEventListener("load",yf));var UT=function(e){var r=$.createElement("style");return r.className=e,r},BT=function(e,r){e.styleSheet?e.styleSheet.cssText=r:e.textContent=r},sP=3,oP=sP;function kn(){return oP++}var jT;L.WeakMap||(jT=function(){function t(){this.vdata="vdata"+Math.floor(L.performance&&L.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(i,n){var a=i[this.vdata]||kn();return i[this.vdata]||(i[this.vdata]=a),this.data[a]=n,this},e.get=function(i){var n=i[this.vdata];if(n)return this.data[n];ce("We have no data for this element",i)},e.has=function(i){var n=i[this.vdata];return n in this.data},e.delete=function(i){var n=i[this.vdata];n&&(delete this.data[n],delete i[this.vdata])},t}());var St=L.WeakMap?new WeakMap:new jT;function wv(t,e){if(!!St.has(t)){var r=St.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&St.delete(t)}}function lp(t,e,r,i){r.forEach(function(n){t(e,n,i)})}function qu(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var i=t||L.event;t={};for(var n in i)n!=="layerX"&&n!=="layerY"&&n!=="keyLocation"&&n!=="webkitMovementX"&&n!=="webkitMovementY"&&(n==="returnValue"&&i.preventDefault||(t[n]=i[n]));if(t.target||(t.target=t.srcElement||$),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){var a=$.documentElement,s=$.body;t.pageX=t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var rl,lP=function(){if(typeof rl!="boolean"){rl=!1;try{var e=Object.defineProperty({},"passive",{get:function(){rl=!0}});L.addEventListener("test",null,e),L.removeEventListener("test",null,e)}catch{}}return rl},uP=["touchstart","touchmove"];function $t(t,e,r){if(Array.isArray(e))return lp($t,t,e,r);St.has(t)||St.set(t,{});var i=St.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),r.guid||(r.guid=kn()),i.handlers[e].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(a,s){if(!i.disabled){a=qu(a);var o=i.handlers[a.type];if(o)for(var l=o.slice(0),u=0,d=l.length;u<d&&!a.isImmediatePropagationStopped();u++)try{l[u].call(t,a,s)}catch(h){ce.error(h)}}}),i.handlers[e].length===1)if(t.addEventListener){var n=!1;lP()&&uP.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,i.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function dt(t,e,r){if(!!St.has(t)){var i=St.get(t);if(!!i.handlers){if(Array.isArray(e))return lp(dt,t,e,r);var n=function(u,d){i.handlers[d]=[],wv(u,d)};if(e===void 0){for(var a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&n(t,a);return}var s=i.handlers[e];if(!!s){if(!r){n(t,e);return}if(r.guid)for(var o=0;o<s.length;o++)s[o].guid===r.guid&&s.splice(o--,1);wv(t,e)}}}}function _a(t,e,r){var i=St.has(t)?St.get(t):{},n=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=qu(e),i.dispatcher&&i.dispatcher.call(t,e,r),n&&!e.isPropagationStopped()&&e.bubbles===!0)_a.call(null,n,e,r);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){St.has(e.target)||St.set(e.target,{});var a=St.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function Xu(t,e,r){if(Array.isArray(e))return lp(Xu,t,e,r);var i=function n(){dt(t,e,n),r.apply(this,arguments)};i.guid=r.guid=r.guid||kn(),$t(t,e,i)}function VT(t,e,r){var i=function n(){dt(t,e,n),r.apply(this,arguments)};i.guid=r.guid=r.guid||kn(),$t(t,e,i)}var dP=Object.freeze({__proto__:null,fixEvent:qu,on:$t,off:dt,trigger:_a,one:Xu,any:VT}),dr=30,we=function(e,r,i){r.guid||(r.guid=kn());var n=r.bind(e);return n.guid=i?i+"_"+r.guid:r.guid,n},qr=function(e,r){var i=L.performance.now(),n=function(){var s=L.performance.now();s-i>=r&&(e.apply(void 0,arguments),i=s)};return n},cP=function(e,r,i,n){n===void 0&&(n=L);var a,s=function(){n.clearTimeout(a),a=null},o=function(){var u=this,d=arguments,h=function(){a=null,h=null,i||e.apply(u,d)};!a&&i&&e.apply(u,d),n.clearTimeout(a),a=n.setTimeout(h,r)};return o.cancel=s,o},Qe=function(){};Qe.prototype.allowedEvents_={};Qe.prototype.on=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},$t(this,t,e),this.addEventListener=r};Qe.prototype.addEventListener=Qe.prototype.on;Qe.prototype.off=function(t,e){dt(this,t,e)};Qe.prototype.removeEventListener=Qe.prototype.off;Qe.prototype.one=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},Xu(this,t,e),this.addEventListener=r};Qe.prototype.any=function(t,e){var r=this.addEventListener;this.addEventListener=function(){},VT(this,t,e),this.addEventListener=r};Qe.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=qu(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),_a(this,t)};Qe.prototype.dispatchEvent=Qe.prototype.trigger;var qa;Qe.prototype.queueTrigger=function(t){var e=this;qa||(qa=new Map);var r=t.type||t,i=qa.get(this);i||(i=new Map,qa.set(this,i));var n=i.get(r);i.delete(r),L.clearTimeout(n);var a=L.setTimeout(function(){i.size===0&&(i=null,qa.delete(e)),e.trigger(t)},0);i.set(r,a)};var Ku=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Hr=function(e){return e instanceof Qe||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(r){return typeof e[r]=="function"})},fP=function(e,r){Hr(e)?r():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(r))},_f=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},au=function(e,r,i){if(!e||!e.nodeName&&!Hr(e))throw new Error("Invalid target for "+Ku(r)+"#"+i+"; must be a DOM node or evented object.")},HT=function(e,r,i){if(!_f(e))throw new Error("Invalid event type for "+Ku(r)+"#"+i+"; must be a non-empty string or array.")},zT=function(e,r,i){if(typeof e!="function")throw new Error("Invalid listener for "+Ku(r)+"#"+i+"; must be a function.")},Zd=function(e,r,i){var n=r.length<3||r[0]===e||r[0]===e.eventBusEl_,a,s,o;return n?(a=e.eventBusEl_,r.length>=3&&r.shift(),s=r[0],o=r[1]):(a=r[0],s=r[1],o=r[2]),au(a,e,i),HT(s,e,i),zT(o,e,i),o=we(e,o),{isTargetingSelf:n,target:a,type:s,listener:o}},Mn=function(e,r,i,n){au(e,e,r),e.nodeName?dP[r](e,i,n):e[r](i,n)},hP={on:function(){for(var e=this,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=Zd(this,i,"on"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(Mn(o,"on",l,u),!s){var d=function(){return e.off(o,l,u)};d.guid=u.guid;var h=function(){return e.off("dispose",d)};h.guid=u.guid,Mn(this,"on","dispose",d),Mn(o,"on","dispose",h)}},one:function(){for(var e=this,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=Zd(this,i,"one"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)Mn(o,"one",l,u);else{var d=function h(){e.off(o,l,h);for(var f=arguments.length,y=new Array(f),x=0;x<f;x++)y[x]=arguments[x];u.apply(null,y)};d.guid=u.guid,Mn(o,"one",l,d)}},any:function(){for(var e=this,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var a=Zd(this,i,"any"),s=a.isTargetingSelf,o=a.target,l=a.type,u=a.listener;if(s)Mn(o,"any",l,u);else{var d=function h(){e.off(o,l,h);for(var f=arguments.length,y=new Array(f),x=0;x<f;x++)y[x]=arguments[x];u.apply(null,y)};d.guid=u.guid,Mn(o,"any",l,d)}},off:function(e,r,i){if(!e||_f(e))dt(this.eventBusEl_,e,r);else{var n=e,a=r;au(n,this,"off"),HT(a,this,"off"),zT(i,this,"off"),i=we(this,i),this.off("dispose",i),n.nodeName?(dt(n,a,i),dt(n,"dispose",i)):Hr(n)&&(n.off(a,i),n.off("dispose",i))}},trigger:function(e,r){au(this.eventBusEl_,this,"trigger");var i=e&&typeof e!="string"?e.type:e;if(!_f(i)){var n="Invalid event type for "+Ku(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||ce).error(n);else throw new Error(n)}return _a(this.eventBusEl_,e,r)}};function up(t,e){e===void 0&&(e={});var r=e,i=r.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=ye("span",{className:"vjs-event-bus"});return Ne(t,hP),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(n){n()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&St.has(n)&&St.delete(n)}),L.setTimeout(function(){t.eventBusEl_=null},0)}),t}var pP={state:{},setState:function(e){var r=this;typeof e=="function"&&(e=e());var i;return $i(e,function(n,a){r.state[a]!==n&&(i=i||{},i[a]={from:r.state[a],to:n}),r.state[a]=n}),i&&Hr(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function WT(t,e){return Ne(t,pP),t.state=Ne({},t.state,e),typeof t.handleStateChanged=="function"&&Hr(t)&&t.on("statechanged",t.handleStateChanged),t}var wl=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toLowerCase()})},Ve=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},mP=function(e,r){return Ve(e)===Ve(r)};function Ae(){for(var t={},e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.forEach(function(n){!n||$i(n,function(a,s){if(!Ws(a)){t[s]=a;return}Ws(t[s])||(t[s]={}),t[s]=Ae(t[s],a)})}),t}var gP=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(i){return i in this.map_},e.delete=function(i){var n=this.has(i);return delete this.map_[i],n},e.set=function(i,n){return this.map_[i]=n,this},e.forEach=function(i,n){for(var a in this.map_)i.call(n,this.map_[a],a,this)},t}(),vP=L.Map?L.Map:gP,yP=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(i){return i in this.set_},e.delete=function(i){var n=this.has(i);return delete this.set_[i],n},e.add=function(i){return this.set_[i]=1,this},e.forEach=function(i,n){for(var a in this.set_)i.call(n,a,a,this)},t}(),Jd=L.Set?L.Set:yP,H=function(){function t(r,i,n){if(!r&&this.play?this.player_=r=this:this.player_=r,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ae({},this.options_),i=this.options_=Ae(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var a=r&&r.id&&r.id()||"no_player";this.id_=a+"_component_"+kn()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.evented!==!1&&(up(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),WT(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Jd,this.setIntervalIds_=new Jd,this.rafIds_=new Jd,this.namedRafs_=new vP,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(n),i.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(i){return i?(this.options_=Ae(this.options_,i),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(i,n,a){return ye(i,n,a)},e.localize=function(i,n,a){a===void 0&&(a=i);var s=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[s],u=s&&s.split("-")[0],d=o&&o[u],h=a;return l&&l[i]?h=l[i]:d&&d[i]&&(h=d[i]),n&&(h=h.replace(/\{(\d+)\}/g,function(f,y){var x=n[y-1],S=x;return typeof x=="undefined"&&(S=f),S})),h},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(i){return this.childIndex_[i]},e.getChild=function(i){if(!!i)return this.childNameIndex_[i]},e.getDescendant=function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];n=n.reduce(function(l,u){return l.concat(u)},[]);for(var s=this,o=0;o<n.length;o++)if(s=s.getChild(n[o]),!s||!s.getChild)return;return s},e.addChild=function(i,n,a){n===void 0&&(n={}),a===void 0&&(a=this.children_.length);var s,o;if(typeof i=="string"){o=Ve(i);var l=n.componentClass||o;n.name=o;var u=t.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;s=new u(this.player_||this,n)}else s=i;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(a,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),o=o||s.name&&Ve(s.name()),o&&(this.childNameIndex_[o]=s,this.childNameIndex_[wl(o)]=s),typeof s.el=="function"&&s.el()){var d=null;this.children_[a+1]&&(this.children_[a+1].el_?d=this.children_[a+1].el_:ya(this.children_[a+1])&&(d=this.children_[a+1])),this.contentEl().insertBefore(s.el(),d)}return s},e.removeChild=function(i){if(typeof i=="string"&&(i=this.getChild(i)),!(!i||!this.children_)){for(var n=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===i){n=!0,this.children_.splice(a,1);break}if(!!n){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[Ve(i.name())]=null,this.childNameIndex_[wl(i.name())]=null;var s=i.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},e.initChildren=function(){var i=this,n=this.options_.children;if(n){var a=this.options_,s=function(d){var h=d.name,f=d.opts;if(a[h]!==void 0&&(f=a[h]),f!==!1){f===!0&&(f={}),f.playerOptions=i.options_.playerOptions;var y=i.addChild(h,f);y&&(i[h]=y)}},o,l=t.getComponent("Tech");Array.isArray(n)?o=n:o=Object.keys(n),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(d){return typeof d=="string"?u===d:u===d.name})})).map(function(u){var d,h;return typeof u=="string"?(d=u,h=n[d]||i.options_[d]||{}):(d=u.name,h=u),{name:d,opts:h}}).filter(function(u){var d=t.getComponent(u.opts.componentClass||Ve(u.name));return d&&!l.isTech(d)}).forEach(s)}},e.buildCSSClass=function(){return""},e.ready=function(i,n){if(n===void 0&&(n=!1),!!i){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(i);return}n?i.call(this):this.setTimeout(i,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)},e.$=function(i,n){return xn(i,n||this.contentEl())},e.$$=function(i,n){return RT(i,n||this.contentEl())},e.hasClass=function(i){return qn(this.el_,i)},e.addClass=function(i){Vr(this.el_,i)},e.removeClass=function(i){uo(this.el_,i)},e.toggleClass=function(i,n){kT(this.el_,i,n)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(i){return AT(this.el_,i)},e.setAttribute=function(i,n){ia(this.el_,i,n)},e.removeAttribute=function(i){$u(this.el_,i)},e.width=function(i,n){return this.dimension("width",i,n)},e.height=function(i,n){return this.dimension("height",i,n)},e.dimensions=function(i,n){this.width(i,!0),this.height(n)},e.dimension=function(i,n,a){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[i]=n:n==="auto"?this.el_.style[i]="":this.el_.style[i]=n+"px",a||this.trigger("componentresize");return}if(!this.el_)return 0;var s=this.el_.style[i],o=s.indexOf("px");return parseInt(o!==-1?s.slice(0,o):this.el_["offset"+Ve(i)],10)},e.currentDimension=function(i){var n=0;if(i!=="width"&&i!=="height")throw new Error("currentDimension only accepts width or height value");if(n=$s(this.el_,i),n=parseFloat(n),n===0||isNaN(n)){var a="offset"+Ve(i);n=this.el_[a]}return n},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(i){this.player_&&(i.stopPropagation(),this.player_.handleKeyDown(i))},e.handleKeyPress=function(i){this.handleKeyDown(i)},e.emitTapEvents=function(){var i=0,n=null,a=10,s=200,o;this.on("touchstart",function(u){u.touches.length===1&&(n={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},i=L.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(n){var d=u.touches[0].pageX-n.pageX,h=u.touches[0].pageY-n.pageY,f=Math.sqrt(d*d+h*h);f>a&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(n=null,o===!0){var d=L.performance.now()-i;d<s&&(u.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var i=we(this.player(),this.player().reportUserActivity),n;this.on("touchstart",function(){i(),this.clearInterval(n),n=this.setInterval(i,250)});var a=function(o){i(),this.clearInterval(n)};this.on("touchmove",i),this.on("touchend",a),this.on("touchcancel",a)}},e.setTimeout=function(i,n){var a=this,s;return i=we(this,i),this.clearTimersOnDispose_(),s=L.setTimeout(function(){a.setTimeoutIds_.has(s)&&a.setTimeoutIds_.delete(s),i()},n),this.setTimeoutIds_.add(s),s},e.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),L.clearTimeout(i)),i},e.setInterval=function(i,n){i=we(this,i),this.clearTimersOnDispose_();var a=L.setInterval(i,n);return this.setIntervalIds_.add(a),a},e.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),L.clearInterval(i)),i},e.requestAnimationFrame=function(i){var n=this;if(!this.supportsRaf_)return this.setTimeout(i,1e3/60);this.clearTimersOnDispose_();var a;return i=we(this,i),a=L.requestAnimationFrame(function(){n.rafIds_.has(a)&&n.rafIds_.delete(a),i()}),this.rafIds_.add(a),a},e.requestNamedAnimationFrame=function(i,n){var a=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),n=we(this,n);var s=this.requestAnimationFrame(function(){n(),a.namedRafs_.has(i)&&a.namedRafs_.delete(i)});return this.namedRafs_.set(i,s),i}},e.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},e.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),L.cancelAnimationFrame(i)),i):this.clearTimeout(i)},e.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(n){var a=n[0],s=n[1];i[a].forEach(function(o,l){return i[s](l)})}),i.clearingTimersOnDispose_=!1}))},t.registerComponent=function(i,n){if(typeof i!="string"||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var a=t.getComponent("Tech"),s=a&&a.isTech(n),o=t===n||t.prototype.isPrototypeOf(n.prototype);if(s||!o){var l;throw s?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+i+'"; '+l+".")}i=Ve(i),t.components_||(t.components_={});var u=t.getComponent("Player");if(i==="Player"&&u&&u.players){var d=u.players,h=Object.keys(d);if(d&&h.length>0&&h.map(function(f){return d[f]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[i]=n,t.components_[wl(i)]=n,n},t.getComponent=function(i){if(!(!i||!t.components_))return t.components_[i]},t}();H.prototype.supportsRaf_=typeof L.requestAnimationFrame=="function"&&typeof L.cancelAnimationFrame=="function";H.registerComponent("Component",H);function _P(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+r+").")}function Cv(t,e,r,i){return _P(t,i,r.length-1),r[i][e]}function ec(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Cv.bind(null,"start",0,t),end:Cv.bind(null,"end",1,t)},L.Symbol&&L.Symbol.iterator&&(e[L.Symbol.iterator]=function(){return(t||[]).values()}),e}function Xn(t,e){return Array.isArray(t)?ec(t):t===void 0||e===void 0?ec():ec([[t,e]])}function $T(t,e){var r=0,i,n;if(!e)return 0;(!t||!t.length)&&(t=Xn(0,0));for(var a=0;a<t.length;a++)i=t.start(a),n=t.end(a),n>e&&(n=e),r+=n-i;return r/e}function xt(t){if(t instanceof xt)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Gr(t)&&(typeof t.code=="number"&&(this.code=t.code),Ne(this,t)),this.message||(this.message=xt.defaultMessages[this.code]||"")}xt.prototype.code=0;xt.prototype.message="";xt.prototype.status=null;xt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];xt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ti=0;Ti<xt.errorTypes.length;Ti++)xt[xt.errorTypes[Ti]]=Ti,xt.prototype[xt.errorTypes[Ti]]=Ti;function Ts(t){return t!=null&&typeof t.then=="function"}function Tr(t){Ts(t)&&t.then(null,function(e){})}var Tf=function(e){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,n,a){return e[n]&&(i[n]=e[n]),i},{cues:e.cues&&Array.prototype.map.call(e.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})});return r},TP=function(e){var r=e.$$("track"),i=Array.prototype.map.call(r,function(a){return a.track}),n=Array.prototype.map.call(r,function(a){var s=Tf(a.track);return a.src&&(s.src=a.src),s});return n.concat(Array.prototype.filter.call(e.textTracks(),function(a){return i.indexOf(a)===-1}).map(Tf))},SP=function(e,r){return e.forEach(function(i){var n=r.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(a){return n.addCue(a)})}),r.textTracks()},kv={textTracksToJson:TP,jsonToTextTracks:SP,trackToJson_:Tf},tc="vjs-modal-dialog",Ta=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.close_=function(s){return a.close(s)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=ye("div",{className:tc+"-content"},{role:"document"}),a.descEl_=ye("p",{className:tc+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),li(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},r.buildCSSClass=function(){return tc+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},r.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=n.controls(),n.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(n){return typeof n=="boolean"&&this[n?"open":"close"](),this.opened_},r.close=function(){if(!!this.opened_){var n=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&n.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&n.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(n){if(typeof n=="boolean"){var a=this.closeable_=!!n,s=this.getChild("closeButton");if(a&&!s){var o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!a&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(n){var a=this.contentEl(),s=a.parentNode,o=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),MT(a,n),this.trigger("modalfill"),o?s.insertBefore(a,o):s.appendChild(a);var l=this.getChild("closeButton");l&&s.appendChild(l.el_)},r.empty=function(){this.trigger("beforemodalempty"),sp(this.contentEl()),this.trigger("modalempty")},r.content=function(n){return typeof n!="undefined"&&(this.content_=n),this.content_},r.conditionalFocus_=function(){var n=$.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(n)||a===n)&&(this.previouslyActiveEl_=n,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(n){if(n.stopPropagation(),ue.isEventKey(n,"Escape")&&this.closeable()){n.preventDefault(),this.close();return}if(!!ue.isEventKey(n,"Tab")){for(var a=this.focusableEls_(),s=this.el_.querySelector(":focus"),o,l=0;l<a.length;l++)if(s===a[l]){o=l;break}$.activeElement===this.el_&&(o=0),n.shiftKey&&o===0?(a[a.length-1].focus(),n.preventDefault()):!n.shiftKey&&o===a.length-1&&(a[0].focus(),n.preventDefault())}},r.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(a){return(a instanceof L.HTMLAnchorElement||a instanceof L.HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof L.HTMLInputElement||a instanceof L.HTMLSelectElement||a instanceof L.HTMLTextAreaElement||a instanceof L.HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof L.HTMLIFrameElement||a instanceof L.HTMLObjectElement||a instanceof L.HTMLEmbedElement||a.hasAttribute("tabindex")&&a.getAttribute("tabindex")!==-1||a.hasAttribute("contenteditable")})},e}(H);Ta.prototype.options_={pauseOnOpen:!0,temporary:!0};H.registerComponent("ModalDialog",Ta);var sa=function(t){X(e,t);function e(i){var n;i===void 0&&(i=[]),n=t.call(this)||this,n.tracks_=[],Object.defineProperty(oe(n),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<i.length;a++)n.addTrack(i[a]);return n}var r=e.prototype;return r.addTrack=function(n){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function(){return this.tracks_[s]}}),this.tracks_.indexOf(n)===-1&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack",target:this})),n.labelchange_=function(){a.trigger({track:n,type:"labelchange",target:a})},Hr(n)&&n.addEventListener("labelchange",n.labelchange_)},r.removeTrack=function(n){for(var a,s=0,o=this.length;s<o;s++)if(this[s]===n){a=this[s],a.off&&a.off(),this.tracks_.splice(s,1);break}!a||this.trigger({track:a,type:"removetrack",target:this})},r.getTrackById=function(n){for(var a=null,s=0,o=this.length;s<o;s++){var l=this[s];if(l.id===n){a=l;break}}return a},e}(Qe);sa.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var xP in sa.prototype.allowedEvents_)sa.prototype["on"+xP]=null;var rc=function(e,r){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||r.id===e[i].id||(e[i].enabled=!1)},bP=function(t){X(e,t);function e(i){var n;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].enabled){rc(i,i[a]);break}return n=t.call(this,i)||this,n.changing_=!1,n}var r=e.prototype;return r.addTrack=function(n){var a=this;n.enabled&&rc(this,n),t.prototype.addTrack.call(this,n),!!n.addEventListener&&(n.enabledChange_=function(){a.changing_||(a.changing_=!0,rc(a,n),a.changing_=!1,a.trigger("change"))},n.addEventListener("enabledchange",n.enabledChange_))},r.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&n.enabledChange_&&(n.removeEventListener("enabledchange",n.enabledChange_),n.enabledChange_=null)},e}(sa),nc=function(e,r){for(var i=0;i<e.length;i++)!Object.keys(e[i]).length||r.id===e[i].id||(e[i].selected=!1)},EP=function(t){X(e,t);function e(i){var n;i===void 0&&(i=[]);for(var a=i.length-1;a>=0;a--)if(i[a].selected){nc(i,i[a]);break}return n=t.call(this,i)||this,n.changing_=!1,Object.defineProperty(oe(n),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),n}var r=e.prototype;return r.addTrack=function(n){var a=this;n.selected&&nc(this,n),t.prototype.addTrack.call(this,n),!!n.addEventListener&&(n.selectedChange_=function(){a.changing_||(a.changing_=!0,nc(a,n),a.changing_=!1,a.trigger("change"))},n.addEventListener("selectedchange",n.selectedChange_))},r.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&n.selectedChange_&&(n.removeEventListener("selectedchange",n.selectedChange_),n.selectedChange_=null)},e}(sa),GT=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.addTrack=function(n){var a=this;t.prototype.addTrack.call(this,n),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),n.addEventListener("modechange",this.queueChange_);var s=["metadata","chapters"];s.indexOf(n.kind)===-1&&n.addEventListener("modechange",this.triggerSelectedlanguagechange_)},r.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&(this.queueChange_&&n.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&n.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(sa),wP=function(){function t(r){r===void 0&&(r=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,n=r.length;i<n;i++)this.addTrackElement_(r[i])}var e=t.prototype;return e.addTrackElement_=function(i){var n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.trackElements_[n]}}),this.trackElements_.indexOf(i)===-1&&this.trackElements_.push(i)},e.getTrackElementByTrack_=function(i){for(var n,a=0,s=this.trackElements_.length;a<s;a++)if(i===this.trackElements_[a].track){n=this.trackElements_[a];break}return n},e.removeTrackElement_=function(i){for(var n=0,a=this.trackElements_.length;n<a;n++)if(i===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}},t}(),Pv=function(){function t(r){t.prototype.setCues_.call(this,r),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(i){var n=this.length||0,a=0,s=i.length;this.cues_=i,this.length_=i.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(n<s)for(a=n;a<s;a++)o.call(this,a)},e.getCueById=function(i){for(var n=null,a=0,s=this.length;a<s;a++){var o=this[a];if(o.id===i){n=o;break}}return n},t}(),CP={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},kP={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},PP={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Av={disabled:"disabled",hidden:"hidden",showing:"showing"},dp=function(t){X(e,t);function e(r){var i;r===void 0&&(r={}),i=t.call(this)||this;var n={id:r.id||"vjs_track_"+kn(),kind:r.kind||"",language:r.language||""},a=r.label||"",s=function(u){Object.defineProperty(oe(i),u,{get:function(){return n[u]},set:function(){}})};for(var o in n)s(o);return Object.defineProperty(oe(i),"label",{get:function(){return a},set:function(u){u!==a&&(a=u,this.trigger("labelchange"))}}),i}return e}(Qe),cp=function(e){var r=["protocol","hostname","port","pathname","search","hash","host"],i=$.createElement("a");i.href=e;for(var n={},a=0;a<r.length;a++)n[r[a]]=i[r[a]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=L.location.protocol),n.host||(n.host=L.location.host),n},qT=function(e){if(!e.match(/^https?:\/\//)){var r=$.createElement("a");r.href=e,e=r.href}return e},fp=function(e){if(typeof e=="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,i=r.exec(e);if(i)return i.pop().toLowerCase()}return""},Yu=function(e,r){r===void 0&&(r=L.location);var i=cp(e),n=i.protocol===":"?r.protocol:i.protocol,a=n+i.host!==r.protocol+r.host;return a},AP=Object.freeze({__proto__:null,parseUrl:cp,getAbsoluteURL:qT,getFileExtension:fp,isCrossOrigin:Yu}),Iv=function(e,r){var i=new L.WebVTT.Parser(L,L.vttjs,L.WebVTT.StringDecoder()),n=[];i.oncue=function(a){r.addCue(a)},i.onparsingerror=function(a){n.push(a)},i.onflush=function(){r.trigger({type:"loadeddata",target:r})},i.parse(e),n.length>0&&(L.console&&L.console.groupCollapsed&&L.console.groupCollapsed("Text Track parsing errors for "+r.src),n.forEach(function(a){return ce.error(a)}),L.console&&L.console.groupEnd&&L.console.groupEnd()),i.flush()},Lv=function(e,r){var i={uri:e},n=Yu(e);n&&(i.cors=n);var a=r.tech_.crossOrigin()==="use-credentials";a&&(i.withCredentials=a),E_(i,we(this,function(s,o,l){if(s)return ce.error(s,o);r.loaded_=!0,typeof L.WebVTT!="function"?r.tech_&&r.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){ce.error("vttjs failed to load, stopping trying to process "+r.src);return}return Iv(l,r)}):Iv(l,r)}))},co=function(t){X(e,t);function e(i){var n;if(i===void 0&&(i={}),!i.tech)throw new Error("A tech was not provided.");var a=Ae(i,{kind:PP[i.kind]||"subtitles",language:i.language||i.srclang||""}),s=Av[a.mode]||"disabled",o=a.default;(a.kind==="metadata"||a.kind==="chapters")&&(s="hidden"),n=t.call(this,a)||this,n.tech_=a.tech,n.cues_=[],n.activeCues_=[],n.preload_=n.tech_.preloadTextTracks!==!1;var l=new Pv(n.cues_),u=new Pv(n.activeCues_),d=!1,h=we(oe(n),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1))}),f=function(){n.tech_.off("timeupdate",h)};return n.tech_.one("dispose",f),s!=="disabled"&&n.tech_.on("timeupdate",h),Object.defineProperties(oe(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return s},set:function(x){!Av[x]||s!==x&&(s=x,!this.preload_&&s!=="disabled"&&this.cues.length===0&&Lv(this.src,this),this.tech_.off("timeupdate",h),s!=="disabled"&&this.tech_.on("timeupdate",h),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var x=this.tech_.currentTime(),S=[],v=0,_=this.cues.length;v<_;v++){var E=this.cues[v];(E.startTime<=x&&E.endTime>=x||E.startTime===E.endTime&&E.startTime<=x&&E.startTime+.5>=x)&&S.push(E)}if(d=!1,S.length!==this.activeCues_.length)d=!0;else for(var C=0;C<S.length;C++)this.activeCues_.indexOf(S[C])===-1&&(d=!0);return this.activeCues_=S,u.setCues_(this.activeCues_),u},set:function(){}}}),a.src?(n.src=a.src,n.preload_||(n.loaded_=!0),(n.preload_||a.kind!=="subtitles"&&a.kind!=="captions")&&Lv(n.src,oe(n))):n.loaded_=!0,n}var r=e.prototype;return r.addCue=function(n){var a=n;if(L.vttjs&&!(n instanceof L.vttjs.VTTCue)){a=new L.vttjs.VTTCue(n.startTime,n.endTime,n.text);for(var s in n)s in a||(a[s]=n[s]);a.id=n.id,a.originalCue_=n}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},r.removeCue=function(n){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===n||s.originalCue_&&s.originalCue_===n){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},e}(dp);co.prototype.allowedEvents_={cuechange:"cuechange"};var XT=function(t){X(e,t);function e(r){var i;r===void 0&&(r={});var n=Ae(r,{kind:kP[r.kind]||""});i=t.call(this,n)||this;var a=!1;return Object.defineProperty(oe(i),"enabled",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return e}(dp),KT=function(t){X(e,t);function e(r){var i;r===void 0&&(r={});var n=Ae(r,{kind:CP[r.kind]||""});i=t.call(this,n)||this;var a=!1;return Object.defineProperty(oe(i),"selected",{get:function(){return a},set:function(o){typeof o!="boolean"||o===a||(a=o,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),i}return e}(dp),YT=0,IP=1,QT=2,LP=3,Sa=function(t){X(e,t);function e(r){var i;r===void 0&&(r={}),i=t.call(this)||this;var n,a=new co(r);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i.default=a.default,Object.defineProperties(oe(i),{readyState:{get:function(){return n}},track:{get:function(){return a}}}),n=YT,a.addEventListener("loadeddata",function(){n=QT,i.trigger({type:"load",target:oe(i)})}),i}return e}(Qe);Sa.prototype.allowedEvents_={load:"load"};Sa.NONE=YT;Sa.LOADING=IP;Sa.LOADED=QT;Sa.ERROR=LP;var Zt={audio:{ListClass:bP,TrackClass:XT,capitalName:"Audio"},video:{ListClass:EP,TrackClass:KT,capitalName:"Video"},text:{ListClass:GT,TrackClass:co,capitalName:"Text"}};Object.keys(Zt).forEach(function(t){Zt[t].getterName=t+"Tracks",Zt[t].privateName=t+"Tracks_"});var oa={remoteText:{ListClass:GT,TrackClass:co,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:wP,TrackClass:Sa,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},yt=Wt({},Zt,oa);oa.names=Object.keys(oa);Zt.names=Object.keys(Zt);yt.names=[].concat(oa.names).concat(Zt.names);function OP(t,e,r,i,n){n===void 0&&(n={});var a=t.textTracks();n.kind=e,r&&(n.label=r),i&&(n.language=i),n.tech=t;var s=new yt.text.TrackClass(n);return a.addTrack(s),s}var Ce=function(t){X(e,t);function e(i,n){var a;return i===void 0&&(i={}),n===void 0&&(n=function(){}),i.reportTouchActivity=!1,a=t.call(this,null,i,n)||this,a.onDurationChange_=function(s){return a.onDurationChange(s)},a.trackProgress_=function(s){return a.trackProgress(s)},a.trackCurrentTime_=function(s){return a.trackCurrentTime(s)},a.stopTrackingCurrentTime_=function(s){return a.stopTrackingCurrentTime(s)},a.disposeSourceHandler_=function(s){return a.disposeSourceHandler(s)},a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),yt.names.forEach(function(s){var o=yt[s];i&&i[o.getterName]&&(a[o.privateName]=i[o.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(s){i["native"+s+"Tracks"]===!1&&(a["featuresNative"+s+"Tracks"]=!1)}),i.nativeCaptions===!1||i.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:(i.nativeCaptions===!0||i.nativeTextTracks===!0)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=i.preloadTextTracks!==!1,a.autoRemoteTextTracks_=new yt.text.ListClass,a.initTrackListeners(),i.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}var r=e.prototype;return r.triggerSourceset=function(n){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(n)},1)}),this.trigger({src:n,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},r.trackProgress=function(n){this.stopTrackingProgress(),this.progressInterval=this.setInterval(we(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,a===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(n){this.duration_=this.duration()},r.buffered=function(){return Xn(0,0)},r.bufferedPercent=function(){return $T(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(Zt.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},r.clearTracks=function(n){var a=this;n=[].concat(n),n.forEach(function(s){for(var o=a[s+"Tracks"]()||[],l=o.length;l--;){var u=o[l];s==="text"&&a.removeRemoteTextTrack(u),o.removeTrack(u)}})},r.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],a=n.length;a--;){var s=n[a];this.removeRemoteTextTrack(s)}},r.reset=function(){},r.crossOrigin=function(){},r.setCrossOrigin=function(){},r.error=function(n){return n!==void 0&&(this.error_=new xt(n),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?Xn(0,0):Xn()},r.play=function(){},r.setScrubbing=function(){},r.scrubbing=function(){},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var n=this;Zt.names.forEach(function(a){var s=Zt[a],o=function(){n.trigger(a+"trackchange")},l=n[s.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),n.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},r.addWebVttScript_=function(){var n=this;if(!L.WebVTT)if($.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ws(Yg)&&Object.keys(Yg).length>0){this.trigger("vttjsloaded");return}var a=$.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){n.trigger("vttjsloaded")},a.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),L.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var n=this,a=this.textTracks(),s=this.remoteTextTracks(),o=function(f){return a.addTrack(f.track)},l=function(f){return a.removeTrack(f.track)};s.on("addtrack",o),s.on("removetrack",l),this.addWebVttScript_();var u=function(){return n.trigger("texttrackchange")},d=function(){u();for(var f=0;f<a.length;f++){var y=a[f];y.removeEventListener("cuechange",u),y.mode==="showing"&&y.addEventListener("cuechange",u)}};d(),a.addEventListener("change",d),a.addEventListener("addtrack",d),a.addEventListener("removetrack",d),this.on("dispose",function(){s.off("addtrack",o),s.off("removetrack",l),a.removeEventListener("change",d),a.removeEventListener("addtrack",d),a.removeEventListener("removetrack",d);for(var h=0;h<a.length;h++){var f=a[h];f.removeEventListener("cuechange",u)}})},r.addTextTrack=function(n,a,s){if(!n)throw new Error("TextTrack kind is required but was not provided");return OP(this,n,a,s)},r.createRemoteTextTrack=function(n){var a=Ae(n,{tech:this});return new oa.remoteTextEl.TrackClass(a)},r.addRemoteTextTrack=function(n,a){var s=this;n===void 0&&(n={});var o=this.createRemoteTextTrack(n);return a!==!0&&a!==!1&&(ce.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),a!==!0&&this.ready(function(){return s.autoRemoteTextTracks_.addTrack(o.track)}),o},r.removeRemoteTextTrack=function(n){var a=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(n),this.autoRemoteTextTracks_.removeTrack(n)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var n=this.options_.Promise||L.Promise;if(n)return n.reject()},r.disablePictureInPicture=function(){return!0},r.setDisablePictureInPicture=function(){},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(n,a){return e.canPlayType(n.type)},e.isTech=function(n){return n.prototype instanceof e||n instanceof e||n===e},e.registerTech=function(n,a){if(e.techs_||(e.techs_={}),!e.isTech(a))throw new Error("Tech "+n+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=Ve(n),e.techs_[n]=a,e.techs_[wl(n)]=a,n!=="Tech"&&e.defaultTechOrder_.push(n),a},e.getTech=function(n){if(!!n){if(e.techs_&&e.techs_[n])return e.techs_[n];if(n=Ve(n),L&&L.videojs&&L.videojs[n])return ce.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),L.videojs[n]}},e}(H);yt.names.forEach(function(t){var e=yt[t];Ce.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Ce.prototype.featuresVolumeControl=!0;Ce.prototype.featuresMuteControl=!0;Ce.prototype.featuresFullscreenResize=!1;Ce.prototype.featuresPlaybackRate=!1;Ce.prototype.featuresProgressEvents=!1;Ce.prototype.featuresSourceset=!1;Ce.prototype.featuresTimeupdateEvents=!1;Ce.prototype.featuresNativeTextTracks=!1;Ce.withSourceHandlers=function(t){t.registerSourceHandler=function(r,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),i===void 0&&(i=n.length),n.splice(i,0,r)},t.canPlayType=function(r){for(var i=t.sourceHandlers||[],n,a=0;a<i.length;a++)if(n=i[a].canPlayType(r),n)return n;return""},t.selectSourceHandler=function(r,i){for(var n=t.sourceHandlers||[],a,s=0;s<n.length;s++)if(a=n[s].canHandleSource(r,i),a)return n[s];return null},t.canPlaySource=function(r,i){var n=t.selectSourceHandler(r,i);return n?n.canHandleSource(r,i):""};var e=["seekable","seeking","duration"];e.forEach(function(r){var i=this[r];typeof i=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){var i=t.selectSourceHandler(r,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:ce.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=i.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};H.registerComponent("Tech",Ce);Ce.registerTech("Tech",Ce);Ce.defaultTechOrder_=[];var Kn={},Sf={},su={};function DP(t,e){Kn[t]=Kn[t]||[],Kn[t].push(e)}function MP(t,e,r){t.setTimeout(function(){return Nn(e,Kn[e.type],r,t)},1)}function RP(t,e){t.forEach(function(r){return r.setTech&&r.setTech(e)})}function NP(t,e,r){return t.reduceRight(hp(r),e[r]())}function FP(t,e,r,i){return e[r](t.reduce(hp(r),i))}function Ov(t,e,r,i){i===void 0&&(i=null);var n="call"+Ve(r),a=t.reduce(hp(n),i),s=a===su,o=s?null:e[r](a);return jP(t,r,o,s),o}var UP={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},BP={setCurrentTime:1,setMuted:1,setVolume:1},Dv={play:1,pause:1};function hp(t){return function(e,r){return e===su?su:r[t]?r[t](e):e}}function jP(t,e,r,i){for(var n=t.length-1;n>=0;n--){var a=t[n];a[e]&&a[e](i,r)}}function VP(t){Sf[t.id()]=null}function HP(t,e){var r=Sf[t.id()],i=null;if(r==null)return i=e(t),Sf[t.id()]=[[e,i]],i;for(var n=0;n<r.length;n++){var a=r[n],s=a[0],o=a[1];s===e&&(i=o)}return i===null&&(i=e(t),r.push([e,i])),i}function Nn(t,e,r,i,n,a){t===void 0&&(t={}),e===void 0&&(e=[]),n===void 0&&(n=[]),a===void 0&&(a=!1);var s=e,o=s[0],l=s.slice(1);if(typeof o=="string")Nn(t,Kn[o],r,i,n,a);else if(o){var u=HP(i,o);if(!u.setSource)return n.push(u),Nn(t,l,r,i,n,a);u.setSource(Ne({},t),function(d,h){if(d)return Nn(t,l,r,i,n,a);n.push(u),Nn(h,t.type===h.type?l:Kn[h.type],r,i,n,a)})}else l.length?Nn(t,l,r,i,n,a):a?r(t,n):Nn(t,Kn["*"],r,i,n,!0)}var zP={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},ou=function(e){e===void 0&&(e="");var r=fp(e),i=zP[r.toLowerCase()];return i||""},WP=function(e,r){if(!r)return"";if(e.cache_.source.src===r&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(o){return o.src===r});if(i.length)return i[0].type;for(var n=e.$$("source"),a=0;a<n.length;a++){var s=n[a];if(s.type&&s.src&&s.src===r)return s.type}return ou(r)},$P=function t(e){if(Array.isArray(e)){var r=[];e.forEach(function(i){i=t(i),Array.isArray(i)?r=r.concat(i):Gr(i)&&r.push(i)}),e=r}else typeof e=="string"&&e.trim()?e=[Mv({src:e})]:Gr(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[Mv(e)]:e=[];return e};function Mv(t){if(!t.type){var e=ou(t.src);e&&(t.type=e)}return t}var GP=function(t){X(e,t);function e(r,i,n){var a,s=Ae({createEl:!1},i);if(a=t.call(this,r,s,n)||this,!i.playerOptions.sources||i.playerOptions.sources.length===0)for(var o=0,l=i.playerOptions.techOrder;o<l.length;o++){var u=Ve(l[o]),d=Ce.getTech(u);if(u||(d=H.getComponent(u)),d&&d.isSupported()){r.loadTech_(u);break}}else r.src(i.playerOptions.sources);return a}return e}(H);H.registerComponent("MediaLoader",GP);var Qu=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.handleMouseOver_=function(s){return a.handleMouseOver(s)},a.handleMouseOut_=function(s){return a.handleMouseOut(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.emitTapEvents(),a.enable(),a}var r=e.prototype;return r.createEl=function(n,a,s){n===void 0&&(n="div"),a===void 0&&(a={}),s===void 0&&(s={}),a=Ne({className:this.buildCSSClass(),tabIndex:0},a),n==="button"&&ce.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),s=Ne({role:"button"},s),this.tabIndex_=a.tabIndex;var o=ye(n,a,s);return o.appendChild(ye("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},r.createControlTextEl=function(n){return this.controlTextEl_=ye("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},r.controlText=function(n,a){if(a===void 0&&(a=this.el()),n===void 0)return this.controlText_||"Need Text";var s=this.localize(n);this.controlText_=n,li(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",s)},r.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},r.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},r.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},r.handleLanguagechange=function(){this.controlText(this.controlText_)},r.handleClick=function(n){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},r.handleKeyDown=function(n){ue.isEventKey(n,"Space")||ue.isEventKey(n,"Enter")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,n)},e}(H);H.registerComponent("ClickableComponent",Qu);var qP=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update(),a.update_=function(s){return a.update(s)},i.on("posterchange",a.update_),a}var r=e.prototype;return r.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},r.createEl=function(){var n=ye("div",{className:"vjs-poster",tabIndex:-1});return n},r.update=function(n){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},r.setSrc=function(n){var a="";n&&(a='url("'+n+'")'),this.el_.style.backgroundImage=a},r.handleClick=function(n){if(!!this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((lo||oo)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?Tr(this.player_.play()):this.player_.pause()}},e}(Qu);H.registerComponent("PosterImage",qP);var Xt="#222",Rv="#ccc",XP={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ic(t,e){var r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function ac(t,e,r){try{t.style[e]=r}catch{return}}var KP=function(t){X(e,t);function e(i,n,a){var s;s=t.call(this,i,n,a)||this;var o=function(u){return s.updateDisplay(u)};return i.on("loadstart",function(l){return s.toggleDisplay(l)}),i.on("texttrackchange",o),i.on("loadedmetadata",function(l){return s.preselectTrack(l)}),i.ready(we(oe(s),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",o),i.on("playerresize",o),L.addEventListener("orientationchange",o),i.on("dispose",function(){return L.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),s}var r=e.prototype;return r.preselectTrack=function(){for(var n={captions:1,subtitles:1},a=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,o,l,u,d=0;d<a.length;d++){var h=a[d];s&&s.enabled&&s.language&&s.language===h.language&&h.kind in n?h.kind===s.kind?u=h:u||(u=h):s&&!s.enabled?(u=null,o=null,l=null):h.default&&(h.kind==="descriptions"&&!o?o=h:h.kind in n&&!l&&(l=h))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},r.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},r.clearDisplay=function(){typeof L.WebVTT=="function"&&L.WebVTT.processCues(L,[],this.el_)},r.updateDisplay=function(){var n=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],o=0;o<n.length;++o){var l=n[o];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}for(var u=null,d=null,h=n.length;h--;){var f=n[h];f.mode==="showing"&&(f.kind==="descriptions"?u=f:d=f)}d?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(d)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},r.updateDisplayState=function(n){for(var a=this.player_.textTrackSettings.getValues(),s=n.activeCues,o=s.length;o--;){var l=s[o];if(!!l){var u=l.displayState;if(a.color&&(u.firstChild.style.color=a.color),a.textOpacity&&ac(u.firstChild,"color",ic(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(u.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&ac(u.firstChild,"backgroundColor",ic(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?ac(u,"backgroundColor",ic(a.windowColor,a.windowOpacity)):u.style.backgroundColor=a.windowColor),a.edgeStyle&&(a.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+Xt+", 2px 2px 4px "+Xt+", 2px 2px 5px "+Xt:a.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+Xt+", 2px 2px "+Xt+", 3px 3px "+Xt:a.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+Rv+", 0 1px "+Rv+", -1px -1px "+Xt+", 0 -1px "+Xt:a.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+Xt+", 0 0 4px "+Xt+", 0 0 4px "+Xt+", 0 0 4px "+Xt)),a.fontPercent&&a.fontPercent!==1){var d=L.parseFloat(u.style.fontSize);u.style.fontSize=d*a.fontPercent+"px",u.style.height="auto",u.style.top="auto"}a.fontFamily&&a.fontFamily!=="default"&&(a.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=XP[a.fontFamily])}}},r.updateForTrack=function(n){if(Array.isArray(n)||(n=[n]),!(typeof L.WebVTT!="function"||n.every(function(y){return!y.activeCues}))){for(var a=[],s=0;s<n.length;++s)for(var o=n[s],l=0;l<o.activeCues.length;++l)a.push(o.activeCues[l]);L.WebVTT.processCues(L,a,this.el_);for(var u=0;u<n.length;++u){for(var d=n[u],h=0;h<d.activeCues.length;++h){var f=d.activeCues[h].displayState;Vr(f,"vjs-text-track-cue"),Vr(f,"vjs-text-track-cue-"+(d.language?d.language:u)),d.language&&ia(f,"lang",d.language)}this.player_.textTrackSettings&&this.updateDisplayState(d)}}},e}(H);H.registerComponent("TextTrackDisplay",KP);var YP=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var n=this.player_.isAudio(),a=this.localize(n?"Audio Player":"Video Player"),s=ye("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),o=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o},e}(H);H.registerComponent("LoadingSpinner",YP);var ur=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(n,a,s){a===void 0&&(a={}),s===void 0&&(s={}),n="button",a=Ne({className:this.buildCSSClass()},a),s=Ne({type:"button"},s);var o=ye(n,a,s);return o.appendChild(ye("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},r.addChild=function(n,a){a===void 0&&(a={});var s=this.constructor.name;return ce.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),H.prototype.addChild.call(this,n,a)},r.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},r.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},r.handleKeyDown=function(n){if(ue.isEventKey(n,"Space")||ue.isEventKey(n,"Enter")){n.stopPropagation();return}t.prototype.handleKeyDown.call(this,n)},e}(Qu);H.registerComponent("Button",ur);var ZT=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.mouseused_=!1,a.on("mousedown",function(s){return a.handleMouseDown(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-big-play-button"},r.handleClick=function(n){var a=this.player_.play();if(this.mouseused_&&n.clientX&&n.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Tr(a),this.player_.tech(!0)&&!((lo||oo)&&s)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};Ts(a)?a.then(u,function(){}):this.setTimeout(u,1)},r.handleKeyDown=function(n){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,n)},r.handleMouseDown=function(n){this.mouseused_=!0},e}(ur);ZT.prototype.controlText_="Play Video";H.registerComponent("BigPlayButton",ZT);var QP=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.controlText(n&&n.controlText||a.localize("Close")),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(n){this.trigger({type:"close",bubbles:!1})},r.handleKeyDown=function(n){ue.isEventKey(n,"Esc")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,n)},e}(ur);H.registerComponent("CloseButton",QP);var JT=function(t){X(e,t);function e(i,n){var a;return n===void 0&&(n={}),a=t.call(this,i,n)||this,n.replay=n.replay===void 0||n.replay,a.on(i,"play",function(s){return a.handlePlay(s)}),a.on(i,"pause",function(s){return a.handlePause(s)}),n.replay&&a.on(i,"ended",function(s){return a.handleEnded(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(n){this.player_.paused()?Tr(this.player_.play()):this.player_.pause()},r.handleSeeked=function(n){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(n):this.handlePlay(n)},r.handlePlay=function(n){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},r.handlePause=function(n){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},r.handleEnded=function(n){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(s){return a.handleSeeked(s)})},e}(ur);JT.prototype.controlText_="Play";H.registerComponent("PlayToggle",JT);var eS=function(e,r){e=e<0?0:e;var i=Math.floor(e%60),n=Math.floor(e/60%60),a=Math.floor(e/3600),s=Math.floor(r/60%60),o=Math.floor(r/3600);return(isNaN(e)||e===1/0)&&(a=n=i="-"),a=a>0||o>0?a+":":"",n=((a||s>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,a+n+i},pp=eS;function ZP(t){pp=t}function JP(){pp=eS}function la(t,e){return e===void 0&&(e=t),pp(t,e)}var xa=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,["timeupdate","ended"],function(s){return a.updateContent(s)}),a.updateTextNode_(),a}var r=e.prototype;return r.createEl=function(){var n=this.buildCSSClass(),a=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"}),s=ye("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return a.appendChild(s),this.contentEl_=ye("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},r.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},r.updateTextNode_=function(n){var a=this;n===void 0&&(n=0),n=la(n),this.formattedTime_!==n&&(this.formattedTime_=n,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!a.contentEl_){var s=a.textNode_;s&&a.contentEl_.firstChild!==s&&(s=null,ce.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=$.createTextNode(a.formattedTime_),!!a.textNode_&&(s?a.contentEl_.replaceChild(a.textNode_,s):a.contentEl_.appendChild(a.textNode_))}}))},r.updateContent=function(n){},e}(H);xa.prototype.labelText_="Time";xa.prototype.controlText_="Time";H.registerComponent("TimeDisplay",xa);var mp=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-current-time"},r.updateContent=function(n){var a;this.player_.ended()?a=this.player_.duration():a=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},e}(xa);mp.prototype.labelText_="Current Time";mp.prototype.controlText_="Current Time";H.registerComponent("CurrentTimeDisplay",mp);var gp=function(t){X(e,t);function e(i,n){var a;a=t.call(this,i,n)||this;var s=function(l){return a.updateContent(l)};return a.on(i,"durationchange",s),a.on(i,"loadstart",s),a.on(i,"loadedmetadata",s),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-duration"},r.updateContent=function(n){var a=this.player_.duration();this.updateTextNode_(a)},e}(xa);gp.prototype.labelText_="Duration";gp.prototype.controlText_="Duration";H.registerComponent("DurationDisplay",gp);var eA=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=t.prototype.createEl.call(this,"div"),s=t.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(s),n.appendChild(a),n},e}(H);H.registerComponent("TimeDivider",eA);var vp=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,"durationchange",function(s){return a.updateContent(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-remaining-time"},r.createEl=function(){var n=t.prototype.createEl.call(this);return n.insertBefore(ye("span",{},{"aria-hidden":!0},"-"),this.contentEl_),n},r.updateContent=function(n){if(typeof this.player_.duration()=="number"){var a;this.player_.ended()?a=0:this.player_.remainingTimeDisplay?a=this.player_.remainingTimeDisplay():a=this.player_.remainingTime(),this.updateTextNode_(a)}},e}(xa);vp.prototype.labelText_="Remaining Time";vp.prototype.controlText_="Remaining Time";H.registerComponent("RemainingTimeDisplay",vp);var tA=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.updateShowing(),a.on(a.player(),"durationchange",function(s){return a.updateShowing(s)}),a}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ye("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ye("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild($.createTextNode(this.localize("LIVE"))),n.appendChild(this.contentEl_),n},r.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},r.updateShowing=function(n){this.player().duration()===1/0?this.show():this.hide()},e}(H);H.registerComponent("LiveDisplay",tA);var tS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(s){return a.updateLiveEdgeStatus(s)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=ye("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),n.appendChild(this.textEl_),n},r.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},r.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},r.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(ur);tS.prototype.controlText_="Seek to live, currently playing live";H.registerComponent("SeekToLive",tS);var Zu=function(e,r,i){return e=Number(e),Math.min(i,Math.max(r,isNaN(e)?r:e))},yp=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.handleMouseDown_=function(s){return a.handleMouseDown(s)},a.handleMouseUp_=function(s){return a.handleMouseUp(s)},a.handleKeyDown_=function(s){return a.handleKeyDown(s)},a.handleClick_=function(s){return a.handleClick(s)},a.handleMouseMove_=function(s){return a.handleMouseMove(s)},a.update_=function(s){return a.update(s)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}var r=e.prototype;return r.enabled=function(){return this.enabled_},r.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},r.disable=function(){if(!!this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},r.createEl=function(n,a,s){return a===void 0&&(a={}),s===void 0&&(s={}),a.className=a.className+" vjs-slider",a=Ne({tabIndex:0},a),s=Ne({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},s),t.prototype.createEl.call(this,n,a,s)},r.handleMouseDown=function(n){var a=this.bar.el_.ownerDocument;n.type==="mousedown"&&n.preventDefault(),n.type==="touchstart"&&!Yr&&n.preventDefault(),IT(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(n)},r.handleMouseMove=function(n){},r.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;LT(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()},r.update=function(){var n=this;if(!(!this.el_||!this.bar)){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var s=n.vertical()?"height":"width";n.bar.el().style[s]=(a*100).toFixed(2)+"%"})),a}},r.getProgress=function(){return Number(Zu(this.getPercent(),0,1).toFixed(4))},r.calculateDistance=function(n){var a=Gu(this.el_,n);return this.vertical()?a.y:a.x},r.handleKeyDown=function(n){ue.isEventKey(n,"Left")||ue.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepBack()):ue.isEventKey(n,"Right")||ue.isEventKey(n,"Up")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,n)},r.handleClick=function(n){n.stopPropagation(),n.preventDefault()},r.vertical=function(n){if(n===void 0)return this.vertical_||!1;this.vertical_=!!n,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(H);H.registerComponent("Slider",yp);var sc=function(e,r){return Zu(e/r*100,0,100).toFixed(2)+"%"},rA=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.partEls_=[],a.on(i,"progress",function(s){return a.update(s)}),a}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=ye("span",{className:"vjs-control-text"}),s=ye("span",{textContent:this.localize("Loaded")}),o=$.createTextNode(": ");return this.percentageEl_=ye("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),n.appendChild(a),a.appendChild(s),a.appendChild(o),a.appendChild(this.percentageEl_),n},r.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},r.update=function(n){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var s=a.player_.liveTracker,o=a.player_.buffered(),l=s&&s.isLive()?s.seekableEnd():a.player_.duration(),u=a.player_.bufferedEnd(),d=a.partEls_,h=sc(u,l);a.percent_!==h&&(a.el_.style.width=h,li(a.percentageEl_,h),a.percent_=h);for(var f=0;f<o.length;f++){var y=o.start(f),x=o.end(f),S=d[f];S||(S=a.el_.appendChild(ye()),d[f]=S),!(S.dataset.start===y&&S.dataset.end===x)&&(S.dataset.start=y,S.dataset.end=x,S.style.left=sc(y,u),S.style.width=sc(x-y,u))}for(var v=d.length;v>o.length;v--)a.el_.removeChild(d[v-1]);d.length=o.length})},e}(H);H.registerComponent("LoadProgressBar",rA);var nA=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=qr(we(oe(a),a.update),dr),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},r.update=function(n,a,s){var o=Gs(this.el_),l=aa(this.player_.el()),u=n.width*a;if(!(!l||!o)){var d=n.left-l.left+u,h=n.width-u+(l.right-n.right),f=o.width/2;d<f?f+=f-d:h<f&&(f=h),f<0?f=0:f>o.width&&(f=o.width),f=Math.round(f),this.el_.style.right="-"+f+"px",this.write(s)}},r.write=function(n){li(this.el_,n)},r.updateTime=function(n,a,s,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,d=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var h=l.player_.liveTracker.liveWindow(),f=h-a*h;u=(f<1?"":"-")+la(f,h)}else u=la(s,d);l.update(n,a,u),o&&o()})},e}(H);H.registerComponent("TimeTooltip",nA);var _p=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=qr(we(oe(a),a.update),dr),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},r.update=function(n,a){var s=this.getChild("timeTooltip");if(!!s){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(n,a,o)}},e}(H);_p.prototype.options_={children:[]};!Lt&&!Kr&&_p.prototype.options_.children.push("timeTooltip");H.registerComponent("PlayProgressBar",_p);var rS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=qr(we(oe(a),a.update),dr),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(n,a){var s=this,o=a*this.player_.duration();this.getChild("timeTooltip").updateTime(n,a,o,function(){s.el_.style.left=n.width*a+"px"})},e}(H);rS.prototype.options_={children:["timeTooltip"]};H.registerComponent("MouseTimeDisplay",rS);var nl=5,Nv=12,Tp=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.setEventHandlers_(),a}var r=e.prototype;return r.setEventHandlers_=function(){var n=this;this.update_=we(this,this.update),this.update=qr(this.update_,dr),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return n.enableInterval_(a)},this.disableIntervalHandler_=function(a){return n.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in $&&"visibilityState"in $&&this.on($,"visibilitychange",this.toggleVisibility_)},r.toggleVisibility_=function(n){$.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(n)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},r.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,dr))},r.disableInterval_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&n&&n.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},r.update=function(n){var a=this;if($.visibilityState!=="hidden"){var s=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),l=a.player_.liveTracker,u=a.player_.duration();l&&l.isLive()&&(u=a.player_.liveTracker.liveCurrentTime()),a.percent_!==s&&(a.el_.setAttribute("aria-valuenow",(s*100).toFixed(2)),a.percent_=s),(a.currentTime_!==o||a.duration_!==u)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[la(o,u),la(u,u)],"{1} of {2}")),a.currentTime_=o,a.duration_=u),a.bar&&a.bar.update(aa(a.el()),a.getProgress())}),s}},r.userSeek_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(n)},r.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},r.getPercent=function(){var n=this.getCurrentTime_(),a,s=this.player_.liveTracker;return s&&s.isLive()?(a=(n-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(a=1)):a=n/this.player_.duration(),a},r.handleMouseDown=function(n){!qs(n)||(n.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,n))},r.handleMouseMove=function(n){if(!!qs(n)){var a,s=this.calculateDistance(n),o=this.player_.liveTracker;if(!o||!o.isLive())a=s*this.player_.duration(),a===this.player_.duration()&&(a=a-.1);else{if(s>=.99){o.seekToLiveEdge();return}var l=o.seekableStart(),u=o.liveCurrentTime();if(a=l+s*o.liveWindow(),a>=u&&(a=u),a<=l&&(a=l+.1),a===1/0)return}this.userSeek_(a)}},r.enable=function(){t.prototype.enable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.show()},r.disable=function(){t.prototype.disable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.hide()},r.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),n&&n.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Tr(this.player_.play()):this.update_()},r.stepForward=function(){this.userSeek_(this.player_.currentTime()+nl)},r.stepBack=function(){this.userSeek_(this.player_.currentTime()-nl)},r.handleAction=function(n){this.player_.paused()?this.player_.play():this.player_.pause()},r.handleKeyDown=function(n){var a=this.player_.liveTracker;if(ue.isEventKey(n,"Space")||ue.isEventKey(n,"Enter"))n.preventDefault(),n.stopPropagation(),this.handleAction(n);else if(ue.isEventKey(n,"Home"))n.preventDefault(),n.stopPropagation(),this.userSeek_(0);else if(ue.isEventKey(n,"End"))n.preventDefault(),n.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(ue(n))){n.preventDefault(),n.stopPropagation();var s=(ue.codes[ue(n)]-ue.codes["0"])*10/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else ue.isEventKey(n,"PgDn")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()-nl*Nv)):ue.isEventKey(n,"PgUp")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()+nl*Nv)):t.prototype.handleKeyDown.call(this,n)},r.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in $&&"visibilityState"in $&&this.off($,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(yp);Tp.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Lt&&!Kr&&Tp.prototype.options_.children.splice(1,0,"mouseTimeDisplay");H.registerComponent("SeekBar",Tp);var nS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.handleMouseMove=qr(we(oe(a),a.handleMouseMove),dr),a.throttledHandleMouseSeek=qr(we(oe(a),a.handleMouseSeek),dr),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.handleMouseDownHandler_=function(s){return a.handleMouseDown(s)},a.enable(),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},r.handleMouseMove=function(n){var a=this.getChild("seekBar");if(!!a){var s=a.getChild("playProgressBar"),o=a.getChild("mouseTimeDisplay");if(!(!s&&!o)){var l=a.el(),u=Gs(l),d=Gu(l,n).x;d=Zu(d,0,1),o&&o.update(u,d),s&&s.update(u,a.getProgress())}}},r.handleMouseSeek=function(n){var a=this.getChild("seekBar");a&&a.handleMouseMove(n)},r.enabled=function(){return this.enabled_},r.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var n=this.getChild("seekBar");this.player_.scrubbing(!1),n.videoWasPlaying&&Tr(this.player_.play())}},r.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},r.removeListenersAddedOnMousedownAndTouchstart=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseSeek),this.off(n,"touchmove",this.throttledHandleMouseSeek),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},r.handleMouseDown=function(n){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(n),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(n){var a=this.getChild("seekBar");a&&a.handleMouseUp(n),this.removeListenersAddedOnMousedownAndTouchstart()},e}(H);nS.prototype.options_={children:["seekBar"]};H.registerComponent("ProgressControl",nS);var iS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,["enterpictureinpicture","leavepictureinpicture"],function(s){return a.handlePictureInPictureChange(s)}),a.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(s){return a.handlePictureInPictureEnabledChange(s)}),a.disable(),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},r.handlePictureInPictureEnabledChange=function(){$.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},r.handlePictureInPictureChange=function(n){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},r.handleClick=function(n){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(ur);iS.prototype.controlText_="Picture-in-Picture";H.registerComponent("PictureInPictureToggle",iS);var aS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,"fullscreenchange",function(s){return a.handleFullscreenChange(s)}),$[i.fsApi_.fullscreenEnabled]===!1&&a.disable(),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(n){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(n){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(ur);aS.prototype.controlText_="Fullscreen";H.registerComponent("FullscreenToggle",aS);var iA=function(e,r){r.tech_&&!r.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},aA=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return n.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),n},e}(H);H.registerComponent("VolumeLevel",aA);var sA=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=qr(we(oe(a),a.update),dr),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},r.update=function(n,a,s,o){if(!s){var l=aa(this.el_),u=aa(this.player_.el()),d=n.width*a;if(!u||!l)return;var h=n.left-u.left+d,f=n.width-d+(u.right-n.right),y=l.width/2;h<y?y+=y-h:f<y&&(y=f),y<0?y=0:y>l.width&&(y=l.width),this.el_.style.right="-"+y+"px"}this.write(o+"%")},r.write=function(n){li(this.el_,n)},r.updateVolume=function(n,a,s,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(n,a,s,o.toFixed(0)),l&&l()})},e}(H);H.registerComponent("VolumeLevelTooltip",sA);var sS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.update=qr(we(oe(a),a.update),dr),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},r.update=function(n,a,s){var o=this,l=100*a;this.getChild("volumeLevelTooltip").updateVolume(n,a,s,l,function(){s?o.el_.style.bottom=n.height*a+"px":o.el_.style.left=n.width*a+"px"})},e}(H);sS.prototype.options_={children:["volumeLevelTooltip"]};H.registerComponent("MouseVolumeLevelDisplay",sS);var Ju=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on("slideractive",function(s){return a.updateLastVolume_(s)}),a.on(i,"volumechange",function(s){return a.updateARIAAttributes(s)}),i.ready(function(){return a.updateARIAAttributes()}),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},r.handleMouseDown=function(n){!qs(n)||t.prototype.handleMouseDown.call(this,n)},r.handleMouseMove=function(n){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),o=aa(s),l=this.vertical(),u=Gu(s,n);u=l?u.y:u.x,u=Zu(u,0,1),a.update(o,u,l)}!qs(n)||(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},r.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},r.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},r.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},r.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},r.updateARIAAttributes=function(n){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},r.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},r.updateLastVolume_=function(){var n=this,a=this.player_.volume();this.one("sliderinactive",function(){n.player_.volume()===0&&n.player_.lastVolume_(a)})},e}(yp);Ju.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Lt&&!Kr&&Ju.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Ju.prototype.playerEvent="volumechange";H.registerComponent("VolumeBar",Ju);var oS=function(t){X(e,t);function e(i,n){var a;return n===void 0&&(n={}),n.vertical=n.vertical||!1,(typeof n.volumeBar=="undefined"||Ws(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),a=t.call(this,i,n)||this,iA(oe(a),i),a.throttledHandleMouseMove=qr(we(oe(a),a.handleMouseMove),dr),a.handleMouseUpHandler_=function(s){return a.handleMouseUp(s)},a.on("mousedown",function(s){return a.handleMouseDown(s)}),a.on("touchstart",function(s){return a.handleMouseDown(s)}),a.on("mousemove",function(s){return a.handleMouseMove(s)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}var r=e.prototype;return r.createEl=function(){var n="vjs-volume-horizontal";return this.options_.vertical&&(n="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+n})},r.handleMouseDown=function(n){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseUp=function(n){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},r.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},e}(H);oS.prototype.options_={children:["volumeBar"]};H.registerComponent("VolumeControl",oS);var oA=function(e,r){r.tech_&&!r.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(r,"loadstart",function(){r.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},lS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,oA(oe(a),i),a.on(i,["loadstart","volumechange"],function(s){return a.update(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},r.handleClick=function(n){var a=this.player_.volume(),s=this.player_.lastVolume_();if(a===0){var o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},r.update=function(n){this.updateIcon_(),this.updateControlText_()},r.updateIcon_=function(){var n=this.player_.volume(),a=3;Lt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),n===0||this.player_.muted()?a=0:n<.33?a=1:n<.67&&(a=2);for(var s=0;s<4;s++)uo(this.el_,"vjs-vol-"+s);Vr(this.el_,"vjs-vol-"+a)},r.updateControlText_=function(){var n=this.player_.muted()||this.player_.volume()===0,a=n?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},e}(ur);lS.prototype.controlText_="Mute";H.registerComponent("MuteToggle",lS);var uS=function(t){X(e,t);function e(i,n){var a;return n===void 0&&(n={}),typeof n.inline!="undefined"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl=="undefined"||Ws(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),a=t.call(this,i,n)||this,a.handleKeyPressHandler_=function(s){return a.handleKeyPress(s)},a.on(i,["loadstart"],function(s){return a.volumePanelState_(s)}),a.on(a.muteToggle,"keyup",function(s){return a.handleKeyPress(s)}),a.on(a.volumeControl,"keyup",function(s){return a.handleVolumeControlKeyUp(s)}),a.on("keydown",function(s){return a.handleKeyPress(s)}),a.on("mouseover",function(s){return a.handleMouseOver(s)}),a.on("mouseout",function(s){return a.handleMouseOut(s)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}var r=e.prototype;return r.sliderActive_=function(){this.addClass("vjs-slider-active")},r.sliderInactive_=function(){this.removeClass("vjs-slider-active")},r.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},r.createEl=function(){var n="vjs-volume-panel-horizontal";return this.options_.inline||(n="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+n})},r.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},r.handleVolumeControlKeyUp=function(n){ue.isEventKey(n,"Esc")&&this.muteToggle.focus()},r.handleMouseOver=function(n){this.addClass("vjs-hover"),$t($,"keyup",this.handleKeyPressHandler_)},r.handleMouseOut=function(n){this.removeClass("vjs-hover"),dt($,"keyup",this.handleKeyPressHandler_)},r.handleKeyPress=function(n){ue.isEventKey(n,"Esc")&&this.handleMouseOut()},e}(H);uS.prototype.options_={children:["muteToggle","volumeControl"]};H.registerComponent("VolumePanel",uS);var dS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,n&&(a.menuButton_=n.menuButton),a.focusedChild_=-1,a.on("keydown",function(s){return a.handleKeyDown(s)}),a.boundHandleBlur_=function(s){return a.handleBlur(s)},a.boundHandleTapClick_=function(s){return a.handleTapClick(s)},a}var r=e.prototype;return r.addEventListenerForItem=function(n){n instanceof H&&(this.on(n,"blur",this.boundHandleBlur_),this.on(n,["tap","click"],this.boundHandleTapClick_))},r.removeEventListenerForItem=function(n){n instanceof H&&(this.off(n,"blur",this.boundHandleBlur_),this.off(n,["tap","click"],this.boundHandleTapClick_))},r.removeChild=function(n){typeof n=="string"&&(n=this.getChild(n)),this.removeEventListenerForItem(n),t.prototype.removeChild.call(this,n)},r.addItem=function(n){var a=this.addChild(n);a&&this.addEventListenerForItem(a)},r.createEl=function(){var n=this.options_.contentElType||"ul";this.contentEl_=ye(n,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),$t(a,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),a},r.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},r.handleBlur=function(n){var a=n.relatedTarget||$.activeElement;if(!this.children().some(function(o){return o.el()===a})){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},r.handleTapClick=function(n){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter(function(o){return o.el()===n.target})[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},r.handleKeyDown=function(n){ue.isEventKey(n,"Left")||ue.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):(ue.isEventKey(n,"Right")||ue.isEventKey(n,"Up"))&&(n.preventDefault(),n.stopPropagation(),this.stepBack())},r.stepForward=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_+1),this.focus(n)},r.stepBack=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_-1),this.focus(n)},r.focus=function(n){n===void 0&&(n=0);var a=this.children().slice(),s=a.length&&a[0].hasClass("vjs-menu-title");s&&a.shift(),a.length>0&&(n<0?n=0:n>=a.length&&(n=a.length-1),this.focusedChild_=n,a[n].el_.focus())},e}(H);H.registerComponent("Menu",dS);var Sp=function(t){X(e,t);function e(i,n){var a;n===void 0&&(n={}),a=t.call(this,i,n)||this,a.menuButton_=new ur(i,n),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var s=ur.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+s,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var o=function(u){return a.handleClick(u)};return a.handleMenuKeyUp_=function(l){return a.handleMenuKeyUp(l)},a.on(a.menuButton_,"tap",o),a.on(a.menuButton_,"click",o),a.on(a.menuButton_,"keydown",function(l){return a.handleKeyDown(l)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),$t($,"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(l){return a.handleMouseLeave(l)}),a.on("keydown",function(l){return a.handleSubmenuKeyDown(l)}),a}var r=e.prototype;return r.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.addChild(n),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},r.createMenu=function(){var n=new dS(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=ye("li",{className:"vjs-menu-title",textContent:Ve(this.options_.title),tabIndex:-1}),s=new H(this.player_,{el:a});n.addItem(s)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)n.addItem(this.items[o]);return n},r.createItems=function(){},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},r.buildWrapperCSSClass=function(){var n="vjs-menu-button";this.options_.inline===!0?n+="-inline":n+="-popup";var a=ur.prototype.buildCSSClass();return"vjs-menu-button "+n+" "+a+" "+t.prototype.buildCSSClass.call(this)},r.buildCSSClass=function(){var n="vjs-menu-button";return this.options_.inline===!0?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},r.controlText=function(n,a){return a===void 0&&(a=this.menuButton_.el()),this.menuButton_.controlText(n,a)},r.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},r.handleClick=function(n){this.buttonPressed_?this.unpressButton():this.pressButton()},r.handleMouseLeave=function(n){this.removeClass("vjs-hover"),dt($,"keyup",this.handleMenuKeyUp_)},r.focus=function(){this.menuButton_.focus()},r.blur=function(){this.menuButton_.blur()},r.handleKeyDown=function(n){ue.isEventKey(n,"Esc")||ue.isEventKey(n,"Tab")?(this.buttonPressed_&&this.unpressButton(),ue.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus())):(ue.isEventKey(n,"Up")||ue.isEventKey(n,"Down"))&&(this.buttonPressed_||(n.preventDefault(),this.pressButton()))},r.handleMenuKeyUp=function(n){(ue.isEventKey(n,"Esc")||ue.isEventKey(n,"Tab"))&&this.removeClass("vjs-hover")},r.handleSubmenuKeyPress=function(n){this.handleSubmenuKeyDown(n)},r.handleSubmenuKeyDown=function(n){(ue.isEventKey(n,"Esc")||ue.isEventKey(n,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),ue.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus()))},r.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Lt&&wT())return;this.menu.focus()}},r.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},r.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},r.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(H);H.registerComponent("MenuButton",Sp);var xp=function(t){X(e,t);function e(r,i){var n,a=i.tracks;if(n=t.call(this,r,i)||this,n.items.length<=1&&n.hide(),!a)return oe(n);var s=we(oe(n),n.update);return a.addEventListener("removetrack",s),a.addEventListener("addtrack",s),a.addEventListener("labelchange",s),n.player_.on("ready",s),n.player_.on("dispose",function(){a.removeEventListener("removetrack",s),a.removeEventListener("addtrack",s),a.removeEventListener("labelchange",s)}),n}return e}(Sp);H.registerComponent("TrackButton",xp);var lA=["Tab","Esc","Up","Down","Right","Left"],fo=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.selectable=n.selectable,a.isSelected_=n.selected||!1,a.multiSelectable=n.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}var r=e.prototype;return r.createEl=function(n,a,s){this.nonIconControl=!0;var o=t.prototype.createEl.call(this,"li",Ne({className:"vjs-menu-item",tabIndex:-1},a),s);return o.replaceChild(ye("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},r.handleKeyDown=function(n){lA.some(function(a){return ue.isEventKey(n,a)})||t.prototype.handleKeyDown.call(this,n)},r.handleClick=function(n){this.selected(!0)},r.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Qu);H.registerComponent("MenuItem",fo);var ho=function(t){X(e,t);function e(i,n){var a,s=n.track,o=i.textTracks();n.label=s.label||s.language||"Unknown",n.selected=s.mode==="showing",a=t.call(this,i,n)||this,a.track=s,a.kinds=(n.kinds||[n.kind||a.track.kind]).filter(Boolean);var l=function(){for(var f=arguments.length,y=new Array(f),x=0;x<f;x++)y[x]=arguments[x];a.handleTracksChange.apply(oe(a),y)},u=function(){for(var f=arguments.length,y=new Array(f),x=0;x<f;x++)y[x]=arguments[x];a.handleSelectedLanguageChange.apply(oe(a),y)};if(i.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),a.on("dispose",function(){i.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var d;a.on(["tap","click"],function(){if(typeof L.Event!="object")try{d=new L.Event("change")}catch{}d||(d=$.createEvent("Event"),d.initEvent("change",!0,!0)),o.dispatchEvent(d)})}return a.handleTracksChange(),a}var r=e.prototype;return r.handleClick=function(n){var a=this.track,s=this.player_.textTracks();if(t.prototype.handleClick.call(this,n),!!s)for(var o=0;o<s.length;o++){var l=s[o];this.kinds.indexOf(l.kind)!==-1&&(l===a?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},r.handleTracksChange=function(n){var a=this.track.mode==="showing";a!==this.isSelected_&&this.selected(a)},r.handleSelectedLanguageChange=function(n){if(this.track.mode==="showing"){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(fo);H.registerComponent("TextTrackMenuItem",ho);var cS=function(t){X(e,t);function e(i,n){return n.track={player:i,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,i,n)||this}var r=e.prototype;return r.handleTracksChange=function(n){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)},r.handleSelectedLanguageChange=function(n){for(var a=this.player().textTracks(),s=!0,o=0,l=a.length;o<l;o++){var u=a[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(ho);H.registerComponent("OffTextTrackMenuItem",cS);var ba=function(t){X(e,t);function e(i,n){return n===void 0&&(n={}),n.tracks=i.textTracks(),t.call(this,i,n)||this}var r=e.prototype;return r.createItems=function(n,a){n===void 0&&(n=[]),a===void 0&&(a=ho);var s;this.label_&&(s=this.label_+" off"),n.push(new cS(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var d=new a(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});d.addClass("vjs-"+u.kind+"-menu-item"),n.push(d)}}return n},e}(xp);H.registerComponent("TextTrackButton",ba);var fS=function(t){X(e,t);function e(i,n){var a,s=n.track,o=n.cue,l=i.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=l&&l<o.endTime,a=t.call(this,i,n)||this,a.track=s,a.cue=o,s.addEventListener("cuechange",we(oe(a),a.update)),a}var r=e.prototype;return r.handleClick=function(n){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},r.update=function(n){var a=this.cue,s=this.player_.currentTime();this.selected(a.startTime<=s&&s<a.endTime)},e}(fo);H.registerComponent("ChaptersTrackMenuItem",fS);var bp=function(t){X(e,t);function e(i,n,a){return t.call(this,i,n,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},r.update=function(n){(!this.track_||n&&(n.type==="addtrack"||n.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},r.setTrack=function(n){if(this.track_!==n){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=n,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_)}}},r.findChaptersTrack=function(){for(var n=this.player_.textTracks()||[],a=n.length-1;a>=0;a--){var s=n[a];if(s.kind===this.kind_)return s}},r.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ve(this.kind_))},r.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},r.createItems=function(){var n=[];if(!this.track_)return n;var a=this.track_.cues;if(!a)return n;for(var s=0,o=a.length;s<o;s++){var l=a[s],u=new fS(this.player_,{track:this.track_,cue:l});n.push(u)}return n},e}(ba);bp.prototype.kind_="chapters";bp.prototype.controlText_="Chapters";H.registerComponent("ChaptersButton",bp);var Ep=function(t){X(e,t);function e(i,n,a){var s;s=t.call(this,i,n,a)||this;var o=i.textTracks(),l=we(oe(s),s.handleTracksChange);return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var r=e.prototype;return r.handleTracksChange=function(n){for(var a=this.player().textTracks(),s=!1,o=0,l=a.length;o<l;o++){var u=a[o];if(u.kind!==this.kind_&&u.mode==="showing"){s=!0;break}}s?this.disable():this.enable()},r.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(ba);Ep.prototype.kind_="descriptions";Ep.prototype.controlText_="Descriptions";H.registerComponent("DescriptionsButton",Ep);var wp=function(t){X(e,t);function e(i,n,a){return t.call(this,i,n,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(ba);wp.prototype.kind_="subtitles";wp.prototype.controlText_="Subtitles";H.registerComponent("SubtitlesButton",wp);var Cp=function(t){X(e,t);function e(i,n){var a;return n.track={player:i,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",a=t.call(this,i,n)||this,a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+n.kind+" settings dialog"),a}var r=e.prototype;return r.handleClick=function(n){this.player().getChild("textTrackSettings").open()},e}(ho);H.registerComponent("CaptionSettingsMenuItem",Cp);var kp=function(t){X(e,t);function e(i,n,a){return t.call(this,i,n,a)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Cp(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,n)},e}(ba);kp.prototype.kind_="captions";kp.prototype.controlText_="Captions";H.registerComponent("CaptionsButton",kp);var hS=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(n,a,s){var o=t.prototype.createEl.call(this,n,a,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(ye("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(ye("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(ho);H.registerComponent("SubsCapsMenuItem",hS);var Pp=function(t){X(e,t);function e(i,n){var a;return n===void 0&&(n={}),a=t.call(this,i,n)||this,a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(Ve(a.label_)),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Cp(this.player_,{kind:this.label_})),this.hideThreshold_+=1),n=t.prototype.createItems.call(this,n,hS),n},e}(ba);Pp.prototype.kinds_=["captions","subtitles"];Pp.prototype.controlText_="Subtitles";H.registerComponent("SubsCapsButton",Pp);var pS=function(t){X(e,t);function e(i,n){var a,s=n.track,o=i.audioTracks();n.label=s.label||s.language||"Unknown",n.selected=s.enabled,a=t.call(this,i,n)||this,a.track=s,a.addClass("vjs-"+s.kind+"-menu-item");var l=function(){for(var d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];a.handleTracksChange.apply(oe(a),h)};return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var r=e.prototype;return r.createEl=function(n,a,s){var o=t.prototype.createEl.call(this,n,a,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),o},r.handleClick=function(n){t.prototype.handleClick.call(this,n),this.track.enabled=!0},r.handleTracksChange=function(n){this.selected(this.track.enabled)},e}(fo);H.registerComponent("AudioTrackMenuItem",pS);var mS=function(t){X(e,t);function e(i,n){return n===void 0&&(n={}),n.tracks=i.audioTracks(),t.call(this,i,n)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(n){n===void 0&&(n=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var o=a[s];n.push(new pS(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return n},e}(xp);mS.prototype.controlText_="Audio Track";H.registerComponent("AudioTrackButton",mS);var Ap=function(t){X(e,t);function e(i,n){var a,s=n.rate,o=parseFloat(s,10);return n.label=s,n.selected=o===i.playbackRate(),n.selectable=!0,n.multiSelectable=!1,a=t.call(this,i,n)||this,a.label=s,a.rate=o,a.on(i,"ratechange",function(l){return a.update(l)}),a}var r=e.prototype;return r.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},r.update=function(n){this.selected(this.player().playbackRate()===this.rate)},e}(fo);Ap.prototype.contentElType="button";H.registerComponent("PlaybackRateMenuItem",Ap);var gS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(i,"loadstart",function(s){return a.updateVisibility(s)}),a.on(i,"ratechange",function(s){return a.updateLabel(s)}),a.on(i,"playbackrateschange",function(s){return a.handlePlaybackRateschange(s)}),a}var r=e.prototype;return r.createEl=function(){var n=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ye("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),n.appendChild(this.labelEl_),n},r.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},r.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},r.createItems=function(){for(var n=this.playbackRates(),a=[],s=n.length-1;s>=0;s--)a.push(new Ap(this.player(),{rate:n[s]+"x"}));return a},r.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},r.handleClick=function(n){for(var a=this.player().playbackRate(),s=this.playbackRates(),o=s[0],l=0;l<s.length;l++)if(s[l]>a){o=s[l];break}this.player().playbackRate(o)},r.handlePlaybackRateschange=function(n){this.update()},r.playbackRates=function(){var n=this.player();return n.playbackRates&&n.playbackRates()||[]},r.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},r.updateVisibility=function(n){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},r.updateLabel=function(n){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Sp);gS.prototype.controlText_="Playback Rate";H.registerComponent("PlaybackRateMenuButton",gS);var vS=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},r.createEl=function(n,a,s){return n===void 0&&(n="div"),a===void 0&&(a={}),s===void 0&&(s={}),a.className||(a.className=this.buildCSSClass()),t.prototype.createEl.call(this,n,a,s)},e}(H);H.registerComponent("Spacer",vS);var uA=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(vS);H.registerComponent("CustomControlSpacer",uA);var lu=function(t){X(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(H);lu.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in $&&lu.prototype.options_.children.splice(lu.prototype.options_.children.length-1,0,"pictureInPictureToggle");H.registerComponent("ControlBar",lu);var yS=function(t){X(e,t);function e(i,n){var a;return a=t.call(this,i,n)||this,a.on(i,"error",function(s){return a.open(s)}),a}var r=e.prototype;return r.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},r.content=function(){var n=this.player().error();return n?this.localize(n.message):""},e}(Ta);yS.prototype.options_=Wt({},Ta.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});H.registerComponent("ErrorDisplay",yS);var oc="vjs-text-track-settings",Fv=["#000","Black"],Uv=["#00F","Blue"],Bv=["#0FF","Cyan"],jv=["#0F0","Green"],Vv=["#F0F","Magenta"],Hv=["#F00","Red"],zv=["#FFF","White"],Wv=["#FF0","Yellow"],lc=["1","Opaque"],uc=["0.5","Semi-Transparent"],$v=["0","Transparent"],Fn={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Fv,zv,Hv,jv,Uv,Wv,Vv,Bv]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[lc,uc,$v]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[zv,Fv,Hv,jv,Uv,Wv,Vv,Bv]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[lc,uc]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[$v,uc,lc]}};Fn.windowColor.options=Fn.backgroundColor.options;function _S(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function dA(t,e){var r=t.options[t.options.selectedIndex].value;return _S(r,e)}function cA(t,e,r){if(!!e){for(var i=0;i<t.options.length;i++)if(_S(t.options[i].value,r)===e){t.selectedIndex=i;break}}}var fA=function(t){X(e,t);function e(i,n){var a;return n.temporary=!1,a=t.call(this,i,n)||this,a.updateDisplay=a.updateDisplay.bind(oe(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=ye("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),n.persistTextTrackSettings===void 0&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),$i(Fn,function(s){a.on(a.$(s.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}var r=e.prototype;return r.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},r.createElSelect_=function(n,a,s){var o=this;a===void 0&&(a=""),s===void 0&&(s="label");var l=Fn[n],u=l.id.replace("%s",this.id_),d=[a,u].join(" ").trim();return["<"+s+' id="'+u+'" class="'+(s==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+s+">",'<select aria-labelledby="'+d+'">'].concat(l.options.map(function(h){var f=u+"-"+h[1].replace(/\W+/g,"");return['<option id="'+f+'" value="'+h[0]+'" ','aria-labelledby="'+d+" "+f+'">',o.localize(h[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return ye("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return ye("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var n=this.localize("restore all settings to the default values");return ye("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var n=this;return eP(Fn,function(a,s,o){var l=dA(n.$(s.selector),s.parser);return l!==void 0&&(a[o]=l),a},{})},r.setValues=function(n){var a=this;$i(Fn,function(s,o){cA(a.$(s.selector),n[o],s.parser)})},r.setDefaults=function(){var n=this;$i(Fn,function(a){var s=a.hasOwnProperty("default")?a.default:0;n.$(a.selector).selectedIndex=s})},r.restoreSettings=function(){var n;try{n=JSON.parse(L.localStorage.getItem(oc))}catch(a){ce.warn(a)}n&&this.setValues(n)},r.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?L.localStorage.setItem(oc,JSON.stringify(n)):L.localStorage.removeItem(oc)}catch(a){ce.warn(a)}}},r.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;var n=this.player_.controlBar,a=n&&n.subsCapsButton,s=n&&n.captionsButton;a?a.focus():s&&s.focus()},e}(Ta);H.registerComponent("TextTrackSettings",fA);var hA=function(t){X(e,t);function e(i,n){var a,s=n.ResizeObserver||L.ResizeObserver;n.ResizeObserver===null&&(s=!1);var o=Ae({createEl:!s,reportTouchActivity:!1},n);return a=t.call(this,i,o)||this,a.ResizeObserver=n.ResizeObserver||L.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=cP(function(){a.resizeHandler()},100,!1,oe(a)),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){if(!(!a.el_||!a.el_.contentWindow)){var l=a.debouncedHandler_,u=a.unloadListener_=function(){dt(this,"resize",l),dt(this,"unload",u),u=null};$t(a.el_.contentWindow,"unload",u),$t(a.el_.contentWindow,"resize",l)}},a.one("load",a.loadListener_)),a}var r=e.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},r.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(H);H.registerComponent("ResizeManager",hA);var pA={trackingThreshold:20,liveTolerance:15},mA=function(t){X(e,t);function e(i,n){var a,s=Ae(pA,n,{createEl:!1});return a=t.call(this,i,s)||this,a.handleVisibilityChange_=function(o){return a.handleVisibilityChange(o)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(o){return a.handlePlay(o)},a.handleFirstTimeupdate_=function(o){return a.handleFirstTimeupdate(o)},a.handleSeeked_=function(o){return a.handleSeeked(o)},a.seekToLiveEdge_=function(o){return a.seekToLiveEdge(o)},a.reset_(),a.on(a.player_,"durationchange",function(o){return a.handleDurationchange(o)}),a.one(a.player_,"canplay",function(){return a.toggleTracking()}),lo&&"hidden"in $&&"visibilityState"in $&&a.on($,"visibilitychange",a.handleVisibilityChange_),a}var r=e.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&($.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var n=this.player_.seekable();if(!(!n||!n.length)){var a=Number(L.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.toggleTracking()},r.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,dr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},r.handleSeeked=function(){var n=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&n>2,this.nextSeekedFromUser_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},r.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},r.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var n=this.player_.seekable(),a=[],s=n?n.length:0;s--;)a.push(n.end(s));return a.length?a.sort()[a.length-1]:1/0},r.seekableStart=function(){for(var n=this.player_.seekable(),a=[],s=n?n.length:0;s--;)a.push(n.start(s));return a.length?a.sort()[0]:0},r.liveWindow=function(){var n=this.liveCurrentTime();return n===1/0?0:n-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var n=this.seekableEnd();return this.lastSeekEnd_!==-1&&n!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=n,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return typeof this.trackingInterval_=="number"},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off($,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(H);H.registerComponent("LiveTracker",mA);var xf=function(e){var r=e.el();if(r.hasAttribute("src"))return e.triggerSourceset(r.src),!0;var i=e.$$("source"),n=[],a="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&n.indexOf(o)===-1&&n.push(o)}return n.length?(n.length===1&&(a=n[0]),e.triggerSourceset(a),!0):!1},gA=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var r=$.createElement(this.nodeName.toLowerCase());r.innerHTML=e;for(var i=$.createDocumentFragment();r.childNodes.length;)i.appendChild(r.childNodes[0]);return this.innerText="",L.Element.prototype.appendChild.call(this,i),this.innerHTML}}),TS=function(e,r){for(var i={},n=0;n<e.length&&(i=Object.getOwnPropertyDescriptor(e[n],r),!(i&&i.set&&i.get));n++);return i.enumerable=!0,i.configurable=!0,i},vA=function(e){return TS([e.el(),L.HTMLMediaElement.prototype,L.Element.prototype,gA],"innerHTML")},Gv=function(e){var r=e.el();if(!r.resetSourceWatch_){var i={},n=vA(e),a=function(o){return function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=o.apply(r,u);return xf(e),h}};["append","appendChild","insertAdjacentHTML"].forEach(function(s){!r[s]||(i[s]=r[s],r[s]=a(i[s]))}),Object.defineProperty(r,"innerHTML",Ae(n,{set:a(n.set)})),r.resetSourceWatch_=function(){r.resetSourceWatch_=null,Object.keys(i).forEach(function(s){r[s]=i[s]}),Object.defineProperty(r,"innerHTML",n)},e.one("sourceset",r.resetSourceWatch_)}},yA=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?qT(L.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return L.Element.prototype.setAttribute.call(this,"src",e),e}}),_A=function(e){return TS([e.el(),L.HTMLMediaElement.prototype,yA],"src")},TA=function(e){if(!!e.featuresSourceset){var r=e.el();if(!r.resetSourceset_){var i=_A(e),n=r.setAttribute,a=r.load;Object.defineProperty(r,"src",Ae(i,{set:function(o){var l=i.set.call(r,o);return e.triggerSourceset(r.src),l}})),r.setAttribute=function(s,o){var l=n.call(r,s,o);return/src/i.test(s)&&e.triggerSourceset(r.src),l},r.load=function(){var s=a.call(r);return xf(e)||(e.triggerSourceset(""),Gv(e)),s},r.currentSrc?e.triggerSourceset(r.currentSrc):xf(e)||Gv(e),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=a,r.setAttribute=n,Object.defineProperty(r,"src",i),r.resetSourceWatch_&&r.resetSourceWatch_()}}}},Ip=function(e,r,i,n){n===void 0&&(n=!0);var a=function(l){return Object.defineProperty(e,r,{value:l,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var l=i();return a(l),l}};return n&&(s.set=a),Object.defineProperty(e,r,s)},Q=function(t){X(e,t);function e(i,n){var a;a=t.call(this,i,n)||this;var s=i.source,o=!1;if(s&&(a.el_.currentSrc!==s.src||i.tag&&i.tag.initNetworkState_===3)?a.setSource(s):a.handleLateInit_(a.el_),i.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var l=a.el_.childNodes,u=l.length,d=[];u--;){var h=l[u],f=h.nodeName.toLowerCase();f==="track"&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(h),a.remoteTextTracks().addTrack(h.track),a.textTracks().addTrack(h.track),!o&&!a.el_.hasAttribute("crossorigin")&&Yu(h.src)&&(o=!0)):d.push(h))}for(var y=0;y<d.length;y++)a.el_.removeChild(d[y])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&ce.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),a.restoreMetadataTracksInIOSNativePlayer_(),(na||ap||TT)&&i.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}var r=e.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){TA(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var n=this.textTracks(),a,s=function(){a=[];for(var u=0;u<n.length;u++){var d=n[u];d.kind==="metadata"&&a.push({track:d,storedMode:d.mode})}};s(),n.addEventListener("change",s),this.on("dispose",function(){return n.removeEventListener("change",s)});var o=function l(){for(var u=0;u<a.length;u++){var d=a[u];d.track.mode==="disabled"&&d.track.mode!==d.storedMode&&(d.track.mode=d.storedMode)}n.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",s),n.removeEventListener("change",o),n.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",s),n.addEventListener("change",s),n.removeEventListener("change",o)})},r.overrideNative_=function(n,a){var s=this;if(a===this["featuresNative"+n+"Tracks"]){var o=n.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=s.el()[o+"Tracks"];u.removeEventListener(l,s[o+"TracksListeners_"][l])}),this["featuresNative"+n+"Tracks"]=!a,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},r.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},r.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},r.proxyNativeTracksForType_=function(n){var a=this,s=Zt[n],o=this.el()[s.getterName],l=this[s.getterName]();if(!(!this["featuresNative"+s.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(f){var y={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(y),n==="text"&&a[oa.remoteText.getterName]().trigger(y)},addtrack:function(f){l.addTrack(f.track)},removetrack:function(f){l.removeTrack(f.track)}},d=function(){for(var f=[],y=0;y<l.length;y++){for(var x=!1,S=0;S<o.length;S++)if(o[S]===l[y]){x=!0;break}x||f.push(l[y])}for(;f.length;)l.removeTrack(f.shift())};this[s.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(h){var f=u[h];o.addEventListener(h,f),a.on("dispose",function(y){return o.removeEventListener(h,f)})}),this.on("loadstart",d),this.on("dispose",function(h){return a.off("loadstart",d)})}},r.proxyNativeTracks_=function(){var n=this;Zt.names.forEach(function(a){n.proxyNativeTracksForType_(a)})},r.createEl=function(){var n=this.options_.tag;if(!n||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(n){var a=n.cloneNode(!0);n.parentNode&&n.parentNode.insertBefore(a,n),e.disposeMediaElement(n),n=a}else{n=$.createElement("video");var s=this.options_.tag&&Or(this.options_.tag),o=Ae({},s);(!na||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,PT(n,Ne(o,{id:this.options_.techId,class:"vjs-tech"}))}n.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&ia(n,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var d=l[u],h=this.options_[d];typeof h!="undefined"&&(h?ia(n,d,d):$u(n,d),n[d]=h)}return n},r.handleLateInit_=function(n){if(!(n.networkState===0||n.networkState===3)){if(n.readyState===0){var a=!1,s=function(){a=!0};this.on("loadstart",s);var o=function(){a||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",o),a||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),n.readyState>=2&&l.push("loadeddata"),n.readyState>=3&&l.push("canplay"),n.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},r.setScrubbing=function(n){this.isScrubbing_=n},r.scrubbing=function(){return this.isScrubbing_},r.setCurrentTime=function(n){try{this.isScrubbing_&&this.el_.fastSeek&&Wu?this.el_.fastSeek(n):this.el_.currentTime=n}catch(a){ce(a,"Video is not ready. (Video.js)")}},r.duration=function(){var n=this;if(this.el_.duration===1/0&&Kr&&Yr&&this.el_.currentTime===0){var a=function s(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",s))};return this.on("timeupdate",a),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var n=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},s=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",function(){n.off("webkitbeginfullscreen",s),n.off("webkitendfullscreen",a)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var n=L.navigator&&L.navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},r.enterFullScreen=function(){var n=this.el_;if(n.paused&&n.networkState<=n.HAVE_METADATA)Tr(this.el_.play()),this.setTimeout(function(){n.pause();try{n.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{n.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},r.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.src=function(n){if(n===void 0)return this.el_.src;this.setSrc(n)},r.reset=function(){e.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(n){this.el_.controls=!!n},r.addTextTrack=function(n,a,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,a,s):t.prototype.addTextTrack.call(this,n,a,s)},r.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var a=$.createElement("track");return n.kind&&(a.kind=n.kind),n.label&&(a.label=n.label),(n.language||n.srclang)&&(a.srclang=n.language||n.srclang),n.default&&(a.default=n.default),n.id&&(a.id=n.id),n.src&&(a.src=n.src),a},r.addRemoteTextTrack=function(n,a){var s=t.prototype.addRemoteTextTrack.call(this,n,a);return this.featuresNativeTextTracks&&this.el().appendChild(s),s},r.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var a=this.$$("track"),s=a.length;s--;)(n===a[s]||n===a[s].track)&&this.el().removeChild(a[s])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var n={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),L.performance&&typeof L.performance.now=="function"?n.creationTime=L.performance.now():L.performance&&L.performance.timing&&typeof L.performance.timing.navigationStart=="number"&&(n.creationTime=L.Date.now()-L.performance.timing.navigationStart),n},e}(Ce);Ip(Q,"TEST_VID",function(){if(!!va()){var t=$.createElement("video"),e=$.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});Q.isSupported=function(){try{Q.TEST_VID.volume=.5}catch{return!1}return!!(Q.TEST_VID&&Q.TEST_VID.canPlayType)};Q.canPlayType=function(t){return Q.TEST_VID.canPlayType(t)};Q.canPlaySource=function(t,e){return Q.canPlayType(t.type)};Q.canControlVolume=function(){try{var t=Q.TEST_VID.volume;return Q.TEST_VID.volume=t/2+.1,t!==Q.TEST_VID.volume}catch{return!1}};Q.canMuteVolume=function(){try{var t=Q.TEST_VID.muted;return Q.TEST_VID.muted=!t,Q.TEST_VID.muted?ia(Q.TEST_VID,"muted","muted"):$u(Q.TEST_VID,"muted","muted"),t!==Q.TEST_VID.muted}catch{return!1}};Q.canControlPlaybackRate=function(){if(Kr&&Yr&&xT<58)return!1;try{var t=Q.TEST_VID.playbackRate;return Q.TEST_VID.playbackRate=t/2+.1,t!==Q.TEST_VID.playbackRate}catch{return!1}};Q.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty($.createElement("video"),"src",{get:t,set:t}),Object.defineProperty($.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty($.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty($.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Q.supportsNativeTextTracks=function(){return Wu||Lt&&Yr};Q.supportsNativeVideoTracks=function(){return!!(Q.TEST_VID&&Q.TEST_VID.videoTracks)};Q.supportsNativeAudioTracks=function(){return!!(Q.TEST_VID&&Q.TEST_VID.audioTracks)};Q.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],r=t[1];Ip(Q.prototype,e,function(){return Q[r]()},!0)});Q.prototype.movingMediaElementInDOM=!Lt;Q.prototype.featuresFullscreenResize=!0;Q.prototype.featuresProgressEvents=!0;Q.prototype.featuresTimeupdateEvents=!0;var uu;Q.patchCanPlayType=function(){rp>=4&&!ST&&!Yr&&(uu=Q.TEST_VID&&Q.TEST_VID.constructor.prototype.canPlayType,Q.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":uu.call(this,t)})};Q.unpatchCanPlayType=function(){var t=Q.TEST_VID.constructor.prototype.canPlayType;return uu&&(Q.TEST_VID.constructor.prototype.canPlayType=uu),t};Q.patchCanPlayType();Q.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Q.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),r=e.length;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Q.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Q.prototype["set"+Ve(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Q.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Q.prototype["set"+Ve(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Q.prototype[t]=function(){return this.el_[t]()}});Ce.withSourceHandlers(Q);Q.nativeSourceHandler={};Q.nativeSourceHandler.canPlayType=function(t){try{return Q.TEST_VID.canPlayType(t)}catch{return""}};Q.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Q.nativeSourceHandler.canPlayType(t.type);if(t.src){var r=fp(t.src);return Q.nativeSourceHandler.canPlayType("video/"+r)}return""};Q.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)};Q.nativeSourceHandler.dispose=function(){};Q.registerSourceHandler(Q.nativeSourceHandler);Ce.registerTech("Html5",Q);var SS=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],dc={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},bf=["tiny","xsmall","small","medium","large","xlarge","huge"],Cl={};bf.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;Cl[t]="vjs-layout-"+e});var SA={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ze=function(t){X(e,t);function e(i,n,a){var s;if(i.id=i.id||n.id||"vjs_video_"+kn(),n=Ne(e.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if(typeof i.closest=="function"){var o=i.closest("[lang]");o&&o.getAttribute&&(n.language=o.getAttribute("lang"))}else for(var l=i;l&&l.nodeType===1;){if(Or(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}if(s=t.call(this,null,n,a)||this,s.boundDocumentFullscreenChange_=function(f){return s.documentFullscreenChange_(f)},s.boundFullWindowOnEscKey_=function(f){return s.fullWindowOnEscKey(f)},s.boundUpdateStyleEl_=function(f){return s.updateStyleEl_(f)},s.boundApplyInitTime_=function(f){return s.applyInitTime_(f)},s.boundUpdateCurrentBreakpoint_=function(f){return s.updateCurrentBreakpoint_(f)},s.boundHandleTechClick_=function(f){return s.handleTechClick_(f)},s.boundHandleTechDoubleClick_=function(f){return s.handleTechDoubleClick_(f)},s.boundHandleTechTouchStart_=function(f){return s.handleTechTouchStart_(f)},s.boundHandleTechTouchMove_=function(f){return s.handleTechTouchMove_(f)},s.boundHandleTechTouchEnd_=function(f){return s.handleTechTouchEnd_(f)},s.boundHandleTechTap_=function(f){return s.handleTechTap_(f)},s.isFullscreen_=!1,s.log=vT(s.id_),s.fsApi_=iu,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&Or(i),s.language(s.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach(function(f){u[f.toLowerCase()]=n.languages[f]}),s.languages_=u}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=n.poster||"",s.controls_=!!n.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(f){if(typeof s[f]!="function")throw new Error('plugin "'+f+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),up(oe(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&($t($,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.boundUpdateStyleEl_);var d=Ae(s.options_);n.plugins&&Object.keys(n.plugins).forEach(function(f){s[f](n.plugins[f])}),n.debug&&s.debug(!0),s.options_.playerOptions=d,s.middleware_=[],s.playbackRates(n.playbackRates),s.initChildren(),s.isAudio(i.nodeName.toLowerCase()==="audio"),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),na&&s.addClass("vjs-touch-enabled"),Lt||s.addClass("vjs-workinghover"),e.players[s.id_]=oe(s);var h=pT.split(".")[0];return s.addClass("vjs-v"+h),s.userActive(!0),s.reportUserActivity(),s.one("play",function(f){return s.listenForUserActivity_(f)}),s.on("stageclick",function(f){return s.handleStageClick_(f)}),s.on("keydown",function(f){return s.handleKeyDown(f)}),s.on("languagechange",function(f){return s.handleLanguagechange(f)}),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}var r=e.prototype;return r.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),dt($,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),dt($,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),VP(this),yt.names.forEach(function(a){var s=yt[a],o=n[s.getterName]();o&&o.off&&o.off()}),t.prototype.dispose.call(this)},r.createEl=function(){var n=this.tag,a,s=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";s?a=this.el_=n.parentNode:o||(a=this.el_=t.prototype.createEl.call(this,"div"));var l=Or(n);if(o){for(a=this.el_=n,n=this.tag=$.createElement("video");a.children.length;)n.appendChild(a.firstChild);qn(a,"video-js")||Vr(a,"video-js"),a.appendChild(n),s=this.playerElIngest_=a,Object.keys(a).forEach(function(x){try{n[x]=a[x]}catch{}})}if(n.setAttribute("tabindex","-1"),l.tabindex="-1",(lo||Yr&&bT)&&(n.setAttribute("role","application"),l.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(x){o&&x==="class"||a.setAttribute(x,l[x]),o&&n.setAttribute(x,l[x])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=a.player=this,this.addClass("vjs-paused"),L.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=UT("vjs-styles-dimensions");var u=xn(".vjs-styles-defaults"),d=xn("head");d.insertBefore(this.styleEl_,u?u.nextSibling:d.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var h=n.getElementsByTagName("a"),f=0;f<h.length;f++){var y=h.item(f);Vr(y,"vjs-hidden"),y.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!s&&n.parentNode.insertBefore(a,n),mf(n,a),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},r.crossOrigin=function(n){if(!n)return this.techGet_("crossOrigin");if(n!=="anonymous"&&n!=="use-credentials"){ce.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+n+'"');return}this.techCall_("setCrossOrigin",n)},r.width=function(n){return this.dimension("width",n)},r.height=function(n){return this.dimension("height",n)},r.dimension=function(n,a){var s=n+"_";if(a===void 0)return this[s]||0;if(a===""||a==="auto"){this[s]=void 0,this.updateStyleEl_();return}var o=parseFloat(a);if(isNaN(o)){ce.error('Improper value "'+a+'" supplied for for '+n);return}this[s]=o,this.updateStyleEl_()},r.fluid=function(n){var a=this;if(n===void 0)return!!this.fluid_;this.fluid_=!!n,Hr(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),n?(this.addClass("vjs-fluid"),this.fill(!1),fP(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},r.fill=function(n){if(n===void 0)return!!this.fill_;this.fill_=!!n,n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},r.aspectRatio=function(n){if(n===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n,this.fluid(!0),this.updateStyleEl_()},r.updateStyleEl_=function(){if(L.VIDEOJS_NO_DYNAMIC_STYLE===!0){var n=typeof this.width_=="number"?this.width_:this.options_.width,a=typeof this.height_=="number"?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(n>=0&&(s.width=n),a>=0&&(s.height=a));return}var o,l,u,d;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var h=u.split(":"),f=h[1]/h[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/f:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*f,/^[^a-zA-Z]/.test(this.id())?d="dimensions-"+this.id():d=this.id()+"-dimensions",this.addClass(d),BT(this.styleEl_,`
      .`+d+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+d+`.vjs-fluid {
        padding-top: `+f*100+`%;
      }
    `)},r.loadTech_=function(n,a){var s=this;this.tech_&&this.unloadTech_();var o=Ve(n),l=n.charAt(0).toLowerCase()+n.slice(1);o!=="Html5"&&this.tag&&(Ce.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var d={source:a,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};yt.names.forEach(function(f){var y=yt[f];d[y.getterName]=s[y.privateName]}),Ne(d,this.options_[o]),Ne(d,this.options_[l]),Ne(d,this.options_[n.toLowerCase()]),this.tag&&(d.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime);var h=Ce.getTech(n);if(!h)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new h(d),this.tech_.ready(we(this,this.handleTechReady_),!0),kv.jsonToTextTracks(this.textTracksJson_||[],this.tech_),SS.forEach(function(f){s.on(s.tech_,f,function(y){return s["handleTech"+Ve(f)+"_"](y)})}),Object.keys(dc).forEach(function(f){s.on(s.tech_,f,function(y){if(s.tech_.playbackRate()===0&&s.tech_.seeking()){s.queuedCallbacks_.push({callback:s["handleTech"+dc[f]+"_"].bind(s),event:y});return}s["handleTech"+dc[f]+"_"](y)})}),this.on(this.tech_,"loadstart",function(f){return s.handleTechLoadStart_(f)}),this.on(this.tech_,"sourceset",function(f){return s.handleTechSourceset_(f)}),this.on(this.tech_,"waiting",function(f){return s.handleTechWaiting_(f)}),this.on(this.tech_,"ended",function(f){return s.handleTechEnded_(f)}),this.on(this.tech_,"seeking",function(f){return s.handleTechSeeking_(f)}),this.on(this.tech_,"play",function(f){return s.handleTechPlay_(f)}),this.on(this.tech_,"firstplay",function(f){return s.handleTechFirstPlay_(f)}),this.on(this.tech_,"pause",function(f){return s.handleTechPause_(f)}),this.on(this.tech_,"durationchange",function(f){return s.handleTechDurationChange_(f)}),this.on(this.tech_,"fullscreenchange",function(f,y){return s.handleTechFullscreenChange_(f,y)}),this.on(this.tech_,"fullscreenerror",function(f,y){return s.handleTechFullscreenError_(f,y)}),this.on(this.tech_,"enterpictureinpicture",function(f){return s.handleTechEnterPictureInPicture_(f)}),this.on(this.tech_,"leavepictureinpicture",function(f){return s.handleTechLeavePictureInPicture_(f)}),this.on(this.tech_,"error",function(f){return s.handleTechError_(f)}),this.on(this.tech_,"posterchange",function(f){return s.handleTechPosterChange_(f)}),this.on(this.tech_,"textdata",function(f){return s.handleTechTextData_(f)}),this.on(this.tech_,"ratechange",function(f){return s.handleTechRateChange_(f)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&mf(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},r.unloadTech_=function(){var n=this;yt.names.forEach(function(a){var s=yt[a];n[s.privateName]=n[s.getterName]()}),this.textTracksJson_=kv.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},r.tech=function(n){return n===void 0&&ce.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},r.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},r.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},r.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},r.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},r.manualAutoplay_=function(n){var a=this;if(!(!this.tech_||typeof n!="string")){var s=function(){var u=a.muted();a.muted(!0);var d=function(){a.muted(u)};a.playTerminatedQueue_.push(d);var h=a.play();if(!!Ts(h))return h.catch(function(f){throw d(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(f||""))})},o;if(n==="any"&&!this.muted()?(o=this.play(),Ts(o)&&(o=o.catch(s))):n==="muted"&&!this.muted()?o=s():o=this.play(),!!Ts(o))return o.then(function(){a.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:n})})}},r.updateSourceCaches_=function(n){n===void 0&&(n="");var a=n,s="";typeof a!="string"&&(a=n.src,s=n.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=WP(this,a)),this.cache_.source=Ae({},n,{src:a,type:s});for(var o=this.cache_.sources.filter(function(y){return y.src&&y.src===a}),l=[],u=this.$$("source"),d=[],h=0;h<u.length;h++){var f=Or(u[h]);l.push(f),f.src&&f.src===a&&d.push(f.src)}d.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},r.handleTechSourceset_=function(n){var a=this;if(!this.changingSrc_){var s=function(d){return a.updateSourceCaches_(d)},o=this.currentSource().src,l=n.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(s=function(){}),s(l),n.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var d=a.techGet("currentSrc");a.lastSource_.tech=d,a.updateSourceCaches_(d)}})}this.lastSource_={player:this.currentSource().src,tech:n.src},this.trigger({src:n.src,type:"sourceset"})},r.hasStarted=function(n){if(n===void 0)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},r.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},r.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},r.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime(),s=function o(){a!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",o))};this.on("timeupdate",s)},r.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},r.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},r.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},r.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},r.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},r.handleTechFirstPlay_=function(){this.options_.starttime&&(ce.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},r.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},r.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},r.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},r.handleTechClick_=function(n){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,n):this.paused()?Tr(this.play()):this.pause())},r.handleTechDoubleClick_=function(n){if(!!this.controls_){var a=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(s){return s.contains(n.target)});a||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,n):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},r.handleTechTap_=function(){this.userActive(!this.userActive())},r.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},r.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},r.handleTechTouchEnd_=function(n){n.cancelable&&n.preventDefault()},r.handleStageClick_=function(){this.reportUserActivity()},r.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},r.documentFullscreenChange_=function(n){var a=n.target.player;if(!(a&&a!==this)){var s=this.el(),o=$[this.fsApi_.fullscreenElement]===s;!o&&s.matches?o=s.matches(":"+this.fsApi_.fullscreen):!o&&s.msMatchesSelector&&(o=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},r.handleTechFullscreenChange_=function(n,a){a&&(a.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(a.isFullscreen))},r.handleTechFullscreenError_=function(n,a){this.trigger("fullscreenerror",a)},r.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},r.handleTechEnterPictureInPicture_=function(n){this.isInPictureInPicture(!0)},r.handleTechLeavePictureInPicture_=function(n){this.isInPictureInPicture(!1)},r.handleTechError_=function(){var n=this.tech_.error();this.error(n)},r.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]),this.trigger("textdata",n)},r.getCache=function(){return this.cache_},r.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},r.techCall_=function(n,a){this.ready(function(){if(n in BP)return FP(this.middleware_,this.tech_,n,a);if(n in Dv)return Ov(this.middleware_,this.tech_,n,a);try{this.tech_&&this.tech_[n](a)}catch(s){throw ce(s),s}},!0)},r.techGet_=function(n){if(!(!this.tech_||!this.tech_.isReady_)){if(n in UP)return NP(this.middleware_,this.tech_,n);if(n in Dv)return Ov(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(a){throw this.tech_[n]===void 0?(ce("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",a),a):a.name==="TypeError"?(ce("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(ce(a),a)}}},r.play=function(){var n=this,a=this.options_.Promise||L.Promise;return a?new a(function(s){n.play_(s)}):this.play_()},r.play_=function(n){var a=this;n===void 0&&(n=Tr),this.playCallbacks_.push(n);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s){this.waitToPlay_=function(l){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!s&&(Wu||Lt)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},r.runPlayTerminatedQueue_=function(){var n=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],n.forEach(function(a){a()})},r.runPlayCallbacks_=function(n){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(s){s(n)})},r.pause=function(){this.techCall_("pause")},r.paused=function(){return this.techGet_("paused")!==!1},r.played=function(){return this.techGet_("played")||Xn(0,0)},r.scrubbing=function(n){if(typeof n=="undefined")return this.scrubbing_;this.scrubbing_=!!n,this.techCall_("setScrubbing",this.scrubbing_),n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},r.currentTime=function(n){if(typeof n!="undefined"){if(n<0&&(n=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=n,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",n),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},r.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},r.duration=function(n){if(n===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;n=parseFloat(n),n<0&&(n=1/0),n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(n)||this.trigger("durationchange"))},r.remainingTime=function(){return this.duration()-this.currentTime()},r.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},r.buffered=function(){var n=this.techGet_("buffered");return(!n||!n.length)&&(n=Xn(0,0)),n},r.bufferedPercent=function(){return $T(this.buffered(),this.duration())},r.bufferedEnd=function(){var n=this.buffered(),a=this.duration(),s=n.end(n.length-1);return s>a&&(s=a),s},r.volume=function(n){var a;if(n!==void 0){a=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=a,this.techCall_("setVolume",a),a>0&&this.lastVolume_(a);return}return a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a},r.muted=function(n){if(n!==void 0){this.techCall_("setMuted",n);return}return this.techGet_("muted")||!1},r.defaultMuted=function(n){return n!==void 0?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},r.lastVolume_=function(n){if(n!==void 0&&n!==0){this.cache_.lastVolume=n;return}return this.cache_.lastVolume},r.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},r.isFullscreen=function(n){if(n!==void 0){var a=this.isFullscreen_;this.isFullscreen_=Boolean(n),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},r.requestFullscreen=function(n){var a=this.options_.Promise||L.Promise;if(a){var s=this;return new a(function(o,l){function u(){s.off("fullscreenerror",h),s.off("fullscreenchange",d)}function d(){u(),o()}function h(y,x){u(),l(x)}s.one("fullscreenchange",d),s.one("fullscreenerror",h);var f=s.requestFullscreenHelper_(n);f&&(f.then(u,u),f.then(o,l))})}return this.requestFullscreenHelper_()},r.requestFullscreenHelper_=function(n){var a=this,s;if(this.fsApi_.prefixed||(s=this.options_.fullscreen&&this.options_.fullscreen.options||{},n!==void 0&&(s=n)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](s);return o&&o.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},r.exitFullscreen=function(){var n=this.options_.Promise||L.Promise;if(n){var a=this;return new n(function(s,o){function l(){a.off("fullscreenerror",d),a.off("fullscreenchange",u)}function u(){l(),s()}function d(f,y){l(),o(y)}a.one("fullscreenchange",u),a.one("fullscreenerror",d);var h=a.exitFullscreenHelper_();h&&(h.then(l,l),h.then(s,o))})}return this.exitFullscreenHelper_()},r.exitFullscreenHelper_=function(){var n=this;if(this.fsApi_.requestFullscreen){var a=$[this.fsApi_.exitFullscreen]();return a&&Tr(a.then(function(){return n.isFullscreen(!1)})),a}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},r.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=$.documentElement.style.overflow,$t($,"keydown",this.boundFullWindowOnEscKey_),$.documentElement.style.overflow="hidden",Vr($.body,"vjs-full-window"),this.trigger("enterFullWindow")},r.fullWindowOnEscKey=function(n){ue.isEventKey(n,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},r.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,dt($,"keydown",this.boundFullWindowOnEscKey_),$.documentElement.style.overflow=this.docOrigOverflow,uo($.body,"vjs-full-window"),this.trigger("exitFullWindow")},r.disablePictureInPicture=function(n){if(n===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",n),this.options_.disablePictureInPicture=n,this.trigger("disablepictureinpicturechanged")},r.isInPictureInPicture=function(n){if(n!==void 0){this.isInPictureInPicture_=!!n,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},r.requestPictureInPicture=function(){if("pictureInPictureEnabled"in $&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},r.exitPictureInPicture=function(){if("pictureInPictureEnabled"in $)return $.exitPictureInPicture()},r.handleKeyDown=function(n){var a=this.options_.userActions;if(!(!a||!a.hotkeys)){var s=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var d=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return d.indexOf(l.type)===-1;var h=["textarea"];return h.indexOf(u)!==-1};s(this.el_.ownerDocument.activeElement)||(typeof a.hotkeys=="function"?a.hotkeys.call(this,n):this.handleHotkeys(n))}},r.handleHotkeys=function(n){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,o=s===void 0?function(S){return ue.isEventKey(S,"f")}:s,l=a.muteKey,u=l===void 0?function(S){return ue.isEventKey(S,"m")}:l,d=a.playPauseKey,h=d===void 0?function(S){return ue.isEventKey(S,"k")||ue.isEventKey(S,"Space")}:d;if(o.call(this,n)){n.preventDefault(),n.stopPropagation();var f=H.getComponent("FullscreenToggle");$[this.fsApi_.fullscreenEnabled]!==!1&&f.prototype.handleClick.call(this,n)}else if(u.call(this,n)){n.preventDefault(),n.stopPropagation();var y=H.getComponent("MuteToggle");y.prototype.handleClick.call(this,n)}else if(h.call(this,n)){n.preventDefault(),n.stopPropagation();var x=H.getComponent("PlayToggle");x.prototype.handleClick.call(this,n)}},r.canPlayType=function(n){for(var a,s=0,o=this.options_.techOrder;s<o.length;s++){var l=o[s],u=Ce.getTech(l);if(u||(u=H.getComponent(l)),!u){ce.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(a=u.canPlayType(n),a))return a}return""},r.selectSource=function(n){var a=this,s=this.options_.techOrder.map(function(h){return[h,Ce.getTech(h)]}).filter(function(h){var f=h[0],y=h[1];return y?y.isSupported():(ce.error('The "'+f+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(f,y,x){var S;return f.some(function(v){return y.some(function(_){if(S=x(v,_),S)return!0})}),S},l,u=function(f){return function(y,x){return f(x,y)}},d=function(f,y){var x=f[0],S=f[1];if(S.canPlaySource(y,a.options_[x.toLowerCase()]))return{source:y,tech:x}};return this.options_.sourceOrder?l=o(n,s,u(d)):l=o(s,n,d),l||!1},r.handleSrc_=function(n,a){var s=this;if(typeof n=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=$P(n);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,a||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),MP(this,o[0],function(d,h){s.middleware_=h,a||(s.cache_.sources=o),s.updateSourceCaches_(d);var f=s.src_(d);if(f){if(o.length>1)return s.handleSrc_(o.slice(1));s.changingSrc_=!1,s.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),s.triggerReady();return}RP(h,s.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){s.error(null),s.handleSrc_(o.slice(1),!0)},u=function(){s.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){s.off("error",l),s.off("playing",u)}}},r.src=function(n){return this.handleSrc_(n,!1)},r.src_=function(n){var a=this,s=this.selectSource([n]);return s?mP(s.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1):!0},r.load=function(){this.techCall_("load")},r.reset=function(){var n=this,a=this.options_.Promise||L.Promise;if(this.paused()||!a)this.doReset_();else{var s=this.play();Tr(s.then(function(){return n.doReset_()}))}},r.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Hr(this)&&this.trigger("playerreset")},r.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},r.resetProgressBar_=function(){this.currentTime(0);var n=this.controlBar,a=n.durationDisplay,s=n.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},r.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},r.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},r.currentSources=function(){var n=this.currentSource(),a=[];return Object.keys(n).length!==0&&a.push(n),this.cache_.sources||a},r.currentSource=function(){return this.cache_.source||{}},r.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},r.currentType=function(){return this.currentSource()&&this.currentSource().type||""},r.preload=function(n){if(n!==void 0){this.techCall_("setPreload",n),this.options_.preload=n;return}return this.techGet_("preload")},r.autoplay=function(n){if(n===void 0)return this.options_.autoplay||!1;var a;typeof n=="string"&&/(any|play|muted)/.test(n)||n===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=n,this.manualAutoplay_(typeof n=="string"?n:"play"),a=!1):n?this.options_.autoplay=!0:this.options_.autoplay=!1,a=typeof a=="undefined"?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},r.playsinline=function(n){return n!==void 0?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},r.loop=function(n){if(n!==void 0){this.techCall_("setLoop",n),this.options_.loop=n;return}return this.techGet_("loop")},r.poster=function(n){if(n===void 0)return this.poster_;n||(n=""),n!==this.poster_&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},r.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},r.controls=function(n){if(n===void 0)return!!this.controls_;n=!!n,this.controls_!==n&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},r.usingNativeControls=function(n){if(n===void 0)return!!this.usingNativeControls_;n=!!n,this.usingNativeControls_!==n&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},r.error=function(n){var a=this;if(n===void 0)return this.error_||null;if(Sn("beforeerror").forEach(function(o){var l=o(a,n);if(!(Gr(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){a.log.error("please return a value that MediaError expects in beforeerror hooks");return}n=l}),this.options_.suppressNotSupportedError&&n&&n.code===4){var s=function(){this.error(n)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),this.one("loadstart",function(){this.off(["click","touchstart"],s)});return}if(n===null){this.error_=n,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new xt(n),this.addClass("vjs-error"),ce.error("(CODE:"+this.error_.code+" "+xt.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Sn("error").forEach(function(o){return o(a,a.error_)})},r.reportUserActivity=function(n){this.userActivity_=!0},r.userActive=function(n){if(n===void 0)return this.userActive_;if(n=!!n,n!==this.userActive_){if(this.userActive_=n,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},r.listenForUserActivity_=function(){var n,a,s,o=we(this,this.reportUserActivity),l=function(x){(x.screenX!==a||x.screenY!==s)&&(a=x.screenX,s=x.screenY,o())},u=function(){o(),this.clearInterval(n),n=this.setInterval(o,250)},d=function(x){o(),this.clearInterval(n)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",d),this.on("mouseleave",d);var h=this.getChild("controlBar");h&&!Lt&&!Kr&&(h.on("mouseenter",function(y){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),h.on("mouseleave",function(y){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var f;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(f);var y=this.options_.inactivityTimeout;y<=0||(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},y))}},250)},r.playbackRate=function(n){if(n!==void 0){this.techCall_("setPlaybackRate",n);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},r.defaultPlaybackRate=function(n){return n!==void 0?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},r.isAudio=function(n){if(n!==void 0){this.isAudio_=!!n;return}return!!this.isAudio_},r.addTextTrack=function(n,a,s){if(this.tech_)return this.tech_.addTextTrack(n,a,s)},r.addRemoteTextTrack=function(n,a){if(this.tech_)return this.tech_.addRemoteTextTrack(n,a)},r.removeRemoteTextTrack=function(n){n===void 0&&(n={});var a=n,s=a.track;if(s||(s=n),this.tech_)return this.tech_.removeRemoteTextTrack(s)},r.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},r.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},r.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},r.language=function(n){if(n===void 0)return this.language_;this.language_!==String(n).toLowerCase()&&(this.language_=String(n).toLowerCase(),Hr(this)&&this.trigger("languagechange"))},r.languages=function(){return Ae(e.prototype.options_.languages,this.languages_)},r.toJSON=function(){var n=Ae(this.options_),a=n.tracks;n.tracks=[];for(var s=0;s<a.length;s++){var o=a[s];o=Ae(o),o.player=void 0,n.tracks[s]=o}return n},r.createModal=function(n,a){var s=this;a=a||{},a.content=n||"";var o=new Ta(this,a);return this.addChild(o),o.on("dispose",function(){s.removeChild(o)}),o.open(),o},r.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var n=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<bf.length;s++){var o=bf[s],l=this.breakpoints_[o];if(a<=l){if(n===o)return;n&&this.removeClass(Cl[n]),this.addClass(Cl[o]),this.breakpoint_=o;break}}},r.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="",n&&this.removeClass(n)},r.breakpoints=function(n){return n===void 0?Ne(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Ne({},SA,n),this.updateCurrentBreakpoint_(),Ne(this.breakpoints_))},r.responsive=function(n){if(n===void 0)return this.responsive_;n=Boolean(n);var a=this.responsive_;if(n!==a)return this.responsive_=n,n?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),n},r.currentBreakpoint=function(){return this.breakpoint_},r.currentBreakpointClass=function(){return Cl[this.breakpoint_]||""},r.loadMedia=function(n,a){var s=this;if(!(!n||typeof n!="object")){this.reset(),this.cache_.media=Ae(n);var o=this.cache_.media,l=o.artwork,u=o.poster,d=o.src,h=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:ou(u)}]),d&&this.src(d),u&&this.poster(u),Array.isArray(h)&&h.forEach(function(f){return s.addRemoteTextTrack(f,!1)}),this.ready(a)}},r.getMedia=function(){if(!this.cache_.media){var n=this.poster(),a=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:a,textTracks:s};return n&&(o.poster=n,o.artwork=[{src:o.poster,type:ou(o.poster)}]),o}return Ae(this.cache_.media)},e.getTagSettings=function(n){var a={sources:[],tracks:[]},s=Or(n),o=s["data-setup"];if(qn(n,"vjs-fill")&&(s.fill=!0),qn(n,"vjs-fluid")&&(s.fluid=!0),o!==null){var l=vC(o||"{}"),u=l[0],d=l[1];u&&ce.error(u),Ne(s,d)}if(Ne(a,s),n.hasChildNodes())for(var h=n.childNodes,f=0,y=h.length;f<y;f++){var x=h[f],S=x.nodeName.toLowerCase();S==="source"?a.sources.push(Or(x)):S==="track"&&a.tracks.push(Or(x))}return a},r.flexNotSupported_=function(){var n=$.createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},r.debug=function(n){if(n===void 0)return this.debugEnabled_;n?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},r.playbackRates=function(n){if(n===void 0)return this.cache_.playbackRates;!Array.isArray(n)||!n.every(function(a){return typeof a=="number"})||(this.cache_.playbackRates=n,this.trigger("playbackrateschange"))},e}(H);yt.names.forEach(function(t){var e=yt[t];ze.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});ze.prototype.crossorigin=ze.prototype.crossOrigin;ze.players={};var Xa=L.navigator;ze.prototype.options_={techOrder:Ce.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Xa&&(Xa.languages&&Xa.languages[0]||Xa.userLanguage||Xa.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){ze.prototype[t]=function(){return this.techGet_(t)}});SS.forEach(function(t){ze.prototype["handleTech"+Ve(t)+"_"]=function(){return this.trigger(t)}});H.registerComponent("Player",ze);var du="plugin",Gi="activePlugins_",Oi={},cu=function(e){return Oi.hasOwnProperty(e)},kl=function(e){return cu(e)?Oi[e]:void 0},xS=function(e,r){e[Gi]=e[Gi]||{},e[Gi][r]=!0},fu=function(e,r,i){var n=(i?"before":"")+"pluginsetup";e.trigger(n,r),e.trigger(n+":"+r.name,r)},xA=function(e,r){var i=function(){fu(this,{name:e,plugin:r,instance:null},!0);var a=r.apply(this,arguments);return xS(this,e),fu(this,{name:e,plugin:r,instance:a}),a};return Object.keys(r).forEach(function(n){i[n]=r[n]}),i},qv=function(e,r){return r.prototype.name=e,function(){fu(this,{name:e,plugin:r,instance:null},!0);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var s=xl(r,[this].concat(n));return this[e]=function(){return s},fu(this,s.getEventHash()),s}},Cr=function(){function t(r){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=r,this.log||(this.log=this.player.log.createLogger(this.name)),up(this),delete this.trigger,WT(this,this.constructor.defaultState),xS(r,this.name),this.dispose=this.dispose.bind(this),r.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(i){return i===void 0&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},e.trigger=function(i,n){return n===void 0&&(n={}),_a(this.eventBusEl_,i,this.getEventHash(n))},e.handleStateChanged=function(i){},e.dispose=function(){var i=this.name,n=this.player;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Gi][i]=!1,this.player=this.state=null,n[i]=qv(i,Oi[i])},t.isBasic=function(i){var n=typeof i=="string"?kl(i):i;return typeof n=="function"&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(i,n){if(typeof i!="string")throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(cu(i))ce.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(ze.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if(typeof n!="function")throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof n+".");return Oi[i]=n,i!==du&&(t.isBasic(n)?ze.prototype[i]=xA(i,n):ze.prototype[i]=qv(i,n)),n},t.deregisterPlugin=function(i){if(i===du)throw new Error("Cannot de-register base plugin.");cu(i)&&(delete Oi[i],delete ze.prototype[i])},t.getPlugins=function(i){i===void 0&&(i=Object.keys(Oi));var n;return i.forEach(function(a){var s=kl(a);s&&(n=n||{},n[a]=s)}),n},t.getPluginVersion=function(i){var n=kl(i);return n&&n.VERSION||""},t}();Cr.getPlugin=kl;Cr.BASE_PLUGIN_NAME=du;Cr.registerPlugin(du,Cr);ze.prototype.usingPlugin=function(t){return!!this[Gi]&&this[Gi][t]===!0};ze.prototype.hasPlugin=function(t){return!!cu(t)};var bA=function(e,r){r===void 0&&(r={});var i=function(){e.apply(this,arguments)},n={};typeof r=="object"?(r.constructor!==Object.prototype.constructor&&(i=r.constructor),n=r):typeof r=="function"&&(i=r),a1(i,e),e&&(i.super_=e);for(var a in n)n.hasOwnProperty(a)&&(i.prototype[a]=n[a]);return i},bS=function(e){return e.indexOf("#")===0?e.slice(1):e};function U(t,e,r){var i=U.getPlayer(t);if(i)return e&&ce.warn('Player "'+t+'" is already initialised. Options will not be applied.'),r&&i.ready(r),i;var n=typeof t=="string"?xn("#"+bS(t)):t;if(!ya(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!n.ownerDocument.defaultView||!n.ownerDocument.body.contains(n))&&ce.warn("The element supplied is not included in the DOM"),e=e||{},Sn("beforesetup").forEach(function(s){var o=s(n,Ae(e));if(!Gr(o)||Array.isArray(o)){ce.error("please return an object in beforesetup hooks");return}e=Ae(e,o)});var a=H.getComponent("Player");return i=new a(n,e,r),Sn("setup").forEach(function(s){return s(i)}),i}U.hooks_=Rr;U.hooks=Sn;U.hook=Yk;U.hookOnce=Qk;U.removeHook=mT;if(L.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&va()){var il=xn(".vjs-styles-defaults");if(!il){il=UT("vjs-styles-defaults");var cc=xn("head");cc&&cc.insertBefore(il,cc.firstChild),BT(il,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}vf(1,U);U.VERSION=pT;U.options=ze.prototype.options_;U.getPlayers=function(){return ze.players};U.getPlayer=function(t){var e=ze.players,r;if(typeof t=="string"){var i=bS(t),n=e[i];if(n)return n;r=xn("#"+i)}else r=t;if(ya(r)){var a=r,s=a.player,o=a.playerId;if(s||e[o])return s||e[o]}};U.getAllPlayers=function(){return Object.keys(ze.players).map(function(t){return ze.players[t]}).filter(Boolean)};U.players=ze.players;U.getComponent=H.getComponent;U.registerComponent=function(t,e){Ce.isTech(e)&&ce.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),H.registerComponent.call(H,t,e)};U.getTech=Ce.getTech;U.registerTech=Ce.registerTech;U.use=DP;Object.defineProperty(U,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(U.middleware,"TERMINATOR",{value:su,writeable:!1,enumerable:!0});U.browser=nP;U.TOUCH_ENABLED=na;U.extend=bA;U.mergeOptions=Ae;U.bind=we;U.registerPlugin=Cr.registerPlugin;U.deregisterPlugin=Cr.deregisterPlugin;U.plugin=function(t,e){return ce.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Cr.registerPlugin(t,e)};U.getPlugins=Cr.getPlugins;U.getPlugin=Cr.getPlugin;U.getPluginVersion=Cr.getPluginVersion;U.addLanguage=function(t,e){var r;return t=(""+t).toLowerCase(),U.options.languages=Ae(U.options.languages,(r={},r[t]=e,r)),U.options.languages[t]};U.log=ce;U.createLogger=vT;U.createTimeRange=U.createTimeRanges=Xn;U.formatTime=la;U.setFormatTime=ZP;U.resetFormatTime=JP;U.parseUrl=cp;U.isCrossOrigin=Yu;U.EventTarget=Qe;U.on=$t;U.one=Xu;U.off=dt;U.trigger=_a;U.xhr=E_;U.TextTrack=co;U.AudioTrack=XT;U.VideoTrack=KT;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){U[t]=function(){return ce.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),NT[t].apply(null,arguments)}});U.computedStyle=$s;U.dom=NT;U.url=AP;U.defineLazyProperty=Ip;U.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.12.0 @license Apache-2.0 */var sr=Fu,hu=function(e,r,i){return e&&i&&i.responseURL&&r!==i.responseURL?i.responseURL:r},cr=function(e){return U.log.debug?U.log.debug.bind(U,"VHS:",e+" >"):function(){}},bn=1/30,Sr=bn*3,ES=function(e,r){var i=[],n;if(e&&e.length)for(n=0;n<e.length;n++)r(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return U.createTimeRanges(i)},Di=function(e,r){return ES(e,function(i,n){return i-Sr<=r&&n+Sr>=r})},al=function(e,r){return ES(e,function(i){return i-bn>=r})},EA=function(e){if(e.length<2)return U.createTimeRanges();for(var r=[],i=1;i<e.length;i++){var n=e.end(i-1),a=e.start(i);r.push([n,a])}return U.createTimeRanges(r)},wA=function(e,r){var i=null,n=null,a=0,s=[],o=[];if(!e||!e.length||!r||!r.length)return U.createTimeRange();for(var l=e.length;l--;)s.push({time:e.start(l),type:"start"}),s.push({time:e.end(l),type:"end"});for(l=r.length;l--;)s.push({time:r.start(l),type:"start"}),s.push({time:r.end(l),type:"end"});for(s.sort(function(u,d){return u.time-d.time}),l=0;l<s.length;l++)s[l].type==="start"?(a++,a===2&&(i=s[l].time)):s[l].type==="end"&&(a--,a===1&&(n=s[l].time)),i!==null&&n!==null&&(o.push([i,n]),i=null,n=null);return U.createTimeRanges(o)},wS=function(e){var r=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)r.push(e.start(i)+" => "+e.end(i));return r.join(", ")},CA=function(e,r,i){i===void 0&&(i=1);var n=e.length?e.end(e.length-1):0;return(n-r)/i},zn=function(e){for(var r=[],i=0;i<e.length;i++)r.push({start:e.start(i),end:e.end(i)});return r},kA=function(e,r){if(e===r)return!1;if(!e&&r||!r&&e||e.length!==r.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==r.start(i)||e.end(i)!==r.end(i))return!0;return!1},Xv=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},Lp=function(e,r){var i=0;if(!e||!e.length)return i;for(var n=0;n<e.length;n++){var a=e.start(n),s=e.end(n);if(!(r>s)){if(r>a&&r<=s){i+=s-r;continue}i+=s-a}}return i},Kv=U.createTimeRange,Op=function(e,r){if(!r.preload)return r.duration;var i=0;return(r.parts||[]).forEach(function(n){i+=n.duration}),(r.preloadHints||[]).forEach(function(n){n.type==="PART"&&(i+=e.partTargetDuration)}),i},Ef=function(e){return(e.segments||[]).reduce(function(r,i,n){return i.parts?i.parts.forEach(function(a,s){r.push({duration:a.duration,segmentIndex:n,partIndex:s,part:a,segment:i})}):r.push({duration:i.duration,segmentIndex:n,partIndex:null,segment:i,part:null}),r},[])},CS=function(e){var r=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return r&&r.parts||[]},kS=function(e){var r=e.preloadSegment;if(!!r){var i=r.parts,n=r.preloadHints,a=(n||[]).reduce(function(s,o){return s+(o.type==="PART"?1:0)},0);return a+=i&&i.length?i.length:0,a}},PS=function(e,r){if(r.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var i=CS(r).length>0;return i&&r.serverControl&&r.serverControl.partHoldBack?r.serverControl.partHoldBack:i&&r.partTargetDuration?r.partTargetDuration*3:r.serverControl&&r.serverControl.holdBack?r.serverControl.holdBack:r.targetDuration?r.targetDuration*3:0},PA=function(e,r){var i=0,n=r-e.mediaSequence,a=e.segments[n];if(a){if(typeof a.start!="undefined")return{result:a.start,precise:!0};if(typeof a.end!="undefined")return{result:a.end-a.duration,precise:!0}}for(;n--;){if(a=e.segments[n],typeof a.end!="undefined")return{result:i+a.end,precise:!0};if(i+=Op(e,a),typeof a.start!="undefined")return{result:i+a.start,precise:!0}}return{result:i,precise:!1}},AA=function(e,r){for(var i=0,n,a=r-e.mediaSequence;a<e.segments.length;a++){if(n=e.segments[a],typeof n.start!="undefined")return{result:n.start-i,precise:!0};if(i+=Op(e,n),typeof n.end!="undefined")return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},AS=function(e,r,i){if(typeof r=="undefined"&&(r=e.mediaSequence+e.segments.length),r<e.mediaSequence)return 0;var n=PA(e,r);if(n.precise)return n.result;var a=AA(e,r);return a.precise?a.result:n.result+i},IS=function(e,r,i){if(!e)return 0;if(typeof i!="number"&&(i=0),typeof r=="undefined"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return L.Infinity}return AS(e,r,i)},Ss=function(e){var r=e.defaultDuration,i=e.durationList,n=e.startIndex,a=e.endIndex,s=0;if(n>a){var o=[a,n];n=o[0],a=o[1]}if(n<0){for(var l=n;l<Math.min(0,a);l++)s+=r;n=0}for(var u=n;u<a;u++)s+=i[u].duration;return s},LS=function(e,r,i,n){if(!e||!e.segments)return null;if(e.endList)return IS(e);if(r===null)return null;r=r||0;var a=AS(e,e.mediaSequence+e.segments.length,r);return i&&(n=typeof n=="number"?n:PS(null,e),a-=n),Math.max(0,a)},IA=function(e,r,i){var n=!0,a=r||0,s=LS(e,r,n,i);return s===null?Kv():Kv(a,s)},LA=function(e){for(var r=e.playlist,i=e.currentTime,n=e.startingSegmentIndex,a=e.startingPartIndex,s=e.startTime,o=e.experimentalExactManifestTimings,l=i-s,u=Ef(r),d=0,h=0;h<u.length;h++){var f=u[h];if(n===f.segmentIndex&&!(typeof a=="number"&&typeof f.partIndex=="number"&&a!==f.partIndex)){d=h;break}}if(l<0){if(d>0)for(var y=d-1;y>=0;y--){var x=u[y];if(l+=x.duration,o){if(l<0)continue}else if(l+bn<=0)continue;return{partIndex:x.partIndex,segmentIndex:x.segmentIndex,startTime:s-Ss({defaultDuration:r.targetDuration,durationList:u,startIndex:d,endIndex:y})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i}}if(d<0){for(var S=d;S<0;S++)if(l-=r.targetDuration,l<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:i};d=0}for(var v=d;v<u.length;v++){var _=u[v];if(l-=_.duration,o){if(l>0)continue}else if(l-bn>=0)continue;return{partIndex:_.partIndex,segmentIndex:_.segmentIndex,startTime:s+Ss({defaultDuration:r.targetDuration,durationList:u,startIndex:d,endIndex:v})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:i}},OS=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Dp=function(e){return e.excludeUntil&&e.excludeUntil===1/0},ed=function(e){var r=OS(e);return!e.disabled&&!r},OA=function(e){return e.disabled},DA=function(e){for(var r=0;r<e.segments.length;r++)if(e.segments[r].key)return!0;return!1},DS=function(e,r){return r.attributes&&r.attributes[e]},MA=function(e,r,i,n){if(n===void 0&&(n=0),!DS("BANDWIDTH",i))return NaN;var a=e*i.attributes.BANDWIDTH;return(a-n*8)/r},wf=function(e,r){if(e.playlists.length===1)return!0;var i=r.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(n){return ed(n)?(n.attributes.BANDWIDTH||0)<i:!1}).length===0},Mp=function(e,r){return!e&&!r||!e&&r||e&&!r?!1:!!(e===r||e.id&&r.id&&e.id===r.id||e.resolvedUri&&r.resolvedUri&&e.resolvedUri===r.resolvedUri||e.uri&&r.uri&&e.uri===r.uri)},Yv=function(e,r){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},n=!1;for(var a in i){for(var s in i[a])if(n=r(i[a][s]),n)break;if(n)break}return!!n},po=function(e){if(!e||!e.playlists||!e.playlists.length){var r=Yv(e,function(s){return s.playlists&&s.playlists.length||s.uri});return r}for(var i=function(o){var l=e.playlists[o],u=l.attributes&&l.attributes.CODECS;if(u&&u.split(",").every(function(h){return L_(h)}))return"continue";var d=Yv(e,function(h){return Mp(l,h)});return d?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var a=i(n);if(a!=="continue"&&typeof a=="object")return a.v}return!0},Pt={liveEdgeDelay:PS,duration:IS,seekable:IA,getMediaInfoForTime:LA,isEnabled:ed,isDisabled:OA,isBlacklisted:OS,isIncompatible:Dp,playlistEnd:LS,isAes:DA,hasAttribute:DS,estimateSegmentRequestTime:MA,isLowestEnabledRendition:wf,isAudioOnly:po,playlistMatch:Mp,segmentDurationWithParts:Op},MS=U.log,Rp=function(e,r){return e+"-"+r},RA=function(e){var r=e.onwarn,i=e.oninfo,n=e.manifestString,a=e.customTagParsers,s=a===void 0?[]:a,o=e.customTagMappers,l=o===void 0?[]:o,u=e.experimentalLLHLS,d=new f1;r&&d.on("warn",r),i&&d.on("info",i),s.forEach(function(S){return d.addParser(S)}),l.forEach(function(S){return d.addTagMapper(S)}),d.push(n),d.end();var h=d.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(S){h.hasOwnProperty(S)&&delete h[S]}),h.segments&&h.segments.forEach(function(S){["parts","preloadHints"].forEach(function(v){S.hasOwnProperty(v)&&delete S[v]})})),!h.targetDuration){var f=10;h.segments&&h.segments.length&&(f=h.segments.reduce(function(S,v){return Math.max(S,v.duration)},0)),r&&r("manifest has no targetDuration defaulting to "+f),h.targetDuration=f}var y=CS(h);if(y.length&&!h.partTargetDuration){var x=y.reduce(function(S,v){return Math.max(S,v.duration)},0);r&&(r("manifest has no partTargetDuration defaulting to "+x),MS.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),h.partTargetDuration=x}return h},mo=function(e,r){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(!!e.mediaGroups[i])for(var n in e.mediaGroups[i])for(var a in e.mediaGroups[i][n]){var s=e.mediaGroups[i][n][a];r(s,i,n,a)}})},RS=function(e){var r=e.playlist,i=e.uri,n=e.id;r.id=n,r.playlistErrors_=0,i&&(r.uri=i),r.attributes=r.attributes||{}},NA=function(e){for(var r=e.playlists.length;r--;){var i=e.playlists[r];RS({playlist:i,id:Rp(r,i.uri)}),i.resolvedUri=sr(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||MS.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},FA=function(e){mo(e,function(r){r.uri&&(r.resolvedUri=sr(e.uri,r.uri))})},UA=function(e,r){var i=Rp(0,r),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:L.location.href,resolvedUri:L.location.href,playlists:[{uri:r,id:i,resolvedUri:r,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[r]=n.playlists[0],n},NS=function(e,r){e.uri=r;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var n="placeholder-uri-"+i;e.playlists[i].uri=n}var a=po(e);mo(e,function(s,o,l,u){var d="placeholder-uri-"+o+"-"+l+"-"+u;if(!s.playlists||!s.playlists.length){if(a&&o==="AUDIO"&&!s.uri)for(var h=0;h<e.playlists.length;h++){var f=e.playlists[h];if(f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===l)return}s.playlists=[Wt({},s)]}s.playlists.forEach(function(y,x){var S=Rp(x,d);y.uri?y.resolvedUri=y.resolvedUri||sr(e.uri,y.uri):(y.uri=x===0?d:S,y.resolvedUri=y.uri),y.id=y.id||S,y.attributes=y.attributes||{},e.playlists[y.id]=y,e.playlists[y.uri]=y})}),NA(e),FA(e)},pu=U.mergeOptions,BA=U.EventTarget,jA=function(e,r){if(r.endList||!r.serverControl)return e;var i={};if(r.serverControl.canBlockReload){var n=r.preloadSegment,a=r.mediaSequence+r.segments.length;if(n){var s=n.parts||[],o=kS(r)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&a--}i._HLS_msn=a}if(r.serverControl&&r.serverControl.canSkipUntil&&(i._HLS_skip=r.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var l=new L.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(u){!i.hasOwnProperty(u)||l.searchParams.set(u,i[u])}),e=l.toString()}return e},VA=function(e,r){if(!e)return r;var i=pu(e,r);if(e.preloadHints&&!r.preloadHints&&delete i.preloadHints,e.parts&&!r.parts)delete i.parts;else if(e.parts&&r.parts)for(var n=0;n<r.parts.length;n++)e.parts&&e.parts[n]&&(i.parts[n]=pu(e.parts[n],r.parts[n]));return!e.skipped&&r.skipped&&(i.skipped=!1),e.preload&&!r.preload&&(i.preload=!1),i},HA=function(e,r,i){var n=e.slice(),a=r.slice();i=i||0;for(var s=[],o,l=0;l<a.length;l++){var u=n[l+i],d=a[l];u?(o=u.map||o,s.push(VA(u,d))):(o&&!d.map&&(d.map=o),s.push(d))}return s},FS=function(e,r){!e.resolvedUri&&e.uri&&(e.resolvedUri=sr(r,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=sr(r,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=sr(r,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=sr(r,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=sr(r,i.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=sr(r,i.uri))})},US=function(e){var r=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(var n=0;n<i.preloadHints.length;n++)if(i.preloadHints[n].type==="MAP")return r}i.duration=e.targetDuration,i.preload=!0,r.push(i)}return r},BS=function(e,r){return e===r||e.segments&&r.segments&&e.segments.length===r.segments.length&&e.endList===r.endList&&e.mediaSequence===r.mediaSequence&&e.preloadSegment===r.preloadSegment},Cf=function(e,r,i){i===void 0&&(i=BS);var n=pu(e,{}),a=n.playlists[r.id];if(!a||i(a,r))return null;r.segments=US(r);var s=pu(a,r);if(s.preloadSegment&&!r.preloadSegment&&delete s.preloadSegment,a.segments){if(r.skip){r.segments=r.segments||[];for(var o=0;o<r.skip.skippedSegments;o++)r.segments.unshift({skipped:!0})}s.segments=HA(a.segments,r.segments,r.mediaSequence-a.mediaSequence)}s.segments.forEach(function(u){FS(u,s.resolvedUri)});for(var l=0;l<n.playlists.length;l++)n.playlists[l].id===r.id&&(n.playlists[l]=s);return n.playlists[r.id]=s,n.playlists[r.uri]=s,mo(e,function(u,d,h,f){if(!!u.playlists)for(var y=0;y<u.playlists.length;y++)r.id===u.playlists[y].id&&(u.playlists[y]=r)}),n},kf=function(e,r){var i=e.segments||[],n=i[i.length-1],a=n&&n.parts&&n.parts[n.parts.length-1],s=a&&a.duration||n&&n.duration;return r&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Mi=function(t){X(e,t);function e(i,n,a){var s;if(a===void 0&&(a={}),s=t.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");s.logger_=cr("PlaylistLoader");var o=a,l=o.withCredentials,u=l===void 0?!1:l,d=o.handleManifestRedirects,h=d===void 0?!1:d;s.src=i,s.vhs_=n,s.withCredentials=u,s.handleManifestRedirects=h;var f=n.options_;return s.customTagParsers=f&&f.customTagParsers||[],s.customTagMappers=f&&f.customTagMappers||[],s.experimentalLLHLS=f&&f.experimentalLLHLS||!1,U.browser.IE_VERSION&&(s.experimentalLLHLS=!1),s.state="HAVE_NOTHING",s.handleMediaupdatetimeout_=s.handleMediaupdatetimeout_.bind(oe(s)),s.on("mediaupdatetimeout",s.handleMediaupdatetimeout_),s}var r=e.prototype;return r.handleMediaupdatetimeout_=function(){var n=this;if(this.state==="HAVE_METADATA"){var a=this.media(),s=sr(this.master.uri,a.uri);this.experimentalLLHLS&&(s=jA(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},function(o,l){if(!!n.request){if(o)return n.playlistRequestError(n.request,n.media(),"HAVE_METADATA");n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}})}},r.playlistRequestError=function(n,a,s){var o=a.uri,l=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[l],status:n.status,message:"HLS playlist request error at URL: "+o+".",responseText:n.responseText,code:n.status>=500?4:2},this.trigger("error")},r.parseManifest_=function(n){var a=this,s=n.url,o=n.manifestString;return RA({onwarn:function(u){var d=u.message;return a.logger_("m3u8-parser warn for "+s+": "+d)},oninfo:function(u){var d=u.message;return a.logger_("m3u8-parser info for "+s+": "+d)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},r.haveMetadata=function(n){var a=n.playlistString,s=n.playlistObject,o=n.url,l=n.id;this.request=null,this.state="HAVE_METADATA";var u=s||this.parseManifest_({url:o,manifestString:a});u.lastRequest=Date.now(),RS({playlist:u,uri:o,id:l});var d=Cf(this.master,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,d?(this.master=d,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(kf(this.media(),!!d)),this.trigger("loadedplaylist")},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),L.clearTimeout(this.mediaUpdateTimeout),L.clearTimeout(this.finalRenditionTimeout),this.off()},r.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},r.media=function(n,a){var s=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof n=="string"){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(L.clearTimeout(this.finalRenditionTimeout),a){var o=(n.partTargetDuration||n.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=L.setTimeout(this.media.bind(this,n,!1),o);return}var l=this.state,u=!this.media_||n.id!==this.media_.id,d=this.master.playlists[n.id];if(d&&d.endList||n.endList&&n.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,u&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(kf(n,!0)),!!u){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=n,this.request=this.vhs_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(h,f){if(!!s.request){if(n.lastRequest=Date.now(),n.resolvedUri=hu(s.handleManifestRedirects,n.resolvedUri,f),h)return s.playlistRequestError(s.request,n,l);s.haveMetadata({playlistString:f.responseText,url:n.uri,id:n.id}),l==="HAVE_MASTER"?s.trigger("loadedmetadata"):s.trigger("mediachange")}})}},r.pause=function(){this.mediaUpdateTimeout&&(L.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},r.load=function(n){var a=this;this.mediaUpdateTimeout&&(L.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(n){var o=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=L.setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},r.updateMediaUpdateTimeout_=function(n){var a=this;this.mediaUpdateTimeout&&(L.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=L.setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(n)},n))},r.start=function(){var n=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=L.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){n.setupInitialPlaylist(n.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,s){if(!!n.request){if(n.request=null,a)return n.error={status:s.status,message:"HLS playlist request error at URL: "+n.src+".",responseText:s.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");n.src=hu(n.handleManifestRedirects,n.src,s);var o=n.parseManifest_({manifestString:s.responseText,url:n.src});n.setupInitialPlaylist(o)}})},r.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},r.setupInitialPlaylist=function(n){if(this.state="HAVE_MASTER",n.playlists){this.master=n,NS(this.master,this.srcUri()),n.playlists.forEach(function(s){s.segments=US(s),s.segments.forEach(function(o){FS(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var a=this.srcUri()||L.location.href;this.master=UA(n,a),this.haveMetadata({playlistObject:n,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(BA),zA=U.xhr,WA=U.mergeOptions,Pf=function(e,r,i,n){var a=e.responseType==="arraybuffer"?e.response:e.responseText;!r&&a&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=a.byteLength||a.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),r&&r.code==="ETIMEDOUT"&&(e.timedout=!0),!r&&!e.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(r=new Error("XHR Failed with a response of: "+(e&&(a||e.responseText)))),n(r,e)},jS=function(){var e=function r(i,n){i=WA({timeout:45e3},i);var a=r.beforeRequest||U.Vhs.xhr.beforeRequest;if(a&&typeof a=="function"){var s=a(i);s&&(i=s)}var o=U.Vhs.xhr.original===!0?zA:U.Vhs.xhr,l=o(i,function(d,h){return Pf(l,d,h,n)}),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=i.uri,l.requestTime=Date.now(),l};return e.original=!0,e},$A=function(e){var r=e.offset+e.length-1,i=e.offset;return"bytes="+i+"-"+r},Af=function(e){var r={};return e.byterange&&(r.Range=$A(e.byterange)),r},GA=function(e,r){return e.start(r)+"-"+e.end(r)},qA=function(e,r){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(r%2?" ":"")},XA=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},VS=function(e){var r={};return Object.keys(e).forEach(function(i){var n=e[i];ArrayBuffer.isView(n)?r[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:r[i]=n}),r},mu=function(e){var r=e.byterange||{length:1/0,offset:0};return[r.length,r.offset,e.resolvedUri].join(",")},HS=function(e){return e.resolvedUri},zS=function(e){for(var r=Array.prototype.slice.call(e),i=16,n="",a,s,o=0;o<r.length/i;o++)a=r.slice(o*i,o*i+i).map(qA).join(""),s=r.slice(o*i,o*i+i).map(XA).join(""),n+=a+" "+s+`
`;return n},KA=function(e){var r=e.bytes;return zS(r)},YA=function(e){var r="",i;for(i=0;i<e.length;i++)r+=GA(e,i)+" ";return r},QA=Object.freeze({__proto__:null,createTransferableMessage:VS,initSegmentId:mu,segmentKeyId:HS,hexDump:zS,tagDump:KA,textRanges:YA}),WS=.25,ZA=function(e,r){if(!r.dateTimeObject)return null;var i=r.videoTimingInfo.transmuxerPrependedSeconds,n=r.videoTimingInfo.transmuxedPresentationStart,a=n+i,s=e-a;return new Date(r.dateTimeObject.getTime()+s*1e3)},JA=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},eI=function(e,r){var i;try{i=new Date(e)}catch{return null}if(!r||!r.segments||r.segments.length===0)return null;var n=r.segments[0];if(i<n.dateTimeObject)return null;for(var a=0;a<r.segments.length-1;a++){n=r.segments[a];var s=r.segments[a+1].dateTimeObject;if(i<s)break}var o=r.segments[r.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?JA(o.videoTimingInfo):o.duration+o.duration*WS,d=new Date(l.getTime()+u*1e3);return i>d?null:(i>l&&(n=o),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Pt.duration(r,r.mediaSequence+r.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},tI=function(e,r){if(!r||!r.segments||r.segments.length===0)return null;for(var i=0,n,a=0;a<r.segments.length&&(n=r.segments[a],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(e<=i));a++);var s=r.segments[r.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+s.duration*WS)return null;n=s}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},rI=function(e,r){var i,n;try{i=new Date(e),n=new Date(r)}catch{}var a=i.getTime(),s=n.getTime();return(s-a)/1e3},nI=function(e){if(!e.segments||e.segments.length===0)return!1;for(var r=0;r<e.segments.length;r++){var i=e.segments[r];if(!i.dateTimeObject)return!1}return!0},iI=function(e){var r=e.playlist,i=e.time,n=i===void 0?void 0:i,a=e.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!r||n===void 0)return a({message:"getProgramTime: playlist and time must be provided"});var s=tI(n,r);if(!s)return a({message:"valid programTime was not found"});if(s.type==="estimate")return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var o={mediaSeconds:n},l=ZA(n,s.segment);return l&&(o.programDateTime=l.toISOString()),a(null,o)},aI=function t(e){var r=e.programTime,i=e.playlist,n=e.retryCount,a=n===void 0?2:n,s=e.seekTo,o=e.pauseAfterSeek,l=o===void 0?!0:o,u=e.tech,d=e.callback;if(!d)throw new Error("seekToProgramTime: callback must be provided");if(typeof r=="undefined"||!i||!s)return d({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!u.hasStarted_)return d({message:"player must be playing a live stream to start buffering"});if(!nI(i))return d({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var h=eI(r,i);if(!h)return d({message:r+" was not found in the stream"});var f=h.segment,y=rI(f.dateTimeObject,r);if(h.type==="estimate"){if(a===0)return d({message:r+" is not buffered yet. Try again"});s(h.estimatedStart+y),u.one("seeked",function(){t({programTime:r,playlist:i,retryCount:a-1,seekTo:s,pauseAfterSeek:l,tech:u,callback:d})});return}var x=f.start+y,S=function(){return d(null,u.currentTime())};u.one("seeked",S),l&&u.pause(),s(x)},fc=function(e,r){if(e.readyState===4)return r()},sI=function(e,r,i){var n=[],a,s=!1,o=function(f,y,x,S){return y.abort(),s=!0,i(f,y,x,S)},l=function(f,y){if(!s){if(f)return o(f,y,"",n);var x=y.responseText.substring(n&&n.byteLength||0,y.responseText.length);if(n=Mk(n,uT(x,!0)),a=a||is(n),n.length<10||a&&n.length<a+2)return fc(y,function(){return o(f,y,"",n)});var S=Qh(n);return S==="ts"&&n.length<188?fc(y,function(){return o(f,y,"",n)}):!S&&n.length<376?fc(y,function(){return o(f,y,"",n)}):o(null,y,S,n)}},u={uri:e,beforeSend:function(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function(y){return y.total,y.loaded,Pf(f,null,{statusCode:f.status},l)})}},d=r(u,function(h,f){return Pf(d,h,f,l)});return d},oI=U.EventTarget,$S=U.mergeOptions,Qv=function(e,r){if(!BS(e,r)||e.sidx&&r.sidx&&(e.sidx.offset!==r.sidx.offset||e.sidx.length!==r.sidx.length))return!1;if(!e.sidx&&r.sidx||e.sidx&&!r.sidx||e.segments&&!r.segments||!e.segments&&r.segments)return!1;if(!e.segments&&!r.segments)return!0;for(var i=0;i<e.segments.length;i++){var n=e.segments[i],a=r.segments[i];if(n.uri!==a.uri)return!1;if(!(!n.byterange&&!a.byterange)){var s=n.byterange,o=a.byterange;if(s&&!o||!s&&o||s.offset!==o.offset||s.length!==o.length)return!1}}return!0},lI=function(e){var r=e.masterXml,i=e.srcUrl,n=e.clientOffset,a=e.sidxMapping,s=wk(r,{manifestUri:i,clientOffset:n,sidxMapping:a});return NS(s,i),s},uI=function(e,r,i){for(var n=!0,a=$S(e,{duration:r.duration,minimumUpdatePeriod:r.minimumUpdatePeriod}),s=0;s<r.playlists.length;s++){var o=r.playlists[s];if(o.sidx){var l=Vu(o.sidx);i&&i[l]&&i[l].sidx&&qh(o,i[l].sidx,o.sidx.resolvedUri)}var u=Cf(a,o,Qv);u&&(a=u,n=!1)}return mo(r,function(d,h,f,y){if(d.playlists&&d.playlists.length){var x=d.playlists[0].id,S=Cf(a,d.playlists[0],Qv);S&&(a=S,a.mediaGroups[h][f][y].playlists[0]=a.playlists[x],n=!1)}}),r.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:a},dI=function(e,r){var i=Boolean(!e.map&&!r.map),n=i||Boolean(e.map&&r.map&&e.map.byterange.offset===r.map.byterange.offset&&e.map.byterange.length===r.map.byterange.length);return n&&e.uri===r.uri&&e.byterange.offset===r.byterange.offset&&e.byterange.length===r.byterange.length},Zv=function(e,r){var i={};for(var n in e){var a=e[n],s=a.sidx;if(s){var o=Vu(s);if(!r[o])break;var l=r[o].sidxInfo;dI(l,s)&&(i[o]=r[o])}}return i},cI=function(e,r){var i=Zv(e.playlists,r),n=i;return mo(e,function(a,s,o,l){if(a.playlists&&a.playlists.length){var u=a.playlists;n=$S(n,Zv(u,r))}}),n},If=function(t){X(e,t);function e(i,n,a,s){var o;a===void 0&&(a={}),o=t.call(this)||this,o.masterPlaylistLoader_=s||oe(o),s||(o.isMaster_=!0);var l=a,u=l.withCredentials,d=u===void 0?!1:u,h=l.handleManifestRedirects,f=h===void 0?!1:h;if(o.vhs_=n,o.withCredentials=d,o.handleManifestRedirects=f,!i)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=cr("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=i,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=i,o}var r=e.prototype;return r.requestErrored_=function(n,a,s){if(!this.request)return!0;if(this.request=null,n)return this.error=typeof n=="object"&&!(n instanceof Error)?n:{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2},s&&(this.state=s),this.trigger("error"),!0},r.addSidxSegments_=function(n,a,s){var o=this,l=n.sidx&&Vu(n.sidx);if(!n.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=L.setTimeout(function(){return s(!1)},0);return}var u=hu(this.handleManifestRedirects,n.sidx.resolvedUri),d=function(f,y){if(!o.requestErrored_(f,y,a)){var x=o.masterPlaylistLoader_.sidxMapping_,S;try{S=Pk(ne(y.response).subarray(8))}catch(v){o.requestErrored_(v,y,a);return}return x[l]={sidxInfo:n.sidx,sidx:S},qh(n,S,n.sidx.resolvedUri),s(!0)}};this.request=sI(u,this.vhs_.xhr,function(h,f,y,x){if(h)return d(h,f);if(!y||y!=="mp4")return d({status:f.status,message:"Unsupported "+(y||"unknown")+" container type for sidx segment at URL: "+u,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},f);var S=n.sidx.byterange,v=S.offset,_=S.length;if(x.length>=_+v)return d(h,{response:x.subarray(v,v+_),status:f.status,uri:f.uri});o.request=o.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:Af({byterange:n.sidx.byterange})},d)})},r.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},L.clearTimeout(this.minimumUpdatePeriodTimeout_),L.clearTimeout(this.mediaRequest_),L.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},r.hasPendingRequest=function(){return this.request||this.mediaRequest_},r.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},r.media=function(n){var a=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if(typeof n=="string"){if(!this.masterPlaylistLoader_.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.masterPlaylistLoader_.master.playlists[n]}var o=!this.media_||n.id!==this.media_.id;if(o&&this.loadedPlaylists_[n.id]&&this.loadedPlaylists_[n.id].endList){this.state="HAVE_METADATA",this.media_=n,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!o||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(n,s,function(l){a.haveMetadata({startingState:s,playlist:n})}))},r.haveMetadata=function(n){var a=n.startingState,s=n.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),a==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},r.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),L.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(L.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},r.load=function(n){var a=this;L.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(n){var o=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=L.setTimeout(function(){return a.load()},o);return}if(!this.started){this.start();return}s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},r.start=function(){var n=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=L.setTimeout(function(){return n.haveMaster_()},0);return}this.requestMaster_(function(a,s){n.haveMaster_(),!n.hasPendingRequest()&&!n.media_&&n.media(n.masterPlaylistLoader_.master.playlists[0])})},r.requestMaster_=function(n){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(s,o){if(a.requestErrored_(s,o)){a.state==="HAVE_NOTHING"&&(a.started=!1);return}var l=o.responseText!==a.masterPlaylistLoader_.masterXml_;if(a.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?a.masterLoaded_=Date.parse(o.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=hu(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,o),l){a.handleMaster_(),a.syncClientServerClock_(function(){return n(o,l)});return}return n(o,l)})},r.syncClientServerClock_=function(n){var a=this,s=Ck(this.masterPlaylistLoader_.masterXml_);if(s===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),n();if(s.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),n();this.request=this.vhs_.xhr({uri:sr(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},function(o,l){if(!!a.request){if(o)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),n();var u;s.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?u=a.masterLoaded_:u=Date.parse(l.responseHeaders.date):u=Date.parse(l.responseText),a.masterPlaylistLoader_.clientOffset_=u-Date.now(),n()}})},r.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},r.handleMaster_=function(){this.mediaRequest_=null;var n=lI({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),a=this.masterPlaylistLoader_.master;a&&(n=uI(a,n,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=n||a;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!a||n&&n.minimumUpdatePeriod!==a.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(n)},r.updateMinimumUpdatePeriodTimeout_=function(){var n=this.masterPlaylistLoader_;n.createMupOnMedia_&&(n.off("loadedmetadata",n.createMupOnMedia_),n.createMupOnMedia_=null),n.minimumUpdatePeriodTimeout_&&(L.clearTimeout(n.minimumUpdatePeriodTimeout_),n.minimumUpdatePeriodTimeout_=null);var a=n.master&&n.master.minimumUpdatePeriod;if(a===0&&(n.media()?a=n.media().targetDuration*1e3:(n.createMupOnMedia_=n.updateMinimumUpdatePeriodTimeout_,n.one("loadedmetadata",n.createMupOnMedia_))),typeof a!="number"||a<=0){a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout");return}this.createMUPTimeout_(a)},r.createMUPTimeout_=function(n){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=L.setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(n)},n)},r.refreshXml_=function(){var n=this;this.requestMaster_(function(a,s){!s||(n.media_&&(n.media_=n.masterPlaylistLoader_.master.playlists[n.media_.id]),n.masterPlaylistLoader_.sidxMapping_=cI(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.sidxMapping_),n.addSidxSegments_(n.media(),n.state,function(o){n.refreshMedia_(n.media().id)}))})},r.refreshMedia_=function(n){var a=this;if(!n)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==s[n];if(o?this.media_=s[n]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function u(){a.media().endList||(a.mediaUpdateTimeout=L.setTimeout(function(){a.trigger("mediaupdatetimeout"),u()},kf(a.media(),Boolean(o))))};l()}this.trigger("loadedplaylist")},e}(oI),qe={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},fI=function(e){for(var r=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r.buffer},GS=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},hI=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var r=new BlobBuilder;return r.append(e),URL.createObjectURL(r.getBlob())}},qS=function(e){return function(){var r=hI(e),i=GS(new Worker(r));i.objURL=r;var n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(r),n.call(this)},i}},XS=function(e){return"var browserWorkerPolyFill = "+GS.toString()+`;
browserWorkerPolyFill(self);
`+e},KS=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},pI=XS(KS(function(){var t=function(){this.init=function(){var c={};this.on=function(m,p){c[m]||(c[m]=[]),c[m]=c[m].concat(p)},this.off=function(m,p){var g;return c[m]?(g=c[m].indexOf(p),c[m]=c[m].slice(),c[m].splice(g,1),g>-1):!1},this.trigger=function(m){var p,g,T,b;if(p=c[m],!!p)if(arguments.length===2)for(T=p.length,g=0;g<T;++g)p[g].call(this,arguments[1]);else{for(b=[],g=arguments.length,g=1;g<arguments.length;++g)b.push(arguments[g]);for(T=p.length,g=0;g<T;++g)p[g].apply(this,b)}},this.dispose=function(){c={}}}};t.prototype.pipe=function(w){return this.on("data",function(c){w.push(c)}),this.on("done",function(c){w.flush(c)}),this.on("partialdone",function(c){w.partialFlush(c)}),this.on("endedtimeline",function(c){w.endTimeline(c)}),this.on("reset",function(c){w.reset(c)}),w},t.prototype.push=function(w){this.trigger("data",w)},t.prototype.flush=function(w){this.trigger("done",w)},t.prototype.partialFlush=function(w){this.trigger("partialdone",w)},t.prototype.endTimeline=function(w){this.trigger("endedtimeline",w)},t.prototype.reset=function(w){this.trigger("reset",w)};var e=t,r=Math.pow(2,32)-1,i,n,a,s,o,l,u,d,h,f,y,x,S,v,_,E,C,P,M,D,j,N,F,B,z,K,J,pe,se,de,fe,he,Le,me,q,re;(function(){var w;if(F={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(w in F)F.hasOwnProperty(w)&&(F[w]=[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]);B=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),K=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),z=new Uint8Array([0,0,0,1]),J=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),pe=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),se={video:J,audio:pe},he=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),fe=new Uint8Array([0,0,0,0,0,0,0,0]),Le=new Uint8Array([0,0,0,0,0,0,0,0]),me=Le,q=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),re=Le,de=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),i=function(c){var m=[],p=0,g,T,b;for(g=1;g<arguments.length;g++)m.push(arguments[g]);for(g=m.length;g--;)p+=m[g].byteLength;for(T=new Uint8Array(p+8),b=new DataView(T.buffer,T.byteOffset,T.byteLength),b.setUint32(0,T.byteLength),T.set(c,4),g=0,p=8;g<m.length;g++)T.set(m[g],p),p+=m[g].byteLength;return T},n=function(){return i(F.dinf,i(F.dref,he))},a=function(c){return i(F.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,c.audioobjecttype<<3|c.samplingfrequencyindex>>>1,c.samplingfrequencyindex<<7|c.channelcount<<3,6,1,2]))},s=function(){return i(F.ftyp,B,z,B,K)},E=function(c){return i(F.hdlr,se[c])},o=function(c){return i(F.mdat,c)},_=function(c){var m=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,c.duration>>>24&255,c.duration>>>16&255,c.duration>>>8&255,c.duration&255,85,196,0,0]);return c.samplerate&&(m[12]=c.samplerate>>>24&255,m[13]=c.samplerate>>>16&255,m[14]=c.samplerate>>>8&255,m[15]=c.samplerate&255),i(F.mdhd,m)},v=function(c){return i(F.mdia,_(c),E(c.type),u(c))},l=function(c){return i(F.mfhd,new Uint8Array([0,0,0,0,(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255]))},u=function(c){return i(F.minf,c.type==="video"?i(F.vmhd,de):i(F.smhd,fe),n(),P(c))},d=function(c,m){for(var p=[],g=m.length;g--;)p[g]=D(m[g]);return i.apply(null,[F.moof,l(c)].concat(p))},h=function(c){for(var m=c.length,p=[];m--;)p[m]=x(c[m]);return i.apply(null,[F.moov,y(4294967295)].concat(p).concat(f(c)))},f=function(c){for(var m=c.length,p=[];m--;)p[m]=j(c[m]);return i.apply(null,[F.mvex].concat(p))},y=function(c){var m=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(F.mvhd,m)},C=function(c){var m=c.samples||[],p=new Uint8Array(4+m.length),g,T;for(T=0;T<m.length;T++)g=m[T].flags,p[T+4]=g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy;return i(F.sdtp,p)},P=function(c){return i(F.stbl,M(c),i(F.stts,re),i(F.stsc,me),i(F.stsz,q),i(F.stco,Le))},function(){var w,c;M=function(p){return i(F.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),p.type==="video"?w(p):c(p))},w=function(p){var g=p.sps||[],T=p.pps||[],b=[],k=[],A,O;for(A=0;A<g.length;A++)b.push((g[A].byteLength&65280)>>>8),b.push(g[A].byteLength&255),b=b.concat(Array.prototype.slice.call(g[A]));for(A=0;A<T.length;A++)k.push((T[A].byteLength&65280)>>>8),k.push(T[A].byteLength&255),k=k.concat(Array.prototype.slice.call(T[A]));if(O=[F.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(p.width&65280)>>8,p.width&255,(p.height&65280)>>8,p.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(F.avcC,new Uint8Array([1,p.profileIdc,p.profileCompatibility,p.levelIdc,255].concat([g.length],b,[T.length],k))),i(F.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],p.sarRatio){var I=p.sarRatio[0],R=p.sarRatio[1];O.push(i(F.pasp,new Uint8Array([(I&4278190080)>>24,(I&16711680)>>16,(I&65280)>>8,I&255,(R&4278190080)>>24,(R&16711680)>>16,(R&65280)>>8,R&255])))}return i.apply(null,O)},c=function(p){return i(F.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(p.channelcount&65280)>>8,p.channelcount&255,(p.samplesize&65280)>>8,p.samplesize&255,0,0,0,0,(p.samplerate&65280)>>8,p.samplerate&255,0,0]),a(p))}}(),S=function(c){var m=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(c.id&4278190080)>>24,(c.id&16711680)>>16,(c.id&65280)>>8,c.id&255,0,0,0,0,(c.duration&4278190080)>>24,(c.duration&16711680)>>16,(c.duration&65280)>>8,c.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(c.width&65280)>>8,c.width&255,0,0,(c.height&65280)>>8,c.height&255,0,0]);return i(F.tkhd,m)},D=function(c){var m,p,g,T,b,k,A;return m=i(F.tfhd,new Uint8Array([0,0,0,58,(c.id&4278190080)>>24,(c.id&16711680)>>16,(c.id&65280)>>8,c.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),k=Math.floor(c.baseMediaDecodeTime/(r+1)),A=Math.floor(c.baseMediaDecodeTime%(r+1)),p=i(F.tfdt,new Uint8Array([1,0,0,0,k>>>24&255,k>>>16&255,k>>>8&255,k&255,A>>>24&255,A>>>16&255,A>>>8&255,A&255])),b=32+20+8+16+8+8,c.type==="audio"?(g=N(c,b),i(F.traf,m,p,g)):(T=C(c),g=N(c,T.length+b),i(F.traf,m,p,g,T))},x=function(c){return c.duration=c.duration||4294967295,i(F.trak,S(c),v(c))},j=function(c){var m=new Uint8Array([0,0,0,0,(c.id&4278190080)>>24,(c.id&16711680)>>16,(c.id&65280)>>8,c.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return c.type!=="video"&&(m[m.length-1]=0),i(F.trex,m)},function(){var w,c,m;m=function(g,T){var b=0,k=0,A=0,O=0;return g.length&&(g[0].duration!==void 0&&(b=1),g[0].size!==void 0&&(k=2),g[0].flags!==void 0&&(A=4),g[0].compositionTimeOffset!==void 0&&(O=8)),[0,0,b|k|A|O,1,(g.length&4278190080)>>>24,(g.length&16711680)>>>16,(g.length&65280)>>>8,g.length&255,(T&4278190080)>>>24,(T&16711680)>>>16,(T&65280)>>>8,T&255]},c=function(g,T){var b,k,A,O,I,R;for(O=g.samples||[],T+=8+12+16*O.length,A=m(O,T),k=new Uint8Array(A.length+O.length*16),k.set(A),b=A.length,R=0;R<O.length;R++)I=O[R],k[b++]=(I.duration&4278190080)>>>24,k[b++]=(I.duration&16711680)>>>16,k[b++]=(I.duration&65280)>>>8,k[b++]=I.duration&255,k[b++]=(I.size&4278190080)>>>24,k[b++]=(I.size&16711680)>>>16,k[b++]=(I.size&65280)>>>8,k[b++]=I.size&255,k[b++]=I.flags.isLeading<<2|I.flags.dependsOn,k[b++]=I.flags.isDependedOn<<6|I.flags.hasRedundancy<<4|I.flags.paddingValue<<1|I.flags.isNonSyncSample,k[b++]=I.flags.degradationPriority&240<<8,k[b++]=I.flags.degradationPriority&15,k[b++]=(I.compositionTimeOffset&4278190080)>>>24,k[b++]=(I.compositionTimeOffset&16711680)>>>16,k[b++]=(I.compositionTimeOffset&65280)>>>8,k[b++]=I.compositionTimeOffset&255;return i(F.trun,k)},w=function(g,T){var b,k,A,O,I,R;for(O=g.samples||[],T+=8+12+8*O.length,A=m(O,T),b=new Uint8Array(A.length+O.length*8),b.set(A),k=A.length,R=0;R<O.length;R++)I=O[R],b[k++]=(I.duration&4278190080)>>>24,b[k++]=(I.duration&16711680)>>>16,b[k++]=(I.duration&65280)>>>8,b[k++]=I.duration&255,b[k++]=(I.size&4278190080)>>>24,b[k++]=(I.size&16711680)>>>16,b[k++]=(I.size&65280)>>>8,b[k++]=I.size&255;return i(F.trun,b)},N=function(g,T){return g.type==="audio"?w(g,T):c(g,T)}}();var ie={ftyp:s,mdat:o,moof:d,moov:h,initSegment:function(c){var m=s(),p=h(c),g;return g=new Uint8Array(m.byteLength+p.byteLength),g.set(m),g.set(p,m.byteLength),g}},Se=function(c){var m,p,g=[],T=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,g.byteLength=0,m=0;m<c.length;m++)p=c[m],p.nalUnitType==="access_unit_delimiter_rbsp"?(g.length&&(g.duration=p.dts-g.dts,T.byteLength+=g.byteLength,T.nalCount+=g.length,T.duration+=g.duration,T.push(g)),g=[p],g.byteLength=p.data.byteLength,g.pts=p.pts,g.dts=p.dts):(p.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(g.keyFrame=!0),g.duration=p.dts-g.dts,g.byteLength+=p.data.byteLength,g.push(p));return T.length&&(!g.duration||g.duration<=0)&&(g.duration=T[T.length-1].duration),T.byteLength+=g.byteLength,T.nalCount+=g.length,T.duration+=g.duration,T.push(g),T},Oe=function(c){var m,p,g=[],T=[];for(g.byteLength=0,g.nalCount=0,g.duration=0,g.pts=c[0].pts,g.dts=c[0].dts,T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=c[0].pts,T.dts=c[0].dts,m=0;m<c.length;m++)p=c[m],p.keyFrame?(g.length&&(T.push(g),T.byteLength+=g.byteLength,T.nalCount+=g.nalCount,T.duration+=g.duration),g=[p],g.nalCount=p.length,g.byteLength=p.byteLength,g.pts=p.pts,g.dts=p.dts,g.duration=p.duration):(g.duration+=p.duration,g.nalCount+=p.length,g.byteLength+=p.byteLength,g.push(p));return T.length&&g.duration<=0&&(g.duration=T[T.length-1].duration),T.byteLength+=g.byteLength,T.nalCount+=g.nalCount,T.duration+=g.duration,T.push(g),T},Mt=function(c){var m;return!c[0][0].keyFrame&&c.length>1&&(m=c.shift(),c.byteLength-=m.byteLength,c.nalCount-=m.nalCount,c[0][0].dts=m.dts,c[0][0].pts=m.pts,c[0][0].duration+=m.duration),c},Rt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Nt=function(c,m){var p=Rt();return p.dataOffset=m,p.compositionTimeOffset=c.pts-c.dts,p.duration=c.duration,p.size=4*c.length,p.size+=c.byteLength,c.keyFrame&&(p.flags.dependsOn=2,p.flags.isNonSyncSample=0),p},fr=function(c,m){var p,g,T,b,k,A=m||0,O=[];for(p=0;p<c.length;p++)for(b=c[p],g=0;g<b.length;g++)k=b[g],T=Nt(k,A),A+=T.size,O.push(T);return O},vo=function(c){var m,p,g,T,b,k,A=0,O=c.byteLength,I=c.nalCount,R=O+4*I,V=new Uint8Array(R),Y=new DataView(V.buffer);for(m=0;m<c.length;m++)for(T=c[m],p=0;p<T.length;p++)for(b=T[p],g=0;g<b.length;g++)k=b[g],Y.setUint32(A,k.data.byteLength),A+=4,V.set(k.data,A),A+=k.data.byteLength;return V},Ea=function(c,m){var p,g=m||0,T=[];return p=Nt(c,g),T.push(p),T},rd=function(c){var m,p,g=0,T=c.byteLength,b=c.length,k=T+4*b,A=new Uint8Array(k),O=new DataView(A.buffer);for(m=0;m<c.length;m++)p=c[m],O.setUint32(g,p.data.byteLength),g+=4,A.set(p.data,g),g+=p.data.byteLength;return A},Pr={groupNalsIntoFrames:Se,groupFramesIntoGops:Oe,extendFirstKeyFrame:Mt,generateSampleTable:fr,concatenateNalData:vo,generateSampleTableForFrame:Ea,concatenateNalDataForFrame:rd},Ft=[33,16,5,32,164,27],wa=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ve=function(c){for(var m=[];c--;)m.push(0);return m},Lx=function(c){return Object.keys(c).reduce(function(m,p){return m[p]=new Uint8Array(c[p].reduce(function(g,T){return g.concat(T)},[])),m},{})},nd,Ox=function(){if(!nd){var c={96e3:[Ft,[227,64],ve(154),[56]],88200:[Ft,[231],ve(170),[56]],64e3:[Ft,[248,192],ve(240),[56]],48e3:[Ft,[255,192],ve(268),[55,148,128],ve(54),[112]],44100:[Ft,[255,192],ve(268),[55,163,128],ve(84),[112]],32e3:[Ft,[255,192],ve(268),[55,234],ve(226),[112]],24e3:[Ft,[255,192],ve(268),[55,255,128],ve(268),[111,112],ve(126),[224]],16e3:[Ft,[255,192],ve(268),[55,255,128],ve(268),[111,255],ve(269),[223,108],ve(195),[1,192]],12e3:[wa,ve(268),[3,127,248],ve(268),[6,255,240],ve(268),[13,255,224],ve(268),[27,253,128],ve(259),[56]],11025:[wa,ve(268),[3,127,248],ve(268),[6,255,240],ve(268),[13,255,224],ve(268),[27,255,192],ve(268),[55,175,128],ve(108),[112]],8e3:[wa,ve(268),[3,121,16],ve(47),[7]]};nd=Lx(c)}return nd},id=9e4,ad,sd,yo,od,Vp,Hp,zp;ad=function(c){return c*id},sd=function(c,m){return c*m},yo=function(c){return c/id},od=function(c,m){return c/m},Vp=function(c,m){return ad(od(c,m))},Hp=function(c,m){return sd(yo(c),m)},zp=function(c,m,p){return yo(p?c:c-m)};var _e={ONE_SECOND_IN_TS:id,secondsToVideoTs:ad,secondsToAudioTs:sd,videoTsToSeconds:yo,audioTsToSeconds:od,audioTsToVideoTs:Vp,videoTsToAudioTs:Hp,metadataTsToSeconds:zp},Dx=function(c){var m,p,g=0;for(m=0;m<c.length;m++)p=c[m],g+=p.data.byteLength;return g},Mx=function(c,m,p,g){var T,b=0,k=0,A=0,O=0,I,R,V;if(!!m.length&&(T=_e.audioTsToVideoTs(c.baseMediaDecodeTime,c.samplerate),b=Math.ceil(_e.ONE_SECOND_IN_TS/(c.samplerate/1024)),p&&g&&(k=T-Math.max(p,g),A=Math.floor(k/b),O=A*b),!(A<1||O>_e.ONE_SECOND_IN_TS/2))){for(I=Ox()[c.samplerate],I||(I=m[0].data),R=0;R<A;R++)V=m[0],m.splice(0,0,{data:I,dts:V.dts-b,pts:V.pts-b});return c.baseMediaDecodeTime-=Math.floor(_e.videoTsToAudioTs(O,c.samplerate)),O}},Rx=function(c,m,p){return m.minSegmentDts>=p?c:(m.minSegmentDts=1/0,c.filter(function(g){return g.dts>=p?(m.minSegmentDts=Math.min(m.minSegmentDts,g.dts),m.minSegmentPts=m.minSegmentDts,!0):!1}))},Nx=function(c){var m,p,g=[];for(m=0;m<c.length;m++)p=c[m],g.push({size:p.data.byteLength,duration:1024});return g},Fx=function(c){var m,p,g=0,T=new Uint8Array(Dx(c));for(m=0;m<c.length;m++)p=c[m],T.set(p.data,g),g+=p.data.byteLength;return T},_o={prefixWithSilence:Mx,trimAdtsFramesByEarliestDts:Rx,generateSampleTable:Nx,concatenateFrameData:Fx},Ux=_e.ONE_SECOND_IN_TS,Bx=function(c,m){typeof m.pts=="number"&&(c.timelineStartInfo.pts===void 0&&(c.timelineStartInfo.pts=m.pts),c.minSegmentPts===void 0?c.minSegmentPts=m.pts:c.minSegmentPts=Math.min(c.minSegmentPts,m.pts),c.maxSegmentPts===void 0?c.maxSegmentPts=m.pts:c.maxSegmentPts=Math.max(c.maxSegmentPts,m.pts)),typeof m.dts=="number"&&(c.timelineStartInfo.dts===void 0&&(c.timelineStartInfo.dts=m.dts),c.minSegmentDts===void 0?c.minSegmentDts=m.dts:c.minSegmentDts=Math.min(c.minSegmentDts,m.dts),c.maxSegmentDts===void 0?c.maxSegmentDts=m.dts:c.maxSegmentDts=Math.max(c.maxSegmentDts,m.dts))},jx=function(c){delete c.minSegmentDts,delete c.maxSegmentDts,delete c.minSegmentPts,delete c.maxSegmentPts},Vx=function(c,m){var p,g,T=c.minSegmentDts;return m||(T-=c.timelineStartInfo.dts),p=c.timelineStartInfo.baseMediaDecodeTime,p+=T,p=Math.max(0,p),c.type==="audio"&&(g=c.samplerate/Ux,p*=g,p=Math.floor(p)),p},rr={clearDtsInfo:jx,calculateTrackBaseMediaDecodeTime:Vx,collectDtsInfo:Bx},Wp=4,Hx=128,zx=function(c){for(var m=0,p={payloadType:-1,payloadSize:0},g=0,T=0;m<c.byteLength&&c[m]!==Hx;){for(;c[m]===255;)g+=255,m++;for(g+=c[m++];c[m]===255;)T+=255,m++;if(T+=c[m++],!p.payload&&g===Wp){var b=String.fromCharCode(c[m+3],c[m+4],c[m+5],c[m+6]);if(b==="GA94"){p.payloadType=g,p.payloadSize=T,p.payload=c.subarray(m,m+T);break}else p.payload=void 0}m+=T,g=0,T=0}return p},Wx=function(c){return c.payload[0]!==181||(c.payload[1]<<8|c.payload[2])!==49||String.fromCharCode(c.payload[3],c.payload[4],c.payload[5],c.payload[6])!=="GA94"||c.payload[7]!==3?null:c.payload.subarray(8,c.payload.length-1)},$x=function(c,m){var p=[],g,T,b,k;if(!(m[0]&64))return p;for(T=m[0]&31,g=0;g<T;g++)b=g*3,k={type:m[b+2]&3,pts:c},m[b+2]&4&&(k.ccData=m[b+3]<<8|m[b+4],p.push(k));return p},Gx=function(c){for(var m=c.byteLength,p=[],g=1,T,b;g<m-2;)c[g]===0&&c[g+1]===0&&c[g+2]===3?(p.push(g+2),g+=2):g++;if(p.length===0)return c;T=m-p.length,b=new Uint8Array(T);var k=0;for(g=0;g<T;k++,g++)k===p[0]&&(k++,p.shift()),b[g]=c[k];return b},Ca={parseSei:zx,parseUserData:Wx,parseCaptionPackets:$x,discardEmulationPreventionBytes:Gx,USER_DATA_REGISTERED_ITU_T_T35:Wp},Ut=function w(c){c=c||{},w.prototype.init.call(this),this.parse708captions_=typeof c.parse708captions=="boolean"?c.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Re(0,0),new Re(0,1),new Re(1,0),new Re(1,1)],this.parse708captions_&&(this.cc708Stream_=new be({captionServices:c.captionServices})),this.reset(),this.ccStreams_.forEach(function(m){m.on("data",this.trigger.bind(this,"data")),m.on("partialdone",this.trigger.bind(this,"partialdone")),m.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Ut.prototype=new e,Ut.prototype.push=function(w){var c,m,p;if(w.nalUnitType==="sei_rbsp"&&(c=Ca.parseSei(w.escapedRBSP),!!c.payload&&c.payloadType===Ca.USER_DATA_REGISTERED_ITU_T_T35&&(m=Ca.parseUserData(c),!!m))){if(w.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(w.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}p=Ca.parseCaptionPackets(w.pts,m),this.captionPackets_=this.captionPackets_.concat(p),this.latestDts_!==w.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=w.dts}},Ut.prototype.flushCCStreams=function(w){this.ccStreams_.forEach(function(c){return w==="flush"?c.flush():c.partialFlush()},this)},Ut.prototype.flushStream=function(w){if(!this.captionPackets_.length){this.flushCCStreams(w);return}this.captionPackets_.forEach(function(c,m){c.presortIndex=m}),this.captionPackets_.sort(function(c,m){return c.pts===m.pts?c.presortIndex-m.presortIndex:c.pts-m.pts}),this.captionPackets_.forEach(function(c){c.type<2?this.dispatchCea608Packet(c):this.dispatchCea708Packet(c)},this),this.captionPackets_.length=0,this.flushCCStreams(w)},Ut.prototype.flush=function(){return this.flushStream("flush")},Ut.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ut.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(w){w.reset()})},Ut.prototype.dispatchCea608Packet=function(w){this.setsTextOrXDSActive(w)?this.activeCea608Channel_[w.type]=null:this.setsChannel1Active(w)?this.activeCea608Channel_[w.type]=0:this.setsChannel2Active(w)&&(this.activeCea608Channel_[w.type]=1),this.activeCea608Channel_[w.type]!==null&&this.ccStreams_[(w.type<<1)+this.activeCea608Channel_[w.type]].push(w)},Ut.prototype.setsChannel1Active=function(w){return(w.ccData&30720)===4096},Ut.prototype.setsChannel2Active=function(w){return(w.ccData&30720)===6144},Ut.prototype.setsTextOrXDSActive=function(w){return(w.ccData&28928)===256||(w.ccData&30974)===4138||(w.ccData&30974)===6186},Ut.prototype.dispatchCea708Packet=function(w){this.parse708captions_&&this.cc708Stream_.push(w)};var qx={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Xx=function(c){var m=qx[c]||c;return c&4096&&c===m?"":String.fromCharCode(m)},To=function(c){return 32<=c&&c<=127||160<=c&&c<=255},Ar=function(c){this.windowNum=c,this.reset()};Ar.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Ar.prototype.getText=function(){return this.rows.join(`
`)},Ar.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Ar.prototype.newLine=function(w){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(w),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Ar.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Ar.prototype.addText=function(w){this.rows[this.rowIdx]+=w},Ar.prototype.backspace=function(){if(!this.isEmpty()){var w=this.rows[this.rowIdx];this.rows[this.rowIdx]=w.substr(0,w.length-1)}};var So=function(c,m,p){this.serviceNum=c,this.text="",this.currentWindow=new Ar(-1),this.windows=[],this.stream=p,typeof m=="string"&&this.createTextDecoder(m)};So.prototype.init=function(w,c){this.startPts=w;for(var m=0;m<8;m++)this.windows[m]=new Ar(m),typeof c=="function"&&(this.windows[m].beforeRowOverflow=c)},So.prototype.setCurrentWindow=function(w){this.currentWindow=this.windows[w]},So.prototype.createTextDecoder=function(w){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(w)}catch(c){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+w+" encoding. "+c})}};var be=function w(c){c=c||{},w.prototype.init.call(this);var m=this,p=c.captionServices||{},g={},T;Object.keys(p).forEach(function(b){T=p[b],/^SERVICE/.test(b)&&(g[b]=T.encoding)}),this.serviceEncodings=g,this.current708Packet=null,this.services={},this.push=function(b){b.type===3?(m.new708Packet(),m.add708Bytes(b)):(m.current708Packet===null&&m.new708Packet(),m.add708Bytes(b))}};be.prototype=new e,be.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},be.prototype.add708Bytes=function(w){var c=w.ccData,m=c>>>8,p=c&255;this.current708Packet.ptsVals.push(w.pts),this.current708Packet.data.push(m),this.current708Packet.data.push(p)},be.prototype.push708Packet=function(){var w=this.current708Packet,c=w.data,m=null,p=null,g=0,T=c[g++];for(w.seq=T>>6,w.sizeCode=T&63;g<c.length;g++)T=c[g++],m=T>>5,p=T&31,m===7&&p>0&&(T=c[g++],m=T),this.pushServiceBlock(m,g,p),p>0&&(g+=p-1)},be.prototype.pushServiceBlock=function(w,c,m){var p,g=c,T=this.current708Packet.data,b=this.services[w];for(b||(b=this.initService(w,g));g<c+m&&g<T.length;g++)p=T[g],To(p)?g=this.handleText(g,b):p===24?g=this.multiByteCharacter(g,b):p===16?g=this.extendedCommands(g,b):128<=p&&p<=135?g=this.setCurrentWindow(g,b):152<=p&&p<=159?g=this.defineWindow(g,b):p===136?g=this.clearWindows(g,b):p===140?g=this.deleteWindows(g,b):p===137?g=this.displayWindows(g,b):p===138?g=this.hideWindows(g,b):p===139?g=this.toggleWindows(g,b):p===151?g=this.setWindowAttributes(g,b):p===144?g=this.setPenAttributes(g,b):p===145?g=this.setPenColor(g,b):p===146?g=this.setPenLocation(g,b):p===143?b=this.reset(g,b):p===8?b.currentWindow.backspace():p===12?b.currentWindow.clearText():p===13?b.currentWindow.pendingNewLine=!0:p===14?b.currentWindow.clearText():p===141&&g++},be.prototype.extendedCommands=function(w,c){var m=this.current708Packet.data,p=m[++w];return To(p)&&(w=this.handleText(w,c,{isExtended:!0})),w},be.prototype.getPts=function(w){return this.current708Packet.ptsVals[Math.floor(w/2)]},be.prototype.initService=function(w,c){var p="SERVICE"+w,m=this,p,g;return p in this.serviceEncodings&&(g=this.serviceEncodings[p]),this.services[w]=new So(w,g,m),this.services[w].init(this.getPts(c),function(T){m.flushDisplayed(T,m.services[w])}),this.services[w]},be.prototype.handleText=function(w,c,m){var p=m&&m.isExtended,g=m&&m.isMultiByte,T=this.current708Packet.data,b=p?4096:0,k=T[w],A=T[w+1],O=c.currentWindow,I,R;return c.textDecoder_&&!p?(g?(R=[k,A],w++):R=[k],I=c.textDecoder_.decode(new Uint8Array(R))):I=Xx(b|k),O.pendingNewLine&&!O.isEmpty()&&O.newLine(this.getPts(w)),O.pendingNewLine=!1,O.addText(I),w},be.prototype.multiByteCharacter=function(w,c){var m=this.current708Packet.data,p=m[w+1],g=m[w+2];return To(p)&&To(g)&&(w=this.handleText(++w,c,{isMultiByte:!0})),w},be.prototype.setCurrentWindow=function(w,c){var m=this.current708Packet.data,p=m[w],g=p&7;return c.setCurrentWindow(g),w},be.prototype.defineWindow=function(w,c){var m=this.current708Packet.data,p=m[w],g=p&7;c.setCurrentWindow(g);var T=c.currentWindow;return p=m[++w],T.visible=(p&32)>>5,T.rowLock=(p&16)>>4,T.columnLock=(p&8)>>3,T.priority=p&7,p=m[++w],T.relativePositioning=(p&128)>>7,T.anchorVertical=p&127,p=m[++w],T.anchorHorizontal=p,p=m[++w],T.anchorPoint=(p&240)>>4,T.rowCount=p&15,p=m[++w],T.columnCount=p&63,p=m[++w],T.windowStyle=(p&56)>>3,T.penStyle=p&7,T.virtualRowCount=T.rowCount+1,w},be.prototype.setWindowAttributes=function(w,c){var m=this.current708Packet.data,p=m[w],g=c.currentWindow.winAttr;return p=m[++w],g.fillOpacity=(p&192)>>6,g.fillRed=(p&48)>>4,g.fillGreen=(p&12)>>2,g.fillBlue=p&3,p=m[++w],g.borderType=(p&192)>>6,g.borderRed=(p&48)>>4,g.borderGreen=(p&12)>>2,g.borderBlue=p&3,p=m[++w],g.borderType+=(p&128)>>5,g.wordWrap=(p&64)>>6,g.printDirection=(p&48)>>4,g.scrollDirection=(p&12)>>2,g.justify=p&3,p=m[++w],g.effectSpeed=(p&240)>>4,g.effectDirection=(p&12)>>2,g.displayEffect=p&3,w},be.prototype.flushDisplayed=function(w,c){for(var m=[],p=0;p<8;p++)c.windows[p].visible&&!c.windows[p].isEmpty()&&m.push(c.windows[p].getText());c.endPts=w,c.text=m.join(`

`),this.pushCaption(c),c.startPts=w},be.prototype.pushCaption=function(w){w.text!==""&&(this.trigger("data",{startPts:w.startPts,endPts:w.endPts,text:w.text,stream:"cc708_"+w.serviceNum}),w.text="",w.startPts=w.endPts)},be.prototype.displayWindows=function(w,c){var m=this.current708Packet.data,p=m[++w],g=this.getPts(w);this.flushDisplayed(g,c);for(var T=0;T<8;T++)p&1<<T&&(c.windows[T].visible=1);return w},be.prototype.hideWindows=function(w,c){var m=this.current708Packet.data,p=m[++w],g=this.getPts(w);this.flushDisplayed(g,c);for(var T=0;T<8;T++)p&1<<T&&(c.windows[T].visible=0);return w},be.prototype.toggleWindows=function(w,c){var m=this.current708Packet.data,p=m[++w],g=this.getPts(w);this.flushDisplayed(g,c);for(var T=0;T<8;T++)p&1<<T&&(c.windows[T].visible^=1);return w},be.prototype.clearWindows=function(w,c){var m=this.current708Packet.data,p=m[++w],g=this.getPts(w);this.flushDisplayed(g,c);for(var T=0;T<8;T++)p&1<<T&&c.windows[T].clearText();return w},be.prototype.deleteWindows=function(w,c){var m=this.current708Packet.data,p=m[++w],g=this.getPts(w);this.flushDisplayed(g,c);for(var T=0;T<8;T++)p&1<<T&&c.windows[T].reset();return w},be.prototype.setPenAttributes=function(w,c){var m=this.current708Packet.data,p=m[w],g=c.currentWindow.penAttr;return p=m[++w],g.textTag=(p&240)>>4,g.offset=(p&12)>>2,g.penSize=p&3,p=m[++w],g.italics=(p&128)>>7,g.underline=(p&64)>>6,g.edgeType=(p&56)>>3,g.fontStyle=p&7,w},be.prototype.setPenColor=function(w,c){var m=this.current708Packet.data,p=m[w],g=c.currentWindow.penColor;return p=m[++w],g.fgOpacity=(p&192)>>6,g.fgRed=(p&48)>>4,g.fgGreen=(p&12)>>2,g.fgBlue=p&3,p=m[++w],g.bgOpacity=(p&192)>>6,g.bgRed=(p&48)>>4,g.bgGreen=(p&12)>>2,g.bgBlue=p&3,p=m[++w],g.edgeRed=(p&48)>>4,g.edgeGreen=(p&12)>>2,g.edgeBlue=p&3,w},be.prototype.setPenLocation=function(w,c){var m=this.current708Packet.data,p=m[w],g=c.currentWindow.penLoc;return c.currentWindow.pendingNewLine=!0,p=m[++w],g.row=p&15,p=m[++w],g.column=p&63,w},be.prototype.reset=function(w,c){var m=this.getPts(w);return this.flushDisplayed(m,c),this.initService(c.serviceNum,w)};var Kx={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},xo=function(c){return c===null?"":(c=Kx[c]||c,String.fromCharCode(c))},bo=14,Yx=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Pn=function(){for(var c=[],m=bo+1;m--;)c.push("");return c},Re=function w(c,m){w.prototype.init.call(this),this.field_=c||0,this.dataChannel_=m||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(p){var g,T,b,k,A;if(g=p.ccData&32639,g===this.lastControlCode_){this.lastControlCode_=null;return}if((g&61440)===4096?this.lastControlCode_=g:g!==this.PADDING_&&(this.lastControlCode_=null),b=g>>>8,k=g&255,g!==this.PADDING_)if(g===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(g===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(p.pts),this.flushDisplayed(p.pts),T=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=T,this.startPts_=p.pts;else if(g===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(p.pts);else if(g===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(p.pts);else if(g===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(p.pts);else if(g===this.CARRIAGE_RETURN_)this.clearFormatting(p.pts),this.flushDisplayed(p.pts),this.shiftRowsUp_(),this.startPts_=p.pts;else if(g===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(g===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(p.pts),this.displayed_=Pn();else if(g===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Pn();else if(g===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(p.pts),this.displayed_=Pn()),this.mode_="paintOn",this.startPts_=p.pts;else if(this.isSpecialCharacter(b,k))b=(b&3)<<8,A=xo(b|k),this[this.mode_](p.pts,A),this.column_++;else if(this.isExtCharacter(b,k))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),b=(b&3)<<8,A=xo(b|k),this[this.mode_](p.pts,A),this.column_++;else if(this.isMidRowCode(b,k))this.clearFormatting(p.pts),this[this.mode_](p.pts," "),this.column_++,(k&14)===14&&this.addFormatting(p.pts,["i"]),(k&1)===1&&this.addFormatting(p.pts,["u"]);else if(this.isOffsetControlCode(b,k))this.column_+=k&3;else if(this.isPAC(b,k)){var O=Yx.indexOf(g&7968);this.mode_==="rollUp"&&(O-this.rollUpRows_+1<0&&(O=this.rollUpRows_-1),this.setRollUp(p.pts,O)),O!==this.row_&&(this.clearFormatting(p.pts),this.row_=O),k&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(p.pts,["u"]),(g&16)===16&&(this.column_=((g&14)>>1)*4),this.isColorPAC(k)&&(k&14)===14&&this.addFormatting(p.pts,["i"])}else this.isNormalChar(b)&&(k===0&&(k=null),A=xo(b),A+=xo(k),this[this.mode_](p.pts,A),this.column_+=A.length)}};Re.prototype=new e,Re.prototype.flushDisplayed=function(w){var c=this.displayed_.map(function(m,p){try{return m.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+p+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");c.length&&this.trigger("data",{startPts:this.startPts_,endPts:w,text:c,stream:this.name_})},Re.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Pn(),this.nonDisplayed_=Pn(),this.lastControlCode_=null,this.column_=0,this.row_=bo,this.rollUpRows_=2,this.formatting_=[]},Re.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Re.prototype.isSpecialCharacter=function(w,c){return w===this.EXT_&&c>=48&&c<=63},Re.prototype.isExtCharacter=function(w,c){return(w===this.EXT_+1||w===this.EXT_+2)&&c>=32&&c<=63},Re.prototype.isMidRowCode=function(w,c){return w===this.EXT_&&c>=32&&c<=47},Re.prototype.isOffsetControlCode=function(w,c){return w===this.OFFSET_&&c>=33&&c<=35},Re.prototype.isPAC=function(w,c){return w>=this.BASE_&&w<this.BASE_+8&&c>=64&&c<=127},Re.prototype.isColorPAC=function(w){return w>=64&&w<=79||w>=96&&w<=127},Re.prototype.isNormalChar=function(w){return w>=32&&w<=127},Re.prototype.setRollUp=function(w,c){if(this.mode_!=="rollUp"&&(this.row_=bo,this.mode_="rollUp",this.flushDisplayed(w),this.nonDisplayed_=Pn(),this.displayed_=Pn()),c!==void 0&&c!==this.row_)for(var m=0;m<this.rollUpRows_;m++)this.displayed_[c-m]=this.displayed_[this.row_-m],this.displayed_[this.row_-m]="";c===void 0&&(c=this.row_),this.topRow_=c-this.rollUpRows_+1},Re.prototype.addFormatting=function(w,c){this.formatting_=this.formatting_.concat(c);var m=c.reduce(function(p,g){return p+"<"+g+">"},"");this[this.mode_](w,m)},Re.prototype.clearFormatting=function(w){if(!!this.formatting_.length){var c=this.formatting_.reverse().reduce(function(m,p){return m+"</"+p+">"},"");this.formatting_=[],this[this.mode_](w,c)}},Re.prototype.popOn=function(w,c){var m=this.nonDisplayed_[this.row_];m+=c,this.nonDisplayed_[this.row_]=m},Re.prototype.rollUp=function(w,c){var m=this.displayed_[this.row_];m+=c,this.displayed_[this.row_]=m},Re.prototype.shiftRowsUp_=function(){var w;for(w=0;w<this.topRow_;w++)this.displayed_[w]="";for(w=this.row_+1;w<bo+1;w++)this.displayed_[w]="";for(w=this.topRow_;w<this.row_;w++)this.displayed_[w]=this.displayed_[w+1];this.displayed_[this.row_]=""},Re.prototype.paintOn=function(w,c){var m=this.displayed_[this.row_];m+=c,this.displayed_[this.row_]=m};var Eo={CaptionStream:Ut,Cea608Stream:Re,Cea708Stream:be},Je={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Qx=8589934592,Zx=4294967296,$p="shared",ld=function(c,m){var p=1;for(c>m&&(p=-1);Math.abs(m-c)>Zx;)c+=p*Qx;return c},Gp=function w(c){var m,p;w.prototype.init.call(this),this.type_=c||$p,this.push=function(g){this.type_!==$p&&g.type!==this.type_||(p===void 0&&(p=g.dts),g.dts=ld(g.dts,p),g.pts=ld(g.pts,p),m=g.dts,this.trigger("data",g))},this.flush=function(){p=m,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){p=void 0,m=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Gp.prototype=new e;var qp={TimestampRolloverStream:Gp,handleRollover:ld},Xp=function(c,m,p){var g,T="";for(g=m;g<p;g++)T+="%"+("00"+c[g].toString(16)).slice(-2);return T},wo=function(c,m,p){return decodeURIComponent(Xp(c,m,p))},Jx=function(c,m,p){return unescape(Xp(c,m,p))},Co=function(c){return c[0]<<21|c[1]<<14|c[2]<<7|c[3]},Kp={TXXX:function(c){var m;if(c.data[0]===3){for(m=1;m<c.data.length;m++)if(c.data[m]===0){c.description=wo(c.data,1,m),c.value=wo(c.data,m+1,c.data.length).replace(/\0*$/,"");break}c.data=c.value}},WXXX:function(c){var m;if(c.data[0]===3){for(m=1;m<c.data.length;m++)if(c.data[m]===0){c.description=wo(c.data,1,m),c.url=wo(c.data,m+1,c.data.length);break}}},PRIV:function(c){var m;for(m=0;m<c.data.length;m++)if(c.data[m]===0){c.owner=Jx(c.data,0,m);break}c.privateData=c.data.subarray(m+1),c.data=c.privateData}},ko;ko=function(c){var m={descriptor:c&&c.descriptor},p=0,g=[],T=0,b;if(ko.prototype.init.call(this),this.dispatchType=Je.METADATA_STREAM_TYPE.toString(16),m.descriptor)for(b=0;b<m.descriptor.length;b++)this.dispatchType+=("00"+m.descriptor[b].toString(16)).slice(-2);this.push=function(k){var A,O,I,R,V,Y;if(k.type==="timed-metadata"){if(k.dataAlignmentIndicator&&(T=0,g.length=0),g.length===0&&(k.data.length<10||k.data[0]!=="I".charCodeAt(0)||k.data[1]!=="D".charCodeAt(0)||k.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(g.push(k),T+=k.data.byteLength,g.length===1&&(p=Co(k.data.subarray(6,10)),p+=10),!(T<p)){for(A={data:new Uint8Array(p),frames:[],pts:g[0].pts,dts:g[0].dts},V=0;V<p;)A.data.set(g[0].data.subarray(0,p-V),V),V+=g[0].data.byteLength,T-=g[0].data.byteLength,g.shift();O=10,A.data[5]&64&&(O+=4,O+=Co(A.data.subarray(10,14)),p-=Co(A.data.subarray(16,20)));do{if(I=Co(A.data.subarray(O+4,O+8)),I<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Y=String.fromCharCode(A.data[O],A.data[O+1],A.data[O+2],A.data[O+3]),R={id:Y,data:A.data.subarray(O+10,O+I+10)},R.key=R.id,Kp[R.id]&&(Kp[R.id](R),R.owner==="com.apple.streaming.transportStreamTimestamp")){var ee=R.data,W=(ee[3]&1)<<30|ee[4]<<22|ee[5]<<14|ee[6]<<6|ee[7]>>>2;W*=4,W+=ee[7]&3,R.timeStamp=W,A.pts===void 0&&A.dts===void 0&&(A.pts=R.timeStamp,A.dts=R.timeStamp),this.trigger("timestamp",R)}A.frames.push(R),O+=10,O+=I}while(O<p);this.trigger("data",A)}}}},ko.prototype=new e;var eb=ko,tb=qp.TimestampRolloverStream,Po,ka,Ao,ui=188,ud=71;Po=function(){var c=new Uint8Array(ui),m=0;Po.prototype.init.call(this),this.push=function(p){var g=0,T=ui,b;for(m?(b=new Uint8Array(p.byteLength+m),b.set(c.subarray(0,m)),b.set(p,m),m=0):b=p;T<b.byteLength;){if(b[g]===ud&&b[T]===ud){this.trigger("data",b.subarray(g,T)),g+=ui,T+=ui;continue}g++,T++}g<b.byteLength&&(c.set(b.subarray(g),0),m=b.byteLength-g)},this.flush=function(){m===ui&&c[0]===ud&&(this.trigger("data",c),m=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){m=0,this.trigger("reset")}},Po.prototype=new e,ka=function(){var c,m,p,g;ka.prototype.init.call(this),g=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,c=function(b,k){var A=0;k.payloadUnitStartIndicator&&(A+=b[A]+1),k.type==="pat"?m(b.subarray(A),k):p(b.subarray(A),k)},m=function(b,k){k.section_number=b[7],k.last_section_number=b[8],g.pmtPid=(b[10]&31)<<8|b[11],k.pmtPid=g.pmtPid},p=function(b,k){var A,O,I,R;if(!!(b[5]&1)){for(g.programMapTable={video:null,audio:null,"timed-metadata":{}},A=(b[1]&15)<<8|b[2],O=3+A-4,I=(b[10]&15)<<8|b[11],R=12+I;R<O;){var V=b[R],Y=(b[R+1]&31)<<8|b[R+2];V===Je.H264_STREAM_TYPE&&g.programMapTable.video===null?g.programMapTable.video=Y:V===Je.ADTS_STREAM_TYPE&&g.programMapTable.audio===null?g.programMapTable.audio=Y:V===Je.METADATA_STREAM_TYPE&&(g.programMapTable["timed-metadata"][Y]=V),R+=((b[R+3]&15)<<8|b[R+4])+5}k.programMapTable=g.programMapTable}},this.push=function(T){var b={},k=4;if(b.payloadUnitStartIndicator=!!(T[1]&64),b.pid=T[1]&31,b.pid<<=8,b.pid|=T[2],(T[3]&48)>>>4>1&&(k+=T[k]+1),b.pid===0)b.type="pat",c(T.subarray(k),b),this.trigger("data",b);else if(b.pid===this.pmtPid)for(b.type="pmt",c(T.subarray(k),b),this.trigger("data",b);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([T,k,b]):this.processPes_(T,k,b)},this.processPes_=function(T,b,k){k.pid===this.programMapTable.video?k.streamType=Je.H264_STREAM_TYPE:k.pid===this.programMapTable.audio?k.streamType=Je.ADTS_STREAM_TYPE:k.streamType=this.programMapTable["timed-metadata"][k.pid],k.type="pes",k.data=T.subarray(b),this.trigger("data",k)}},ka.prototype=new e,ka.STREAM_TYPES={h264:27,adts:15},Ao=function(){var c=this,m=!1,p={data:[],size:0},g={data:[],size:0},T={data:[],size:0},b,k=function(I,R){var V,Y=I[0]<<16|I[1]<<8|I[2];R.data=new Uint8Array,Y===1&&(R.packetLength=6+(I[4]<<8|I[5]),R.dataAlignmentIndicator=(I[6]&4)!==0,V=I[7],V&192&&(R.pts=(I[9]&14)<<27|(I[10]&255)<<20|(I[11]&254)<<12|(I[12]&255)<<5|(I[13]&254)>>>3,R.pts*=4,R.pts+=(I[13]&6)>>>1,R.dts=R.pts,V&64&&(R.dts=(I[14]&14)<<27|(I[15]&255)<<20|(I[16]&254)<<12|(I[17]&255)<<5|(I[18]&254)>>>3,R.dts*=4,R.dts+=(I[18]&6)>>>1)),R.data=I.subarray(9+I[8]))},A=function(I,R,V){var Y=new Uint8Array(I.size),ee={type:R},W=0,ae=0,We=!1,mt;if(!(!I.data.length||I.size<9)){for(ee.trackId=I.data[0].pid,W=0;W<I.data.length;W++)mt=I.data[W],Y.set(mt.data,ae),ae+=mt.data.byteLength;k(Y,ee),We=R==="video"||ee.packetLength<=I.size,(V||We)&&(I.size=0,I.data.length=0),We&&c.trigger("data",ee)}};Ao.prototype.init.call(this),this.push=function(O){({pat:function(){},pes:function(){var R,V;switch(O.streamType){case Je.H264_STREAM_TYPE:R=p,V="video";break;case Je.ADTS_STREAM_TYPE:R=g,V="audio";break;case Je.METADATA_STREAM_TYPE:R=T,V="timed-metadata";break;default:return}O.payloadUnitStartIndicator&&A(R,V,!0),R.data.push(O),R.size+=O.data.byteLength},pmt:function(){var R={type:"metadata",tracks:[]};b=O.programMapTable,b.video!==null&&R.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.video,codec:"avc",type:"video"}),b.audio!==null&&R.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.audio,codec:"adts",type:"audio"}),m=!0,c.trigger("data",R)}})[O.type]()},this.reset=function(){p.size=0,p.data.length=0,g.size=0,g.data.length=0,this.trigger("reset")},this.flushStreams_=function(){A(p,"video"),A(g,"audio"),A(T,"timed-metadata")},this.flush=function(){if(!m&&b){var O={type:"metadata",tracks:[]};b.video!==null&&O.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.video,codec:"avc",type:"video"}),b.audio!==null&&O.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+b.audio,codec:"adts",type:"audio"}),c.trigger("data",O)}m=!1,this.flushStreams_(),this.trigger("done")}},Ao.prototype=new e;var Yp={PAT_PID:0,MP2T_PACKET_LENGTH:ui,TransportPacketStream:Po,TransportParseStream:ka,ElementaryStream:Ao,TimestampRolloverStream:tb,CaptionStream:Eo.CaptionStream,Cea608Stream:Eo.Cea608Stream,Cea708Stream:Eo.Cea708Stream,MetadataStream:eb};for(var dd in Je)Je.hasOwnProperty(dd)&&(Yp[dd]=Je[dd]);var Ir=Yp,rb=_e.ONE_SECOND_IN_TS,Io,Qp=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Io=function(c){var m,p=0;Io.prototype.init.call(this),this.skipWarn_=function(g,T){this.trigger("log",{level:"warn",message:"adts skiping bytes "+g+" to "+T+" in frame "+p+" outside syncword"})},this.push=function(g){var T=0,b,k,A,O,I;if(c||(p=0),g.type==="audio"){m&&m.length?(A=m,m=new Uint8Array(A.byteLength+g.data.byteLength),m.set(A),m.set(g.data,A.byteLength)):m=g.data;for(var R;T+7<m.length;){if(m[T]!==255||(m[T+1]&246)!==240){typeof R!="number"&&(R=T),T++;continue}if(typeof R=="number"&&(this.skipWarn_(R,T),R=null),k=(~m[T+1]&1)*2,b=(m[T+3]&3)<<11|m[T+4]<<3|(m[T+5]&224)>>5,O=((m[T+6]&3)+1)*1024,I=O*rb/Qp[(m[T+2]&60)>>>2],m.byteLength-T<b)break;this.trigger("data",{pts:g.pts+p*I,dts:g.dts+p*I,sampleCount:O,audioobjecttype:(m[T+2]>>>6&3)+1,channelcount:(m[T+2]&1)<<2|(m[T+3]&192)>>>6,samplerate:Qp[(m[T+2]&60)>>>2],samplingfrequencyindex:(m[T+2]&60)>>>2,samplesize:16,data:m.subarray(T+7+k,T+b)}),p++,T+=b}typeof R=="number"&&(this.skipWarn_(R,T),R=null),m=m.subarray(T)}},this.flush=function(){p=0,this.trigger("done")},this.reset=function(){m=void 0,this.trigger("reset")},this.endTimeline=function(){m=void 0,this.trigger("endedtimeline")}},Io.prototype=new e;var Zp=Io,Jp;Jp=function(c){var m=c.byteLength,p=0,g=0;this.length=function(){return 8*m},this.bitsAvailable=function(){return 8*m+g},this.loadWord=function(){var T=c.byteLength-m,b=new Uint8Array(4),k=Math.min(4,m);if(k===0)throw new Error("no bytes available");b.set(c.subarray(T,T+k)),p=new DataView(b.buffer).getUint32(0),g=k*8,m-=k},this.skipBits=function(T){var b;g>T?(p<<=T,g-=T):(T-=g,b=Math.floor(T/8),T-=b*8,m-=b,this.loadWord(),p<<=T,g-=T)},this.readBits=function(T){var b=Math.min(g,T),k=p>>>32-b;return g-=b,g>0?p<<=b:m>0&&this.loadWord(),b=T-b,b>0?k<<b|this.readBits(b):k},this.skipLeadingZeros=function(){var T;for(T=0;T<g;++T)if((p&2147483648>>>T)!==0)return p<<=T,g-=T,T;return this.loadWord(),T+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var T=this.skipLeadingZeros();return this.readBits(T+1)-1},this.readExpGolomb=function(){var T=this.readUnsignedExpGolomb();return 1&T?1+T>>>1:-1*(T>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var nb=Jp,Lo,Pa,em;Pa=function(){var c=0,m,p;Pa.prototype.init.call(this),this.push=function(g){var T;p?(T=new Uint8Array(p.byteLength+g.data.byteLength),T.set(p),T.set(g.data,p.byteLength),p=T):p=g.data;for(var b=p.byteLength;c<b-3;c++)if(p[c+2]===1){m=c+5;break}for(;m<b;)switch(p[m]){case 0:if(p[m-1]!==0){m+=2;break}else if(p[m-2]!==0){m++;break}c+3!==m-2&&this.trigger("data",p.subarray(c+3,m-2));do m++;while(p[m]!==1&&m<b);c=m-2,m+=3;break;case 1:if(p[m-1]!==0||p[m-2]!==0){m+=3;break}this.trigger("data",p.subarray(c+3,m-2)),c=m-2,m+=3;break;default:m+=3;break}p=p.subarray(c),m-=c,c=0},this.reset=function(){p=null,c=0,this.trigger("reset")},this.flush=function(){p&&p.byteLength>3&&this.trigger("data",p.subarray(c+3)),p=null,c=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Pa.prototype=new e,em={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Lo=function(){var c=new Pa,m,p,g,T,b,k,A;Lo.prototype.init.call(this),m=this,this.push=function(O){O.type==="video"&&(p=O.trackId,g=O.pts,T=O.dts,c.push(O))},c.on("data",function(O){var I={trackId:p,pts:g,dts:T,data:O,nalUnitTypeCode:O[0]&31};switch(I.nalUnitTypeCode){case 5:I.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:I.nalUnitType="sei_rbsp",I.escapedRBSP=b(O.subarray(1));break;case 7:I.nalUnitType="seq_parameter_set_rbsp",I.escapedRBSP=b(O.subarray(1)),I.config=k(I.escapedRBSP);break;case 8:I.nalUnitType="pic_parameter_set_rbsp";break;case 9:I.nalUnitType="access_unit_delimiter_rbsp";break}m.trigger("data",I)}),c.on("done",function(){m.trigger("done")}),c.on("partialdone",function(){m.trigger("partialdone")}),c.on("reset",function(){m.trigger("reset")}),c.on("endedtimeline",function(){m.trigger("endedtimeline")}),this.flush=function(){c.flush()},this.partialFlush=function(){c.partialFlush()},this.reset=function(){c.reset()},this.endTimeline=function(){c.endTimeline()},A=function(I,R){var V=8,Y=8,ee,W;for(ee=0;ee<I;ee++)Y!==0&&(W=R.readExpGolomb(),Y=(V+W+256)%256),V=Y===0?V:Y},b=function(I){for(var R=I.byteLength,V=[],Y=1,ee,W;Y<R-2;)I[Y]===0&&I[Y+1]===0&&I[Y+2]===3?(V.push(Y+2),Y+=2):Y++;if(V.length===0)return I;ee=R-V.length,W=new Uint8Array(ee);var ae=0;for(Y=0;Y<ee;ae++,Y++)ae===V[0]&&(ae++,V.shift()),W[Y]=I[ae];return W},k=function(I){var R=0,V=0,Y=0,ee=0,W,ae,We,mt,On,gd,_m,Tm,Sm,vd,xm,Be=[1,1],bm,Dn;if(W=new nb(I),ae=W.readUnsignedByte(),mt=W.readUnsignedByte(),We=W.readUnsignedByte(),W.skipUnsignedExpGolomb(),em[ae]&&(On=W.readUnsignedExpGolomb(),On===3&&W.skipBits(1),W.skipUnsignedExpGolomb(),W.skipUnsignedExpGolomb(),W.skipBits(1),W.readBoolean()))for(xm=On!==3?8:12,Dn=0;Dn<xm;Dn++)W.readBoolean()&&(Dn<6?A(16,W):A(64,W));if(W.skipUnsignedExpGolomb(),gd=W.readUnsignedExpGolomb(),gd===0)W.readUnsignedExpGolomb();else if(gd===1)for(W.skipBits(1),W.skipExpGolomb(),W.skipExpGolomb(),_m=W.readUnsignedExpGolomb(),Dn=0;Dn<_m;Dn++)W.skipExpGolomb();if(W.skipUnsignedExpGolomb(),W.skipBits(1),Tm=W.readUnsignedExpGolomb(),Sm=W.readUnsignedExpGolomb(),vd=W.readBits(1),vd===0&&W.skipBits(1),W.skipBits(1),W.readBoolean()&&(R=W.readUnsignedExpGolomb(),V=W.readUnsignedExpGolomb(),Y=W.readUnsignedExpGolomb(),ee=W.readUnsignedExpGolomb()),W.readBoolean()&&W.readBoolean()){switch(bm=W.readUnsignedByte(),bm){case 1:Be=[1,1];break;case 2:Be=[12,11];break;case 3:Be=[10,11];break;case 4:Be=[16,11];break;case 5:Be=[40,33];break;case 6:Be=[24,11];break;case 7:Be=[20,11];break;case 8:Be=[32,11];break;case 9:Be=[80,33];break;case 10:Be=[18,11];break;case 11:Be=[15,11];break;case 12:Be=[64,33];break;case 13:Be=[160,99];break;case 14:Be=[4,3];break;case 15:Be=[3,2];break;case 16:Be=[2,1];break;case 255:{Be=[W.readUnsignedByte()<<8|W.readUnsignedByte(),W.readUnsignedByte()<<8|W.readUnsignedByte()];break}}Be&&Be[0]/Be[1]}return{profileIdc:ae,levelIdc:We,profileCompatibility:mt,width:(Tm+1)*16-R*2-V*2,height:(2-vd)*(Sm+1)*16-Y*2-ee*2,sarRatio:Be}}},Lo.prototype=new e;var ib={H264Stream:Lo,NalByteStream:Pa},ab=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],tm=function(c,m){var p=c[m+6]<<21|c[m+7]<<14|c[m+8]<<7|c[m+9],g=c[m+5],T=(g&16)>>4;return p=p>=0?p:0,T?p+20:p+10},sb=function w(c,m){return c.length-m<10||c[m]!=="I".charCodeAt(0)||c[m+1]!=="D".charCodeAt(0)||c[m+2]!=="3".charCodeAt(0)?m:(m+=tm(c,m),w(c,m))},ob=function(c){var m=sb(c,0);return c.length>=m+2&&(c[m]&255)===255&&(c[m+1]&240)===240&&(c[m+1]&22)===16},rm=function(c){return c[0]<<21|c[1]<<14|c[2]<<7|c[3]},lb=function(c,m,p){var g,T="";for(g=m;g<p;g++)T+="%"+("00"+c[g].toString(16)).slice(-2);return T},ub=function(c,m,p){return unescape(lb(c,m,p))},db=function(c,m){var p=(c[m+5]&224)>>5,g=c[m+4]<<3,T=c[m+3]&3<<11;return T|g|p},cb=function(c,m){return c[m]==="I".charCodeAt(0)&&c[m+1]==="D".charCodeAt(0)&&c[m+2]==="3".charCodeAt(0)?"timed-metadata":c[m]&!0&&(c[m+1]&240)===240?"audio":null},fb=function(c){for(var m=0;m+5<c.length;){if(c[m]!==255||(c[m+1]&246)!==240){m++;continue}return ab[(c[m+2]&60)>>>2]}return null},hb=function(c){var m,p,g,T;m=10,c[5]&64&&(m+=4,m+=rm(c.subarray(10,14)));do{if(p=rm(c.subarray(m+4,m+8)),p<1)return null;if(T=String.fromCharCode(c[m],c[m+1],c[m+2],c[m+3]),T==="PRIV"){g=c.subarray(m+10,m+p+10);for(var b=0;b<g.byteLength;b++)if(g[b]===0){var k=ub(g,0,b);if(k==="com.apple.streaming.transportStreamTimestamp"){var A=g.subarray(b+1),O=(A[3]&1)<<30|A[4]<<22|A[5]<<14|A[6]<<6|A[7]>>>2;return O*=4,O+=A[7]&3,O}break}}m+=10,m+=p}while(m<c.byteLength);return null},Oo={isLikelyAacData:ob,parseId3TagSize:tm,parseAdtsSize:db,parseType:cb,parseSampleRate:fb,parseAacTimestamp:hb},Do;Do=function(){var c=new Uint8Array,m=0;Do.prototype.init.call(this),this.setTimestamp=function(p){m=p},this.push=function(p){var g=0,T=0,b,k,A,O;for(c.length?(O=c.length,c=new Uint8Array(p.byteLength+O),c.set(c.subarray(0,O)),c.set(p,O)):c=p;c.length-T>=3;){if(c[T]==="I".charCodeAt(0)&&c[T+1]==="D".charCodeAt(0)&&c[T+2]==="3".charCodeAt(0)){if(c.length-T<10||(g=Oo.parseId3TagSize(c,T),T+g>c.length))break;k={type:"timed-metadata",data:c.subarray(T,T+g)},this.trigger("data",k),T+=g;continue}else if((c[T]&255)===255&&(c[T+1]&240)===240){if(c.length-T<7||(g=Oo.parseAdtsSize(c,T),T+g>c.length))break;A={type:"audio",data:c.subarray(T,T+g),pts:m,dts:m},this.trigger("data",A),T+=g;continue}T++}b=c.length-T,b>0?c=c.subarray(T):c=new Uint8Array},this.reset=function(){c=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){c=new Uint8Array,this.trigger("endedtimeline")}},Do.prototype=new e;var pb=Do,mb=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],cd=mb,gb=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],fd=gb,vb=ib.H264Stream,yb=Oo.isLikelyAacData,_b=_e.ONE_SECOND_IN_TS,Aa,di,Mo,An,Tb=function(c,m){m.stream=c,this.trigger("log",m)},nm=function(c,m){for(var p=Object.keys(m),g=0;g<p.length;g++){var T=p[g];T==="headOfPipeline"||!m[T].on||m[T].on("log",Tb.bind(c,T))}},im=function(c,m){var p;if(c.length!==m.length)return!1;for(p=0;p<c.length;p++)if(c[p]!==m[p])return!1;return!0},hd=function(c,m,p,g,T,b){var k=p-m,A=g-m,O=T-p;return{start:{dts:c,pts:c+k},end:{dts:c+A,pts:c+O},prependedContentDuration:b,baseMediaDecodeTime:c}};di=function(c,m){var p=[],g,T=0,b=0,k=1/0;m=m||{},g=m.firstSequenceNumber||0,di.prototype.init.call(this),this.push=function(A){rr.collectDtsInfo(c,A),c&&cd.forEach(function(O){c[O]=A[O]}),p.push(A)},this.setEarliestDts=function(A){T=A},this.setVideoBaseMediaDecodeTime=function(A){k=A},this.setAudioAppendStart=function(A){b=A},this.flush=function(){var A,O,I,R,V,Y,ee;if(p.length===0){this.trigger("done","AudioSegmentStream");return}A=_o.trimAdtsFramesByEarliestDts(p,c,T),c.baseMediaDecodeTime=rr.calculateTrackBaseMediaDecodeTime(c,m.keepOriginalTimestamps),ee=_o.prefixWithSilence(c,A,b,k),c.samples=_o.generateSampleTable(A),I=ie.mdat(_o.concatenateFrameData(A)),p=[],O=ie.moof(g,[c]),R=new Uint8Array(O.byteLength+I.byteLength),g++,R.set(O),R.set(I,O.byteLength),rr.clearDtsInfo(c),V=Math.ceil(_b*1024/c.samplerate),A.length&&(Y=A.length*V,this.trigger("segmentTimingInfo",hd(_e.audioTsToVideoTs(c.baseMediaDecodeTime,c.samplerate),A[0].dts,A[0].pts,A[0].dts+Y,A[0].pts+Y,ee||0)),this.trigger("timingInfo",{start:A[0].pts,end:A[0].pts+Y})),this.trigger("data",{track:c,boxes:R}),this.trigger("done","AudioSegmentStream")},this.reset=function(){rr.clearDtsInfo(c),p=[],this.trigger("reset")}},di.prototype=new e,Aa=function(c,m){var p,g=[],T=[],b,k;m=m||{},p=m.firstSequenceNumber||0,Aa.prototype.init.call(this),delete c.minPTS,this.gopCache_=[],this.push=function(A){rr.collectDtsInfo(c,A),A.nalUnitType==="seq_parameter_set_rbsp"&&!b&&(b=A.config,c.sps=[A.data],fd.forEach(function(O){c[O]=b[O]},this)),A.nalUnitType==="pic_parameter_set_rbsp"&&!k&&(k=A.data,c.pps=[A.data]),g.push(A)},this.flush=function(){for(var A,O,I,R,V,Y,ee=0,W,ae;g.length&&g[0].nalUnitType!=="access_unit_delimiter_rbsp";)g.shift();if(g.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(A=Pr.groupNalsIntoFrames(g),I=Pr.groupFramesIntoGops(A),I[0][0].keyFrame||(O=this.getGopForFusion_(g[0],c),O?(ee=O.duration,I.unshift(O),I.byteLength+=O.byteLength,I.nalCount+=O.nalCount,I.pts=O.pts,I.dts=O.dts,I.duration+=O.duration):I=Pr.extendFirstKeyFrame(I)),T.length){var We;if(m.alignGopsAtEnd?We=this.alignGopsAtEnd_(I):We=this.alignGopsAtStart_(I),!We){this.gopCache_.unshift({gop:I.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}rr.clearDtsInfo(c),I=We}rr.collectDtsInfo(c,I),c.samples=Pr.generateSampleTable(I),V=ie.mdat(Pr.concatenateNalData(I)),c.baseMediaDecodeTime=rr.calculateTrackBaseMediaDecodeTime(c,m.keepOriginalTimestamps),this.trigger("processedGopsInfo",I.map(function(mt){return{pts:mt.pts,dts:mt.dts,byteLength:mt.byteLength}})),W=I[0],ae=I[I.length-1],this.trigger("segmentTimingInfo",hd(c.baseMediaDecodeTime,W.dts,W.pts,ae.dts+ae.duration,ae.pts+ae.duration,ee)),this.trigger("timingInfo",{start:I[0].pts,end:I[I.length-1].pts+I[I.length-1].duration}),this.gopCache_.unshift({gop:I.pop(),pps:c.pps,sps:c.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),g=[],this.trigger("baseMediaDecodeTime",c.baseMediaDecodeTime),this.trigger("timelineStartInfo",c.timelineStartInfo),R=ie.moof(p,[c]),Y=new Uint8Array(R.byteLength+V.byteLength),p++,Y.set(R),Y.set(V,R.byteLength),this.trigger("data",{track:c,boxes:Y}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),g=[],this.gopCache_.length=0,T.length=0,this.trigger("reset")},this.resetStream_=function(){rr.clearDtsInfo(c),b=void 0,k=void 0},this.getGopForFusion_=function(A){var O=45e3,I=1e4,R=1/0,V,Y,ee,W,ae;for(ae=0;ae<this.gopCache_.length;ae++)W=this.gopCache_[ae],ee=W.gop,!(!(c.pps&&im(c.pps[0],W.pps[0]))||!(c.sps&&im(c.sps[0],W.sps[0])))&&(ee.dts<c.timelineStartInfo.dts||(V=A.dts-ee.dts-ee.duration,V>=-I&&V<=O&&(!Y||R>V)&&(Y=W,R=V)));return Y?Y.gop:null},this.alignGopsAtStart_=function(A){var O,I,R,V,Y,ee,W,ae;for(Y=A.byteLength,ee=A.nalCount,W=A.duration,O=I=0;O<T.length&&I<A.length&&(R=T[O],V=A[I],R.pts!==V.pts);){if(V.pts>R.pts){O++;continue}I++,Y-=V.byteLength,ee-=V.nalCount,W-=V.duration}return I===0?A:I===A.length?null:(ae=A.slice(I),ae.byteLength=Y,ae.duration=W,ae.nalCount=ee,ae.pts=ae[0].pts,ae.dts=ae[0].dts,ae)},this.alignGopsAtEnd_=function(A){var O,I,R,V,Y,ee;for(O=T.length-1,I=A.length-1,Y=null,ee=!1;O>=0&&I>=0;){if(R=T[O],V=A[I],R.pts===V.pts){ee=!0;break}if(R.pts>V.pts){O--;continue}O===T.length-1&&(Y=I),I--}if(!ee&&Y===null)return null;var W;if(ee?W=I:W=Y,W===0)return A;var ae=A.slice(W),We=ae.reduce(function(mt,On){return mt.byteLength+=On.byteLength,mt.duration+=On.duration,mt.nalCount+=On.nalCount,mt},{byteLength:0,duration:0,nalCount:0});return ae.byteLength=We.byteLength,ae.duration=We.duration,ae.nalCount=We.nalCount,ae.pts=ae[0].pts,ae.dts=ae[0].dts,ae},this.alignGopsWith=function(A){T=A}},Aa.prototype=new e,An=function(c,m){this.numberOfTracks=0,this.metadataStream=m,c=c||{},typeof c.remux!="undefined"?this.remuxTracks=!!c.remux:this.remuxTracks=!0,typeof c.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=c.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,An.prototype.init.call(this),this.push=function(p){if(p.text)return this.pendingCaptions.push(p);if(p.frames)return this.pendingMetadata.push(p);this.pendingTracks.push(p.track),this.pendingBytes+=p.boxes.byteLength,p.track.type==="video"&&(this.videoTrack=p.track,this.pendingBoxes.push(p.boxes)),p.track.type==="audio"&&(this.audioTrack=p.track,this.pendingBoxes.unshift(p.boxes))}},An.prototype=new e,An.prototype.flush=function(w){var c=0,m={captions:[],captionStreams:{},metadata:[],info:{}},p,g,T,b=0,k;if(this.pendingTracks.length<this.numberOfTracks){if(w!=="VideoSegmentStream"&&w!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(b=this.videoTrack.timelineStartInfo.pts,fd.forEach(function(A){m.info[A]=this.videoTrack[A]},this)):this.audioTrack&&(b=this.audioTrack.timelineStartInfo.pts,cd.forEach(function(A){m.info[A]=this.audioTrack[A]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?m.type=this.pendingTracks[0].type:m.type="combined",this.emittedTracks+=this.pendingTracks.length,T=ie.initSegment(this.pendingTracks),m.initSegment=new Uint8Array(T.byteLength),m.initSegment.set(T),m.data=new Uint8Array(this.pendingBytes),k=0;k<this.pendingBoxes.length;k++)m.data.set(this.pendingBoxes[k],c),c+=this.pendingBoxes[k].byteLength;for(k=0;k<this.pendingCaptions.length;k++)p=this.pendingCaptions[k],p.startTime=_e.metadataTsToSeconds(p.startPts,b,this.keepOriginalTimestamps),p.endTime=_e.metadataTsToSeconds(p.endPts,b,this.keepOriginalTimestamps),m.captionStreams[p.stream]=!0,m.captions.push(p);for(k=0;k<this.pendingMetadata.length;k++)g=this.pendingMetadata[k],g.cueTime=_e.metadataTsToSeconds(g.pts,b,this.keepOriginalTimestamps),m.metadata.push(g);for(m.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",m),k=0;k<m.captions.length;k++)p=m.captions[k],this.trigger("caption",p);for(k=0;k<m.metadata.length;k++)g=m.metadata[k],this.trigger("id3Frame",g)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},An.prototype.setRemux=function(w){this.remuxTracks=w},Mo=function(c){var m=this,p=!0,g,T;Mo.prototype.init.call(this),c=c||{},this.baseMediaDecodeTime=c.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var b={};this.transmuxPipeline_=b,b.type="aac",b.metadataStream=new Ir.MetadataStream,b.aacStream=new pb,b.audioTimestampRolloverStream=new Ir.TimestampRolloverStream("audio"),b.timedMetadataTimestampRolloverStream=new Ir.TimestampRolloverStream("timed-metadata"),b.adtsStream=new Zp,b.coalesceStream=new An(c,b.metadataStream),b.headOfPipeline=b.aacStream,b.aacStream.pipe(b.audioTimestampRolloverStream).pipe(b.adtsStream),b.aacStream.pipe(b.timedMetadataTimestampRolloverStream).pipe(b.metadataStream).pipe(b.coalesceStream),b.metadataStream.on("timestamp",function(k){b.aacStream.setTimestamp(k.timeStamp)}),b.aacStream.on("data",function(k){k.type!=="timed-metadata"&&k.type!=="audio"||b.audioSegmentStream||(T=T||{timelineStartInfo:{baseMediaDecodeTime:m.baseMediaDecodeTime},codec:"adts",type:"audio"},b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new di(T,c),b.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),b.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream),m.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!g}))}),b.coalesceStream.on("data",this.trigger.bind(this,"data")),b.coalesceStream.on("done",this.trigger.bind(this,"done")),nm(this,b)},this.setupTsPipeline=function(){var b={};this.transmuxPipeline_=b,b.type="ts",b.metadataStream=new Ir.MetadataStream,b.packetStream=new Ir.TransportPacketStream,b.parseStream=new Ir.TransportParseStream,b.elementaryStream=new Ir.ElementaryStream,b.timestampRolloverStream=new Ir.TimestampRolloverStream,b.adtsStream=new Zp,b.h264Stream=new vb,b.captionStream=new Ir.CaptionStream(c),b.coalesceStream=new An(c,b.metadataStream),b.headOfPipeline=b.packetStream,b.packetStream.pipe(b.parseStream).pipe(b.elementaryStream).pipe(b.timestampRolloverStream),b.timestampRolloverStream.pipe(b.h264Stream),b.timestampRolloverStream.pipe(b.adtsStream),b.timestampRolloverStream.pipe(b.metadataStream).pipe(b.coalesceStream),b.h264Stream.pipe(b.captionStream).pipe(b.coalesceStream),b.elementaryStream.on("data",function(k){var A;if(k.type==="metadata"){for(A=k.tracks.length;A--;)!g&&k.tracks[A].type==="video"?(g=k.tracks[A],g.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime):!T&&k.tracks[A].type==="audio"&&(T=k.tracks[A],T.timelineStartInfo.baseMediaDecodeTime=m.baseMediaDecodeTime);g&&!b.videoSegmentStream&&(b.coalesceStream.numberOfTracks++,b.videoSegmentStream=new Aa(g,c),b.videoSegmentStream.on("log",m.getLogTrigger_("videoSegmentStream")),b.videoSegmentStream.on("timelineStartInfo",function(O){T&&!c.keepOriginalTimestamps&&(T.timelineStartInfo=O,b.audioSegmentStream.setEarliestDts(O.dts-m.baseMediaDecodeTime))}),b.videoSegmentStream.on("processedGopsInfo",m.trigger.bind(m,"gopInfo")),b.videoSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"videoSegmentTimingInfo")),b.videoSegmentStream.on("baseMediaDecodeTime",function(O){T&&b.audioSegmentStream.setVideoBaseMediaDecodeTime(O)}),b.videoSegmentStream.on("timingInfo",m.trigger.bind(m,"videoTimingInfo")),b.h264Stream.pipe(b.videoSegmentStream).pipe(b.coalesceStream)),T&&!b.audioSegmentStream&&(b.coalesceStream.numberOfTracks++,b.audioSegmentStream=new di(T,c),b.audioSegmentStream.on("log",m.getLogTrigger_("audioSegmentStream")),b.audioSegmentStream.on("timingInfo",m.trigger.bind(m,"audioTimingInfo")),b.audioSegmentStream.on("segmentTimingInfo",m.trigger.bind(m,"audioSegmentTimingInfo")),b.adtsStream.pipe(b.audioSegmentStream).pipe(b.coalesceStream)),m.trigger("trackinfo",{hasAudio:!!T,hasVideo:!!g})}}),b.coalesceStream.on("data",this.trigger.bind(this,"data")),b.coalesceStream.on("id3Frame",function(k){k.dispatchType=b.metadataStream.dispatchType,m.trigger("id3Frame",k)}),b.coalesceStream.on("caption",this.trigger.bind(this,"caption")),b.coalesceStream.on("done",this.trigger.bind(this,"done")),nm(this,b)},this.setBaseMediaDecodeTime=function(b){var k=this.transmuxPipeline_;c.keepOriginalTimestamps||(this.baseMediaDecodeTime=b),T&&(T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,rr.clearDtsInfo(T),k.audioTimestampRolloverStream&&k.audioTimestampRolloverStream.discontinuity()),g&&(k.videoSegmentStream&&(k.videoSegmentStream.gopCache_=[]),g.timelineStartInfo.dts=void 0,g.timelineStartInfo.pts=void 0,rr.clearDtsInfo(g),k.captionStream.reset()),k.timestampRolloverStream&&k.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(b){T&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(b)},this.setRemux=function(b){var k=this.transmuxPipeline_;c.remux=b,k&&k.coalesceStream&&k.coalesceStream.setRemux(b)},this.alignGopsWith=function(b){g&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(b)},this.getLogTrigger_=function(b){var k=this;return function(A){A.stream=b,k.trigger("log",A)}},this.push=function(b){if(p){var k=yb(b);k&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!k&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),p=!1}this.transmuxPipeline_.headOfPipeline.push(b)},this.flush=function(){p=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Mo.prototype=new e;var Sb={Transmuxer:Mo,VideoSegmentStream:Aa,AudioSegmentStream:di,AUDIO_PROPERTIES:cd,VIDEO_PROPERTIES:fd,generateSegmentTimingInfo:hd},xb=function(c){return c>>>0},bb=function(c){return("00"+c.toString(16)).slice(-2)},Ro={toUnsigned:xb,toHexString:bb},Eb=function(c){var m="";return m+=String.fromCharCode(c[0]),m+=String.fromCharCode(c[1]),m+=String.fromCharCode(c[2]),m+=String.fromCharCode(c[3]),m},In=Eb,wb=Ro.toUnsigned,Cb=function w(c,m){var p=[],g,T,b,k,A;if(!m.length)return null;for(g=0;g<c.byteLength;)T=wb(c[g]<<24|c[g+1]<<16|c[g+2]<<8|c[g+3]),b=In(c.subarray(g+4,g+8)),k=T>1?g+T:c.byteLength,b===m[0]&&(m.length===1?p.push(c.subarray(g+8,k)):(A=w(c.subarray(g+8,k),m.slice(1)),A.length&&(p=p.concat(A)))),g=k;return p},ke=Cb,am=Ro.toUnsigned,kb=function(c){var m={version:c[0],flags:new Uint8Array(c.subarray(1,4)),baseMediaDecodeTime:am(c[4]<<24|c[5]<<16|c[6]<<8|c[7])};return m.version===1&&(m.baseMediaDecodeTime*=Math.pow(2,32),m.baseMediaDecodeTime+=am(c[8]<<24|c[9]<<16|c[10]<<8|c[11])),m},sm=kb,Pb=function(c){return{isLeading:(c[0]&12)>>>2,dependsOn:c[0]&3,isDependedOn:(c[1]&192)>>>6,hasRedundancy:(c[1]&48)>>>4,paddingValue:(c[1]&14)>>>1,isNonSyncSample:c[1]&1,degradationPriority:c[2]<<8|c[3]}},om=Pb,Ab=function(c){var m={version:c[0],flags:new Uint8Array(c.subarray(1,4)),samples:[]},p=new DataView(c.buffer,c.byteOffset,c.byteLength),g=m.flags[2]&1,T=m.flags[2]&4,b=m.flags[1]&1,k=m.flags[1]&2,A=m.flags[1]&4,O=m.flags[1]&8,I=p.getUint32(4),R=8,V;for(g&&(m.dataOffset=p.getInt32(R),R+=4),T&&I&&(V={flags:om(c.subarray(R,R+4))},R+=4,b&&(V.duration=p.getUint32(R),R+=4),k&&(V.size=p.getUint32(R),R+=4),O&&(m.version===1?V.compositionTimeOffset=p.getInt32(R):V.compositionTimeOffset=p.getUint32(R),R+=4),m.samples.push(V),I--);I--;)V={},b&&(V.duration=p.getUint32(R),R+=4),k&&(V.size=p.getUint32(R),R+=4),A&&(V.flags=om(c.subarray(R,R+4)),R+=4),O&&(m.version===1?V.compositionTimeOffset=p.getInt32(R):V.compositionTimeOffset=p.getUint32(R),R+=4),m.samples.push(V);return m},lm=Ab,Ib=function(c){var m=new DataView(c.buffer,c.byteOffset,c.byteLength),p={version:c[0],flags:new Uint8Array(c.subarray(1,4)),trackId:m.getUint32(4)},g=p.flags[2]&1,T=p.flags[2]&2,b=p.flags[2]&8,k=p.flags[2]&16,A=p.flags[2]&32,O=p.flags[0]&65536,I=p.flags[0]&131072,R;return R=8,g&&(R+=4,p.baseDataOffset=m.getUint32(12),R+=4),T&&(p.sampleDescriptionIndex=m.getUint32(R),R+=4),b&&(p.defaultSampleDuration=m.getUint32(R),R+=4),k&&(p.defaultSampleSize=m.getUint32(R),R+=4),A&&(p.defaultSampleFlags=m.getUint32(R)),O&&(p.durationIsEmpty=!0),!g&&I&&(p.baseDataOffsetIsMoof=!0),p},um=Ib,Lb=Ca.discardEmulationPreventionBytes,Ob=Eo.CaptionStream,Db=function(c,m){for(var p=c,g=0;g<m.length;g++){var T=m[g];if(p<T.size)return T;p-=T.size}return null},Mb=function(c,m,p){var g=new DataView(c.buffer,c.byteOffset,c.byteLength),T={logs:[],seiNals:[]},b,k,A,O;for(k=0;k+4<c.length;k+=A)if(A=g.getUint32(k),k+=4,!(A<=0))switch(c[k]&31){case 6:var I=c.subarray(k+1,k+1+A),R=Db(k,m);if(b={nalUnitType:"sei_rbsp",size:A,data:I,escapedRBSP:Lb(I),trackId:p},R)b.pts=R.pts,b.dts=R.dts,O=R;else if(O)b.pts=O.pts,b.dts=O.dts;else{T.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+k+" for trackId "+p+". See mux.js#223."});break}T.seiNals.push(b);break}return T},Rb=function(c,m,p){var g=m,T=p.defaultSampleDuration||0,b=p.defaultSampleSize||0,k=p.trackId,A=[];return c.forEach(function(O){var I=lm(O),R=I.samples;R.forEach(function(V){V.duration===void 0&&(V.duration=T),V.size===void 0&&(V.size=b),V.trackId=k,V.dts=g,V.compositionTimeOffset===void 0&&(V.compositionTimeOffset=0),V.pts=g+V.compositionTimeOffset,g+=V.duration}),A=A.concat(R)}),A},Nb=function(c,m){var p=ke(c,["moof","traf"]),g=ke(c,["mdat"]),T={},b=[];return g.forEach(function(k,A){var O=p[A];b.push({mdat:k,traf:O})}),b.forEach(function(k){var A=k.mdat,O=k.traf,I=ke(O,["tfhd"]),R=um(I[0]),V=R.trackId,Y=ke(O,["tfdt"]),ee=Y.length>0?sm(Y[0]).baseMediaDecodeTime:0,W=ke(O,["trun"]),ae,We;m===V&&W.length>0&&(ae=Rb(W,ee,R),We=Mb(A,ae,V),T[V]||(T[V]={seiNals:[],logs:[]}),T[V].seiNals=T[V].seiNals.concat(We.seiNals),T[V].logs=T[V].logs.concat(We.logs))}),T},Fb=function(c,m,p){var g;if(m===null)return null;g=Nb(c,m);var T=g[m]||{};return{seiNals:T.seiNals,logs:T.logs,timescale:p}},Ub=function(){var c=!1,m,p,g,T,b,k;this.isInitialized=function(){return c},this.init=function(A){m=new Ob,c=!0,k=A?A.isPartial:!1,m.on("data",function(O){O.startTime=O.startPts/T,O.endTime=O.endPts/T,b.captions.push(O),b.captionStreams[O.stream]=!0}),m.on("log",function(O){b.logs.push(O)})},this.isNewInit=function(A,O){return A&&A.length===0||O&&typeof O=="object"&&Object.keys(O).length===0?!1:g!==A[0]||T!==O[g]},this.parse=function(A,O,I){var R;if(this.isInitialized()){if(!O||!I)return null;if(this.isNewInit(O,I))g=O[0],T=I[g];else if(g===null||!T)return p.push(A),null}else return null;for(;p.length>0;){var V=p.shift();this.parse(V,O,I)}return R=Fb(A,g,T),R&&R.logs&&(b.logs=b.logs.concat(R.logs)),R===null||!R.seiNals?b.logs.length?{logs:b.logs,captions:[],captionStreams:[]}:null:(this.pushNals(R.seiNals),this.flushStream(),b)},this.pushNals=function(A){if(!this.isInitialized()||!A||A.length===0)return null;A.forEach(function(O){m.push(O)})},this.flushStream=function(){if(!this.isInitialized())return null;k?m.partialFlush():m.flush()},this.clearParsedCaptions=function(){b.captions=[],b.captionStreams={},b.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;m.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){p=[],g=null,T=null,b?this.clearParsedCaptions():b={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Bb=Ub,ci=Ro.toUnsigned,Ia=Ro.toHexString,dm,cm,fm,hm,pm,pd;dm=function(c){var m={},p=ke(c,["moov","trak"]);return p.reduce(function(g,T){var b,k,A,O,I;return b=ke(T,["tkhd"])[0],!b||(k=b[0],A=k===0?12:20,O=ci(b[A]<<24|b[A+1]<<16|b[A+2]<<8|b[A+3]),I=ke(T,["mdia","mdhd"])[0],!I)?null:(k=I[0],A=k===0?12:20,g[O]=ci(I[A]<<24|I[A+1]<<16|I[A+2]<<8|I[A+3]),g)},m)},cm=function(c,m){var p,g,T;return p=ke(m,["moof","traf"]),g=[].concat.apply([],p.map(function(b){return ke(b,["tfhd"]).map(function(k){var A,O,I;return A=ci(k[4]<<24|k[5]<<16|k[6]<<8|k[7]),O=c[A]||9e4,I=ke(b,["tfdt"]).map(function(R){var V,Y;return V=R[0],Y=ci(R[4]<<24|R[5]<<16|R[6]<<8|R[7]),V===1&&(Y*=Math.pow(2,32),Y+=ci(R[8]<<24|R[9]<<16|R[10]<<8|R[11])),Y})[0],I=typeof I=="number"&&!isNaN(I)?I:1/0,I/O})})),T=Math.min.apply(null,g),isFinite(T)?T:0},fm=function(c,m){var p=ke(m,["moof","traf"]),g=0,T=0,b;if(p&&p.length){var k=ke(p[0],["tfhd"])[0],A=ke(p[0],["trun"])[0],O=ke(p[0],["tfdt"])[0];if(k){var I=um(k);b=I.trackId}if(O){var R=sm(O);g=R.baseMediaDecodeTime}if(A){var V=lm(A);V.samples&&V.samples.length&&(T=V.samples[0].compositionTimeOffset||0)}}var Y=c[b]||9e4;return(g+T)/Y},hm=function(c){var m=ke(c,["moov","trak"]),p=[];return m.forEach(function(g){var T=ke(g,["mdia","hdlr"]),b=ke(g,["tkhd"]);T.forEach(function(k,A){var O=In(k.subarray(8,12)),I=b[A],R,V,Y;O==="vide"&&(R=new DataView(I.buffer,I.byteOffset,I.byteLength),V=R.getUint8(0),Y=V===0?R.getUint32(12):R.getUint32(20),p.push(Y))})}),p},pd=function(c){var m=c[0],p=m===0?12:20;return ci(c[p]<<24|c[p+1]<<16|c[p+2]<<8|c[p+3])},pm=function(c){var m=ke(c,["moov","trak"]),p=[];return m.forEach(function(g){var T={},b=ke(g,["tkhd"])[0],k,A;b&&(k=new DataView(b.buffer,b.byteOffset,b.byteLength),A=k.getUint8(0),T.id=A===0?k.getUint32(12):k.getUint32(20));var O=ke(g,["mdia","hdlr"])[0];if(O){var I=In(O.subarray(8,12));I==="vide"?T.type="video":I==="soun"?T.type="audio":T.type=I}var R=ke(g,["mdia","minf","stbl","stsd"])[0];if(R){var V=R.subarray(8);T.codec=In(V.subarray(4,8));var Y=ke(V,[T.codec])[0],ee,W;Y&&(/^[asm]vc[1-9]$/i.test(T.codec)?(ee=Y.subarray(78),W=In(ee.subarray(4,8)),W==="avcC"&&ee.length>11?(T.codec+=".",T.codec+=Ia(ee[9]),T.codec+=Ia(ee[10]),T.codec+=Ia(ee[11])):T.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(T.codec)?(ee=Y.subarray(28),W=In(ee.subarray(4,8)),W==="esds"&&ee.length>20&&ee[19]!==0?(T.codec+="."+Ia(ee[19]),T.codec+="."+Ia(ee[20]>>>2&63).replace(/^0/,"")):T.codec="mp4a.40.2"):T.codec=T.codec.toLowerCase())}var ae=ke(g,["mdia","mdhd"])[0];ae&&(T.timescale=pd(ae)),p.push(T)}),p};var mm={findBox:ke,parseType:In,timescale:dm,startTime:cm,compositionStartTime:fm,videoTrackIds:hm,tracks:pm,getTimescaleFromMediaHeader:pd},gm=function(c){var m=c[1]&31;return m<<=8,m|=c[2],m},No=function(c){return!!(c[1]&64)},Fo=function(c){var m=0;return(c[3]&48)>>>4>1&&(m+=c[4]+1),m},jb=function(c,m){var p=gm(c);return p===0?"pat":p===m?"pmt":m?"pes":null},Vb=function(c){var m=No(c),p=4+Fo(c);return m&&(p+=c[p]+1),(c[p+10]&31)<<8|c[p+11]},Hb=function(c){var m={},p=No(c),g=4+Fo(c);if(p&&(g+=c[g]+1),!!(c[g+5]&1)){var T,b,k;T=(c[g+1]&15)<<8|c[g+2],b=3+T-4,k=(c[g+10]&15)<<8|c[g+11];for(var A=12+k;A<b;){var O=g+A;m[(c[O+1]&31)<<8|c[O+2]]=c[O],A+=((c[O+3]&15)<<8|c[O+4])+5}return m}},zb=function(c,m){var p=gm(c),g=m[p];switch(g){case Je.H264_STREAM_TYPE:return"video";case Je.ADTS_STREAM_TYPE:return"audio";case Je.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Wb=function(c){var m=No(c);if(!m)return null;var p=4+Fo(c);if(p>=c.byteLength)return null;var g=null,T;return T=c[p+7],T&192&&(g={},g.pts=(c[p+9]&14)<<27|(c[p+10]&255)<<20|(c[p+11]&254)<<12|(c[p+12]&255)<<5|(c[p+13]&254)>>>3,g.pts*=4,g.pts+=(c[p+13]&6)>>>1,g.dts=g.pts,T&64&&(g.dts=(c[p+14]&14)<<27|(c[p+15]&255)<<20|(c[p+16]&254)<<12|(c[p+17]&255)<<5|(c[p+18]&254)>>>3,g.dts*=4,g.dts+=(c[p+18]&6)>>>1)),g},md=function(c){switch(c){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},$b=function(c){for(var m=4+Fo(c),p=c.subarray(m),g=0,T=0,b=!1,k;T<p.byteLength-3;T++)if(p[T+2]===1){g=T+5;break}for(;g<p.byteLength;)switch(p[g]){case 0:if(p[g-1]!==0){g+=2;break}else if(p[g-2]!==0){g++;break}T+3!==g-2&&(k=md(p[T+3]&31),k==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0));do g++;while(p[g]!==1&&g<p.length);T=g-2,g+=3;break;case 1:if(p[g-1]!==0||p[g-2]!==0){g+=3;break}k=md(p[T+3]&31),k==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0),T=g-2,g+=3;break;default:g+=3;break}return p=p.subarray(T),g-=T,T=0,p&&p.byteLength>3&&(k=md(p[T+3]&31),k==="slice_layer_without_partitioning_rbsp_idr"&&(b=!0)),b},Gb={parseType:jb,parsePat:Vb,parsePmt:Hb,parsePayloadUnitStartIndicator:No,parsePesType:zb,parsePesTime:Wb,videoPacketContainsKeyFrame:$b},fi=qp.handleRollover,xe={};xe.ts=Gb,xe.aac=Oo;var Ln=_e.ONE_SECOND_IN_TS,pt=188,hr=71,qb=function(c,m){for(var p=0,g=pt,T,b;g<c.byteLength;){if(c[p]===hr&&c[g]===hr){switch(T=c.subarray(p,g),b=xe.ts.parseType(T,m.pid),b){case"pat":m.pid=xe.ts.parsePat(T);break;case"pmt":var k=xe.ts.parsePmt(T);m.table=m.table||{},Object.keys(k).forEach(function(A){m.table[A]=k[A]});break}p+=pt,g+=pt;continue}p++,g++}},vm=function(c,m,p){for(var g=0,T=pt,b,k,A,O,I,R=!1;T<=c.byteLength;){if(c[g]===hr&&(c[T]===hr||T===c.byteLength)){switch(b=c.subarray(g,T),k=xe.ts.parseType(b,m.pid),k){case"pes":A=xe.ts.parsePesType(b,m.table),O=xe.ts.parsePayloadUnitStartIndicator(b),A==="audio"&&O&&(I=xe.ts.parsePesTime(b),I&&(I.type="audio",p.audio.push(I),R=!0));break}if(R)break;g+=pt,T+=pt;continue}g++,T++}for(T=c.byteLength,g=T-pt,R=!1;g>=0;){if(c[g]===hr&&(c[T]===hr||T===c.byteLength)){switch(b=c.subarray(g,T),k=xe.ts.parseType(b,m.pid),k){case"pes":A=xe.ts.parsePesType(b,m.table),O=xe.ts.parsePayloadUnitStartIndicator(b),A==="audio"&&O&&(I=xe.ts.parsePesTime(b),I&&(I.type="audio",p.audio.push(I),R=!0));break}if(R)break;g-=pt,T-=pt;continue}g--,T--}},Xb=function(c,m,p){for(var g=0,T=pt,b,k,A,O,I,R,V,Y,ee=!1,W={data:[],size:0};T<c.byteLength;){if(c[g]===hr&&c[T]===hr){switch(b=c.subarray(g,T),k=xe.ts.parseType(b,m.pid),k){case"pes":if(A=xe.ts.parsePesType(b,m.table),O=xe.ts.parsePayloadUnitStartIndicator(b),A==="video"&&(O&&!ee&&(I=xe.ts.parsePesTime(b),I&&(I.type="video",p.video.push(I),ee=!0)),!p.firstKeyFrame)){if(O&&W.size!==0){for(R=new Uint8Array(W.size),V=0;W.data.length;)Y=W.data.shift(),R.set(Y,V),V+=Y.byteLength;if(xe.ts.videoPacketContainsKeyFrame(R)){var ae=xe.ts.parsePesTime(R);ae?(p.firstKeyFrame=ae,p.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}W.size=0}W.data.push(b),W.size+=b.byteLength}break}if(ee&&p.firstKeyFrame)break;g+=pt,T+=pt;continue}g++,T++}for(T=c.byteLength,g=T-pt,ee=!1;g>=0;){if(c[g]===hr&&c[T]===hr){switch(b=c.subarray(g,T),k=xe.ts.parseType(b,m.pid),k){case"pes":A=xe.ts.parsePesType(b,m.table),O=xe.ts.parsePayloadUnitStartIndicator(b),A==="video"&&O&&(I=xe.ts.parsePesTime(b),I&&(I.type="video",p.video.push(I),ee=!0));break}if(ee)break;g-=pt,T-=pt;continue}g--,T--}},Kb=function(c,m){if(c.audio&&c.audio.length){var p=m;(typeof p=="undefined"||isNaN(p))&&(p=c.audio[0].dts),c.audio.forEach(function(b){b.dts=fi(b.dts,p),b.pts=fi(b.pts,p),b.dtsTime=b.dts/Ln,b.ptsTime=b.pts/Ln})}if(c.video&&c.video.length){var g=m;if((typeof g=="undefined"||isNaN(g))&&(g=c.video[0].dts),c.video.forEach(function(b){b.dts=fi(b.dts,g),b.pts=fi(b.pts,g),b.dtsTime=b.dts/Ln,b.ptsTime=b.pts/Ln}),c.firstKeyFrame){var T=c.firstKeyFrame;T.dts=fi(T.dts,g),T.pts=fi(T.pts,g),T.dtsTime=T.dts/Ln,T.ptsTime=T.pts/Ln}}},Yb=function(c){for(var m=!1,p=0,g=null,T=null,b=0,k=0,A;c.length-k>=3;){var O=xe.aac.parseType(c,k);switch(O){case"timed-metadata":if(c.length-k<10){m=!0;break}if(b=xe.aac.parseId3TagSize(c,k),b>c.length){m=!0;break}T===null&&(A=c.subarray(k,k+b),T=xe.aac.parseAacTimestamp(A)),k+=b;break;case"audio":if(c.length-k<7){m=!0;break}if(b=xe.aac.parseAdtsSize(c,k),b>c.length){m=!0;break}g===null&&(A=c.subarray(k,k+b),g=xe.aac.parseSampleRate(A)),p++,k+=b;break;default:k++;break}if(m)return null}if(g===null||T===null)return null;var I=Ln/g,R={audio:[{type:"audio",dts:T,pts:T},{type:"audio",dts:T+p*1024*I,pts:T+p*1024*I}]};return R},Qb=function(c){var m={pid:null,table:null},p={};qb(c,m);for(var g in m.table)if(m.table.hasOwnProperty(g)){var T=m.table[g];switch(T){case Je.H264_STREAM_TYPE:p.video=[],Xb(c,m,p),p.video.length===0&&delete p.video;break;case Je.ADTS_STREAM_TYPE:p.audio=[],vm(c,m,p),p.audio.length===0&&delete p.audio;break}}return p},Zb=function(c,m){var p=xe.aac.isLikelyAacData(c),g;return p?g=Yb(c):g=Qb(c),!g||!g.audio&&!g.video?null:(Kb(g,m),g)},Jb={inspect:Zb,parseAudioPes_:vm},eE=function(c,m){m.on("data",function(p){var g=p.initSegment;p.initSegment={data:g.buffer,byteOffset:g.byteOffset,byteLength:g.byteLength};var T=p.data;p.data=T.buffer,c.postMessage({action:"data",segment:p,byteOffset:T.byteOffset,byteLength:T.byteLength},[p.data])}),m.on("done",function(p){c.postMessage({action:"done"})}),m.on("gopInfo",function(p){c.postMessage({action:"gopInfo",gopInfo:p})}),m.on("videoSegmentTimingInfo",function(p){var g={start:{decode:_e.videoTsToSeconds(p.start.dts),presentation:_e.videoTsToSeconds(p.start.pts)},end:{decode:_e.videoTsToSeconds(p.end.dts),presentation:_e.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:_e.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(g.prependedContentDuration=_e.videoTsToSeconds(p.prependedContentDuration)),c.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:g})}),m.on("audioSegmentTimingInfo",function(p){var g={start:{decode:_e.videoTsToSeconds(p.start.dts),presentation:_e.videoTsToSeconds(p.start.pts)},end:{decode:_e.videoTsToSeconds(p.end.dts),presentation:_e.videoTsToSeconds(p.end.pts)},baseMediaDecodeTime:_e.videoTsToSeconds(p.baseMediaDecodeTime)};p.prependedContentDuration&&(g.prependedContentDuration=_e.videoTsToSeconds(p.prependedContentDuration)),c.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:g})}),m.on("id3Frame",function(p){c.postMessage({action:"id3Frame",id3Frame:p})}),m.on("caption",function(p){c.postMessage({action:"caption",caption:p})}),m.on("trackinfo",function(p){c.postMessage({action:"trackinfo",trackInfo:p})}),m.on("audioTimingInfo",function(p){c.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:_e.videoTsToSeconds(p.start),end:_e.videoTsToSeconds(p.end)}})}),m.on("videoTimingInfo",function(p){c.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:_e.videoTsToSeconds(p.start),end:_e.videoTsToSeconds(p.end)}})}),m.on("log",function(p){c.postMessage({action:"log",log:p})})},ym=function(){function w(m,p){this.options=p||{},this.self=m,this.init()}var c=w.prototype;return c.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Sb.Transmuxer(this.options),eE(this.self,this.transmuxer)},c.pushMp4Captions=function(p){this.captionParser||(this.captionParser=new Bb,this.captionParser.init());var g=new Uint8Array(p.data,p.byteOffset,p.byteLength),T=this.captionParser.parse(g,p.trackIds,p.timescales);this.self.postMessage({action:"mp4Captions",captions:T&&T.captions||[],logs:T&&T.logs||[],data:g.buffer},[g.buffer])},c.probeMp4StartTime=function(p){var g=p.timescales,T=p.data,b=mm.startTime(g,T);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:T},[T.buffer])},c.probeMp4Tracks=function(p){var g=p.data,T=mm.tracks(g);this.self.postMessage({action:"probeMp4Tracks",tracks:T,data:g},[g.buffer])},c.probeTs=function(p){var g=p.data,T=p.baseStartTime,b=typeof T=="number"&&!isNaN(T)?T*_e.ONE_SECOND_IN_TS:void 0,k=Jb.inspect(g,b),A=null;k&&(A={hasVideo:k.video&&k.video.length===2||!1,hasAudio:k.audio&&k.audio.length===2||!1},A.hasVideo&&(A.videoStart=k.video[0].ptsTime),A.hasAudio&&(A.audioStart=k.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:A,data:g},[g.buffer])},c.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},c.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},c.push=function(p){var g=new Uint8Array(p.data,p.byteOffset,p.byteLength);this.transmuxer.push(g)},c.reset=function(){this.transmuxer.reset()},c.setTimestampOffset=function(p){var g=p.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(_e.secondsToVideoTs(g)))},c.setAudioAppendStart=function(p){this.transmuxer.setAudioAppendStart(Math.ceil(_e.secondsToVideoTs(p.appendStart)))},c.setRemux=function(p){this.transmuxer.setRemux(p.remux)},c.flush=function(p){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},c.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},c.alignGopsWith=function(p){this.transmuxer.alignGopsWith(p.gopsToAlignWith.slice())},w}();self.onmessage=function(w){if(w.data.action==="init"&&w.data.options){this.messageHandlers=new ym(self,w.data.options);return}this.messageHandlers||(this.messageHandlers=new ym(self)),w.data&&w.data.action&&w.data.action!=="init"&&this.messageHandlers[w.data.action]&&this.messageHandlers[w.data.action](w.data)}})),mI=qS(pI),gI=function(e,r,i){var n=e.data.segment,a=n.type,s=n.initSegment,o=n.captions,l=n.captionStreams,u=n.metadata,d=n.videoFrameDtsTime,h=n.videoFramePtsTime;r.buffer.push({captions:o,captionStreams:l,metadata:u});var f=e.data.segment.boxes||{data:e.data.segment.data},y={type:a,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof d!="undefined"&&(y.videoFrameDtsTime=d),typeof h!="undefined"&&(y.videoFramePtsTime=h),i(y)},vI=function(e){var r=e.transmuxedData,i=e.callback;r.buffer=[],i(r)},yI=function(e,r){r.gopInfo=e.data.gopInfo},YS=function(e){var r=e.transmuxer,i=e.bytes,n=e.audioAppendStart,a=e.gopsToAlignWith,s=e.remux,o=e.onData,l=e.onTrackInfo,u=e.onAudioTimingInfo,d=e.onVideoTimingInfo,h=e.onVideoSegmentTimingInfo,f=e.onAudioSegmentTimingInfo,y=e.onId3,x=e.onCaptions,S=e.onDone,v=e.onEndedTimeline,_=e.onTransmuxerLog,E=e.isEndOfTimeline,C={buffer:[]},P=E,M=function(F){r.currentTransmux===e&&(F.data.action==="data"&&gI(F,C,o),F.data.action==="trackinfo"&&l(F.data.trackInfo),F.data.action==="gopInfo"&&yI(F,C),F.data.action==="audioTimingInfo"&&u(F.data.audioTimingInfo),F.data.action==="videoTimingInfo"&&d(F.data.videoTimingInfo),F.data.action==="videoSegmentTimingInfo"&&h(F.data.videoSegmentTimingInfo),F.data.action==="audioSegmentTimingInfo"&&f(F.data.audioSegmentTimingInfo),F.data.action==="id3Frame"&&y([F.data.id3Frame],F.data.id3Frame.dispatchType),F.data.action==="caption"&&x(F.data.caption),F.data.action==="endedtimeline"&&(P=!1,v()),F.data.action==="log"&&_(F.data.log),F.data.type==="transmuxed"&&(P||(r.onmessage=null,vI({transmuxedData:C,callback:S}),QS(r))))};if(r.onmessage=M,n&&r.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(a)&&r.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),typeof s!="undefined"&&r.postMessage({action:"setRemux",remux:s}),i.byteLength){var D=i instanceof ArrayBuffer?i:i.buffer,j=i instanceof ArrayBuffer?0:i.byteOffset;r.postMessage({action:"push",data:D,byteOffset:j,byteLength:i.byteLength},[D])}E&&r.postMessage({action:"endTimeline"}),r.postMessage({action:"flush"})},QS=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():YS(e.currentTransmux))},Jv=function(e,r){e.postMessage({action:r}),QS(e)},ZS=function(e,r){if(!r.currentTransmux){r.currentTransmux=e,Jv(r,e);return}r.transmuxQueue.push(Jv.bind(null,r,e))},_I=function(e){ZS("reset",e)},TI=function(e){ZS("endTimeline",e)},JS=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,YS(e);return}e.transmuxer.transmuxQueue.push(e)},SI=function(e){var r=new mI;r.currentTransmux=null,r.transmuxQueue=[];var i=r.terminate;return r.terminate=function(){return r.currentTransmux=null,r.transmuxQueue.length=0,i.call(r)},r.postMessage({action:"init",options:e}),r},hc={reset:_I,endTimeline:TI,transmux:JS,createTransmuxer:SI},gu=function(e){var r=e.transmuxer,i=e.endAction||e.action,n=e.callback,a=Wt({},e,{endAction:null,transmuxer:null,callback:null}),s=function u(d){d.data.action===i&&(r.removeEventListener("message",u),d.data.data&&(d.data.data=new Uint8Array(d.data.data,e.byteOffset||0,e.byteLength||d.data.data.byteLength),e.data&&(e.data=d.data.data)),n(d.data))};if(r.addEventListener("message",s),e.data){var o=e.data instanceof ArrayBuffer;a.byteOffset=o?0:e.data.byteOffset,a.byteLength=e.data.byteLength;var l=[o?e.data:e.data.buffer];r.postMessage(a,l)}else r.postMessage(a)},xr={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Lf=function(e){e.forEach(function(r){r.abort()})},xI=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},bI=function(e){var r=e.target,i=Date.now()-r.requestTime,n={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},Np=function(e,r){return r.timedout?{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:xr.TIMEOUT,xhr:r}:r.aborted?{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:xr.ABORTED,xhr:r}:e?{status:r.status,message:"HLS request errored at URL: "+r.uri,code:xr.FAILURE,xhr:r}:r.responseType==="arraybuffer"&&r.response.byteLength===0?{status:r.status,message:"Empty HLS response at URL: "+r.uri,code:xr.FAILURE,xhr:r}:null},e0=function(e,r,i){return function(n,a){var s=a.response,o=Np(n,a);if(o)return i(o,e);if(s.byteLength!==16)return i({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:xr.FAILURE,xhr:a},e);for(var l=new DataView(s),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),d=0;d<r.length;d++)r[d].bytes=u;return i(null,e)}},ex=function(e,r){var i=Qh(e.map.bytes);if(i!=="mp4"){var n=e.map.resolvedUri||e.map.uri;return r({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+n,code:xr.FAILURE})}gu({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(s){var o=s.tracks,l=s.data;return e.map.bytes=l,o.forEach(function(u){e.map.tracks=e.map.tracks||{},!e.map.tracks[u.type]&&(e.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[u.id]=u.timescale))}),r(null)}})},EI=function(e){var r=e.segment,i=e.finishProcessingFn;return function(n,a){var s=Np(n,a);if(s)return i(s,r);var o=new Uint8Array(a.response);if(r.map.key)return r.map.encryptedBytes=o,i(null,r);r.map.bytes=o,ex(r,function(l){if(l)return l.xhr=a,l.status=a.status,i(l,r);i(null,r)})}},wI=function(e){var r=e.segment,i=e.finishProcessingFn,n=e.responseType;return function(a,s){var o=Np(a,s);if(o)return i(o,r);var l=n==="arraybuffer"||!s.responseText?s.response:fI(s.responseText.substring(r.lastReachedChar||0));return r.stats=xI(s),r.key?r.encryptedBytes=new Uint8Array(l):r.bytes=new Uint8Array(l),i(null,r)}},CI=function(e){var r=e.segment,i=e.bytes,n=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,d=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,y=e.doneFn,x=e.onTransmuxerLog,S=r.map&&r.map.tracks||{},v=Boolean(S.audio&&S.video),_=a.bind(null,r,"audio","start"),E=a.bind(null,r,"audio","end"),C=a.bind(null,r,"video","start"),P=a.bind(null,r,"video","end"),M=function(){return JS({bytes:i,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:v,onData:function(N){N.type=N.type==="combined"?"video":N.type,f(r,N)},onTrackInfo:function(N){n&&(v&&(N.isMuxed=!0),n(r,N))},onAudioTimingInfo:function(N){_&&typeof N.start!="undefined"&&(_(N.start),_=null),E&&typeof N.end!="undefined"&&E(N.end)},onVideoTimingInfo:function(N){C&&typeof N.start!="undefined"&&(C(N.start),C=null),P&&typeof N.end!="undefined"&&P(N.end)},onVideoSegmentTimingInfo:function(N){s(N)},onAudioSegmentTimingInfo:function(N){o(N)},onId3:function(N,F){l(r,N,F)},onCaptions:function(N){u(r,[N])},isEndOfTimeline:d,onEndedTimeline:function(){h()},onTransmuxerLog:x,onDone:function(N){!y||(N.type=N.type==="combined"?"video":N.type,y(null,r,N))}})};gu({action:"probeTs",transmuxer:r.transmuxer,data:i,baseStartTime:r.baseStartTime,callback:function(j){r.bytes=i=j.data;var N=j.result;N&&(n(r,{hasAudio:N.hasAudio,hasVideo:N.hasVideo,isMuxed:v}),n=null,N.hasAudio&&!v&&_(N.audioStart),N.hasVideo&&C(N.videoStart),_=null,C=null),M()}})},tx=function(e){var r=e.segment,i=e.bytes,n=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,d=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,y=e.doneFn,x=e.onTransmuxerLog,S=new Uint8Array(i);if(Kk(S)){r.isFmp4=!0;var v=r.map.tracks,_={isFmp4:!0,hasVideo:!!v.video,hasAudio:!!v.audio};v.audio&&v.audio.codec&&v.audio.codec!=="enca"&&(_.audioCodec=v.audio.codec),v.video&&v.video.codec&&v.video.codec!=="encv"&&(_.videoCodec=v.video.codec),v.video&&v.audio&&(_.isMuxed=!0),n(r,_);var E=function(P){f(r,{data:S,type:_.hasAudio&&!_.isMuxed?"audio":"video"}),P&&P.length&&u(r,P),y(null,r,{})};gu({action:"probeMp4StartTime",timescales:r.map.timescales,data:S,transmuxer:r.transmuxer,callback:function(P){var M=P.data,D=P.startTime;if(i=M.buffer,r.bytes=S=M,_.hasAudio&&!_.isMuxed&&a(r,"audio","start",D),_.hasVideo&&a(r,"video","start",D),!v.video||!M.byteLength||!r.transmuxer){E();return}gu({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:S,timescales:r.map.timescales,trackIds:[v.video.id],callback:function(N){i=N.data.buffer,r.bytes=S=N.data,N.logs.forEach(function(F){x(U.mergeOptions(F,{stream:"mp4CaptionParser"}))}),E(N.captions)}})}});return}if(!r.transmuxer){y(null,r,{});return}if(typeof r.container=="undefined"&&(r.container=Qh(S)),r.container!=="ts"&&r.container!=="aac"){n(r,{hasAudio:!1,hasVideo:!1}),y(null,r,{});return}CI({segment:r,bytes:i,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:h,dataFn:f,doneFn:y,onTransmuxerLog:x})},rx=function(e,r){var i=e.id,n=e.key,a=e.encryptedBytes,s=e.decryptionWorker,o=function u(d){if(d.data.source===i){s.removeEventListener("message",u);var h=d.data.decrypted;r(new Uint8Array(h.bytes,h.byteOffset,h.byteLength))}};s.addEventListener("message",o);var l;n.bytes.slice?l=n.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(n.bytes)),s.postMessage(VS({source:i,encrypted:a,key:l,iv:n.iv}),[a.buffer,l.buffer])},kI=function(e){var r=e.decryptionWorker,i=e.segment,n=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,d=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,y=e.doneFn,x=e.onTransmuxerLog;rx({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:r},function(S){i.bytes=S,tx({segment:i,bytes:i.bytes,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:h,dataFn:f,doneFn:y,onTransmuxerLog:x})})},PI=function(e){var r=e.activeXhrs,i=e.decryptionWorker,n=e.trackInfoFn,a=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,d=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,y=e.doneFn,x=e.onTransmuxerLog,S=0,v=!1;return function(_,E){if(!v){if(_)return v=!0,Lf(r),y(_,E);if(S+=1,S===r.length){var C=function(){if(E.encryptedBytes)return kI({decryptionWorker:i,segment:E,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:h,dataFn:f,doneFn:y,onTransmuxerLog:x});tx({segment:E,bytes:E.bytes,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:d,endedTimelineFn:h,dataFn:f,doneFn:y,onTransmuxerLog:x})};if(E.endOfAllRequests=Date.now(),E.map&&E.map.encryptedBytes&&!E.map.bytes)return rx({decryptionWorker:i,id:E.requestId+"-init",encryptedBytes:E.map.encryptedBytes,key:E.map.key},function(P){E.map.bytes=P,ex(E,function(M){if(M)return Lf(r),y(M,E);C()})});C()}}}},AI=function(e){var r=e.loadendState,i=e.abortFn;return function(n){var a=n.target;a.aborted&&i&&!r.calledAbortFn&&(i(),r.calledAbortFn=!0)}},II=function(e){var r=e.segment,i=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(n){var a=n.target;if(!a.aborted)return r.stats=U.mergeOptions(r.stats,bI(n)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),i(n,r)}},LI=function(e){var r=e.xhr,i=e.xhrOptions,n=e.decryptionWorker,a=e.segment,s=e.abortFn,o=e.progressFn,l=e.trackInfoFn,u=e.timingInfoFn,d=e.videoSegmentTimingInfoFn,h=e.audioSegmentTimingInfoFn,f=e.id3Fn,y=e.captionsFn,x=e.isEndOfTimeline,S=e.endedTimelineFn,v=e.dataFn,_=e.doneFn,E=e.onTransmuxerLog,C=[],P=PI({activeXhrs:C,decryptionWorker:n,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:y,isEndOfTimeline:x,endedTimelineFn:S,dataFn:v,doneFn:_,onTransmuxerLog:E});if(a.key&&!a.key.bytes){var M=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&M.push(a.map.key);var D=U.mergeOptions(i,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),j=e0(a,M,P),N=r(D,j);C.push(N)}if(a.map&&!a.map.bytes){var F=a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri);if(F){var B=U.mergeOptions(i,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),z=e0(a,[a.map.key],P),K=r(B,z);C.push(K)}var J=U.mergeOptions(i,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:Af(a.map)}),pe=EI({segment:a,finishProcessingFn:P}),se=r(J,pe);C.push(se)}var de=U.mergeOptions(i,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:Af(a)}),fe=wI({segment:a,finishProcessingFn:P,responseType:de.responseType}),he=r(de,fe);he.addEventListener("progress",II({segment:a,progressFn:o,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:d,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:y,isEndOfTimeline:x,endedTimelineFn:S,dataFn:v})),C.push(he);var Le={};return C.forEach(function(me){me.addEventListener("loadend",AI({loadendState:Le,abortFn:s}))}),function(){return Lf(C)}},OI=cr("CodecUtils"),DI=function(e){var r=e.attributes||{};if(r.CODECS)return mr(r.CODECS)},nx=function(e,r){var i=r.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},MI=function(e,r){if(!nx(e,r))return!0;var i=r.attributes||{},n=e.mediaGroups.AUDIO[i.AUDIO];for(var a in n)if(!n[a].uri&&!n[a].playlists)return!0;return!1},vu=function(e){var r={};return e.forEach(function(i){var n=i.mediaType,a=i.type,s=i.details;r[n]=r[n]||[],r[n].push(I_(""+a+s))}),Object.keys(r).forEach(function(i){if(r[i].length>1){OI("multiple "+i+" codecs found as attributes: "+r[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),r[i]=null;return}r[i]=r[i][0]}),r},t0=function(e){var r=0;return e.audio&&r++,e.video&&r++,r},xs=function(e,r){var i=r.attributes||{},n=vu(DI(r)||[]);if(nx(e,r)&&!n.audio&&!MI(e,r)){var a=vu(p1(e,i.AUDIO)||[]);a.audio&&(n.audio=a.audio)}return n},sl=cr("PlaylistSelector"),r0=function(e){if(!(!e||!e.playlist)){var r=e.playlist;return JSON.stringify({id:r.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:r.attributes&&r.attributes.CODECS||""})}},yu=function(e,r){if(!e)return"";var i=L.getComputedStyle(e);return i?i[r]:""},qi=function(e,r){var i=e.slice();e.sort(function(n,a){var s=r(n,a);return s===0?i.indexOf(n)-i.indexOf(a):s})},Fp=function(e,r){var i,n;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||L.Number.MAX_VALUE,r.attributes.BANDWIDTH&&(n=r.attributes.BANDWIDTH),n=n||L.Number.MAX_VALUE,i-n},RI=function(e,r){var i,n;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||L.Number.MAX_VALUE,r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(n=r.attributes.RESOLUTION.width),n=n||L.Number.MAX_VALUE,i===n&&e.attributes.BANDWIDTH&&r.attributes.BANDWIDTH?e.attributes.BANDWIDTH-r.attributes.BANDWIDTH:i-n},ix=function(e,r,i,n,a,s){if(!!e){var o={bandwidth:r,width:i,height:n,limitRenditionByPlayerDimensions:a},l=e.playlists;Pt.isAudioOnly(e)&&(l=s.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map(function(B){var z,K=B.attributes&&B.attributes.RESOLUTION&&B.attributes.RESOLUTION.width,J=B.attributes&&B.attributes.RESOLUTION&&B.attributes.RESOLUTION.height;return z=B.attributes&&B.attributes.BANDWIDTH,z=z||L.Number.MAX_VALUE,{bandwidth:z,width:K,height:J,playlist:B}});qi(u,function(B,z){return B.bandwidth-z.bandwidth}),u=u.filter(function(B){return!Pt.isIncompatible(B.playlist)});var d=u.filter(function(B){return Pt.isEnabled(B.playlist)});d.length||(d=u.filter(function(B){return!Pt.isDisabled(B.playlist)}));var h=d.filter(function(B){return B.bandwidth*qe.BANDWIDTH_VARIANCE<r}),f=h[h.length-1],y=h.filter(function(B){return B.bandwidth===f.bandwidth})[0];if(a===!1){var x=y||d[0]||u[0];if(x&&x.playlist){var S="sortedPlaylistReps";return y&&(S="bandwidthBestRep"),d[0]&&(S="enabledPlaylistReps"),sl("choosing "+r0(x)+" using "+S+" with options",o),x.playlist}return sl("could not choose a playlist with options",o),null}var v=h.filter(function(B){return B.width&&B.height});qi(v,function(B,z){return B.width-z.width});var _=v.filter(function(B){return B.width===i&&B.height===n});f=_[_.length-1];var E=_.filter(function(B){return B.bandwidth===f.bandwidth})[0],C,P,M;E||(C=v.filter(function(B){return B.width>i||B.height>n}),P=C.filter(function(B){return B.width===C[0].width&&B.height===C[0].height}),f=P[P.length-1],M=P.filter(function(B){return B.bandwidth===f.bandwidth})[0]);var D;if(s.experimentalLeastPixelDiffSelector){var j=v.map(function(B){return B.pixelDiff=Math.abs(B.width-i)+Math.abs(B.height-n),B});qi(j,function(B,z){return B.pixelDiff===z.pixelDiff?z.bandwidth-B.bandwidth:B.pixelDiff-z.pixelDiff}),D=j[0]}var N=D||M||E||y||d[0]||u[0];if(N&&N.playlist){var F="sortedPlaylistReps";return D?F="leastPixelDiffRep":M?F="resolutionPlusOneRep":E?F="resolutionBestRep":y?F="bandwidthBestRep":d[0]&&(F="enabledPlaylistReps"),sl("choosing "+r0(N)+" using "+F+" with options",o),N.playlist}return sl("could not choose a playlist with options",o),null}},n0=function(){var e=this.useDevicePixelRatio&&L.devicePixelRatio||1;return ix(this.playlists.master,this.systemBandwidth,parseInt(yu(this.tech_.el(),"width"),10)*e,parseInt(yu(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},NI=function(e){var r=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&L.devicePixelRatio||1;return r<0&&(r=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(r=e*this.systemBandwidth+(1-e)*r,i=this.systemBandwidth),ix(this.playlists.master,r,parseInt(yu(this.tech_.el(),"width"),10)*n,parseInt(yu(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},FI=function(e){var r=e.master,i=e.currentTime,n=e.bandwidth,a=e.duration,s=e.segmentDuration,o=e.timeUntilRebuffer,l=e.currentTimeline,u=e.syncController,d=r.playlists.filter(function(S){return!Pt.isIncompatible(S)}),h=d.filter(Pt.isEnabled);h.length||(h=d.filter(function(S){return!Pt.isDisabled(S)}));var f=h.filter(Pt.hasAttribute.bind(null,"BANDWIDTH")),y=f.map(function(S){var v=u.getSyncPoint(S,a,l,i),_=v?1:2,E=Pt.estimateSegmentRequestTime(s,n,S),C=E*_-o;return{playlist:S,rebufferingImpact:C}}),x=y.filter(function(S){return S.rebufferingImpact<=0});return qi(x,function(S,v){return Fp(v.playlist,S.playlist)}),x.length?x[0]:(qi(y,function(S,v){return S.rebufferingImpact-v.rebufferingImpact}),y[0]||null)},UI=function(){var e=this,r=this.playlists.master.playlists.filter(Pt.isEnabled);qi(r,function(n,a){return Fp(n,a)});var i=r.filter(function(n){return!!xs(e.playlists.master,n).video});return i[0]||null},BI=function(e){var r=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(function(n){i.set(n,r),r+=n.byteLength})),i},jI=function(e,r,i){if(!e[i]){r.trigger({type:"usage",name:"vhs-608"}),r.trigger({type:"usage",name:"hls-608"});var n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);var a=r.textTracks().getTrackById(n);if(a)e[i]=a;else{var s=r.options_.vhs&&r.options_.vhs.captionServices||{},o=i,l=i,u=!1,d=s[n];d&&(o=d.label,l=d.language,u=d.default),e[i]=r.addRemoteTextTrack({kind:"captions",id:n,default:u,label:o,language:l},!1).track}}},VI=function(e){var r=e.inbandTextTracks,i=e.captionArray,n=e.timestampOffset;if(!!i){var a=L.WebKitDataCue||L.VTTCue;i.forEach(function(s){var o=s.stream;r[o].addCue(new a(s.startTime+n,s.endTime+n,s.text))})}},HI=function(e){Object.defineProperties(e.frame,{id:{get:function(){return U.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return U.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return U.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},zI=function(e){var r=e.inbandTextTracks,i=e.metadataArray,n=e.timestampOffset,a=e.videoDuration;if(!!i){var s=L.WebKitDataCue||L.VTTCue,o=r.metadataTrack_;if(!!o&&(i.forEach(function(y){var x=y.cueTime+n;typeof x!="number"||L.isNaN(x)||x<0||!(x<1/0)||y.frames.forEach(function(S){var v=new s(x,x,S.value||S.url||S.data||"");v.frame=S,v.value=S,HI(v),o.addCue(v)})}),!(!o.cues||!o.cues.length))){for(var l=o.cues,u=[],d=0;d<l.length;d++)l[d]&&u.push(l[d]);var h=u.reduce(function(y,x){var S=y[x.startTime]||[];return S.push(x),y[x.startTime]=S,y},{}),f=Object.keys(h).sort(function(y,x){return Number(y)-Number(x)});f.forEach(function(y,x){var S=h[y],v=Number(f[x+1])||a;S.forEach(function(_){_.endTime=v})})}}},WI=function(e,r,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=r)},ss=function(e,r,i){var n,a;if(!!i&&!!i.cues)for(n=i.cues.length;n--;)a=i.cues[n],a.startTime>=e&&a.endTime<=r&&i.removeCue(a)},$I=function(e){var r=e.cues;if(!!r)for(var i=0;i<r.length;i++){for(var n=[],a=0,s=0;s<r.length;s++)r[i].startTime===r[s].startTime&&r[i].endTime===r[s].endTime&&r[i].text===r[s].text&&(a++,a>1&&n.push(r[s]));n.length&&n.forEach(function(o){return e.removeCue(o)})}},GI=function(e,r,i){if(typeof r=="undefined"||r===null||!e.length)return[];var n=Math.ceil((r-i+3)*nu.ONE_SECOND_IN_TS),a;for(a=0;a<e.length&&!(e[a].pts>n);a++);return e.slice(a)},qI=function(e,r,i){if(!r.length)return e;if(i)return r.slice();var n=r[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=n);a++);return e.slice(0,a).concat(r)},XI=function(e,r,i,n){for(var a=Math.ceil((r-n)*nu.ONE_SECOND_IN_TS),s=Math.ceil((i-n)*nu.ONE_SECOND_IN_TS),o=e.slice(),l=e.length;l--&&!(e[l].pts<=s););if(l===-1)return o;for(var u=l+1;u--&&!(e[u].pts<=a););return u=Math.max(u,0),o.splice(u,l-u+1),o},KI=function(e,r){if(!e&&!r||!e&&r||e&&!r)return!1;if(e===r)return!0;var i=Object.keys(e).sort(),n=Object.keys(r).sort();if(i.length!==n.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(s!==n[a]||e[s]!==r[s])return!1}return!0},ax=22,YI=function(e,r,i){r=r||[];for(var n=[],a=0,s=0;s<r.length;s++){var o=r[s];if(e===o.timeline&&(n.push(s),a+=o.duration,a>i))return s}return n.length===0?0:n[n.length-1]},Ka=1,QI=500,i0=function(e){return typeof e=="number"&&isFinite(e)},ol=1/60,ZI=function(e,r,i){return e!=="main"||!r||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":r.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},JI=function(e,r,i){var n=r-qe.BACK_BUFFER_LENGTH;e.length&&(n=Math.max(n,e.start(0)));var a=r-i;return Math.min(a,n)},Si=function(e){var r=e.startOfSegment,i=e.duration,n=e.segment,a=e.part,s=e.playlist,o=s.mediaSequence,l=s.id,u=s.segments,d=u===void 0?[]:u,h=e.mediaIndex,f=e.partIndex,y=e.timeline,x=d.length-1,S="mediaIndex/partIndex increment";e.getMediaInfoForTime?S="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(S="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(S+=" with independent "+e.independent);var v=typeof f=="number",_=e.segment.uri?"segment":"pre-segment",E=v?kS({preloadSegment:n})-1:0;return _+" ["+(o+h)+"/"+(o+x)+"]"+(v?" part ["+f+"/"+E+"]":"")+(" segment start/end ["+n.start+" => "+n.end+"]")+(v?" part start/end ["+a.start+" => "+a.end+"]":"")+(" startOfSegment ["+r+"]")+(" duration ["+i+"]")+(" timeline ["+y+"]")+(" selected by ["+S+"]")+(" playlist ["+l+"]")},a0=function(e){return e+"TimingInfo"},eL=function(e){var r=e.segmentTimeline,i=e.currentTimeline,n=e.startOfSegment,a=e.buffered,s=e.overrideCheck;return!s&&r===i?null:r<i?n:a.length?a.end(a.length-1):n},s0=function(e){var r=e.timelineChangeController,i=e.currentTimeline,n=e.segmentTimeline,a=e.loaderType,s=e.audioDisabled;if(i===n)return!1;if(a==="audio"){var o=r.lastTimelineChange({type:"main"});return!o||o.to!==n}if(a==="main"&&s){var l=r.pendingTimelineChange({type:"audio"});return!(l&&l.to===n)}return!1},tL=function(e,r){var i=e&&typeof e.start=="number"&&typeof e.end=="number"?e.end-e.start:0,n=r&&typeof r.start=="number"&&typeof r.end=="number"?r.end-r.start:0;return Math.max(i,n)},o0=function(e){var r=e.segmentDuration,i=e.maxDuration;return r?Math.round(r)>i+bn:!1},rL=function(e,r){if(r!=="hls")return null;var i=tL(e.audioTimingInfo,e.videoTimingInfo);if(!i)return null;var n=e.playlist.targetDuration,a=o0({segmentDuration:i,maxDuration:n*2}),s=o0({segmentDuration:i,maxDuration:n}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+i+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+n+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return a||s?{severity:a?"warn":"info",message:o}:null},Of=function(t){X(e,t);function e(i,n){var a;if(a=t.call(this)||this,!i)throw new TypeError("Initialization settings are required");if(typeof i.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=i.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=i.hasPlayed,a.currentTime_=i.currentTime,a.seekable_=i.seekable,a.seeking_=i.seeking,a.duration_=i.duration,a.mediaSource_=i.mediaSource,a.vhs_=i.vhs,a.loaderType_=i.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=i.segmentMetadataTrack,a.goalBufferLength_=i.goalBufferLength,a.sourceType_=i.sourceType,a.sourceUpdater_=i.sourceUpdater,a.inbandTextTracks_=i.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=i.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=i.parse708captions,a.captionServices_=i.captionServices,a.experimentalExactManifestTimings=i.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=U.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=i.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=i.decrypter,a.syncController_=i.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=cr("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(oe(a),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="main"&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a.loaderType_==="audio"&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}var r=e.prototype;return r.createTransmuxer_=function(){return hc.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},r.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},r.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&L.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},r.setAudio=function(n){this.audioDisabled_=!n,n?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},r.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},r.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,L.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},r.checkForAbort_=function(n){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==n},r.error=function(n){return typeof n!="undefined"&&(this.logger_("error occurred:",n),this.error_=n),this.pendingSegment_=null,this.error_},r.endOfStream=function(){this.ended_=!0,this.transmuxer_&&hc.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},r.buffered_=function(){var n=this.getMediaInfo_();if(!this.sourceUpdater_||!n)return U.createTimeRanges();if(this.loaderType_==="main"){var a=n.hasAudio,s=n.hasVideo,o=n.isMuxed;if(s&&a&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},r.initSegmentForMap=function(n,a){if(a===void 0&&(a=!1),!n)return null;var s=mu(n),o=this.initSegments_[s];return a&&!o&&n.bytes&&(this.initSegments_[s]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,tracks:n.tracks,timescales:n.timescales}),o||n},r.segmentKey=function(n,a){if(a===void 0&&(a=!1),!n)return null;var s=HS(n),o=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!o&&n.bytes&&(this.keyCache_[s]=o={resolvedUri:n.resolvedUri,bytes:n.bytes});var l={resolvedUri:(o||n).resolvedUri};return o&&(l.bytes=o.bytes),l},r.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},r.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.playlist=function(n,a){if(a===void 0&&(a={}),!!n){var s=this.playlist_,o=this.pendingSegment_;this.playlist_=n,this.xhrOptions_=a,this.state==="INIT"&&(n.syncInfo={mediaSequence:n.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(n));var l=null;if(s&&(s.id?l=s.id:s.uri&&(l=s.uri)),this.logger_("playlist update ["+l+" => "+(n.id||n.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==n.uri){this.mediaIndex!==null&&(n.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var u=n.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+u+"]"),this.mediaIndex!==null)if(this.mediaIndex-=u,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var d=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!d.parts||!d.parts.length||!d.parts[this.partIndex])){var h=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=h}}o&&(o.mediaIndex-=u,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=n.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,n)}},r.pause=function(){this.checkBufferTimeout_&&(L.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},r.paused=function(){return this.checkBufferTimeout_===null},r.resetEverything=function(n){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,n),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},r.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},r.resyncLoader=function(){this.transmuxer_&&hc.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},r.remove=function(n,a,s,o){if(s===void 0&&(s=function(){}),o===void 0&&(o=!1),a===1/0&&(a=this.duration_()),a<=n){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,u=function(){l--,l===0&&s()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(n,a,u)),(o||this.loaderType_==="main")&&(this.gopBuffer_=XI(this.gopBuffer_,n,a,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(n,a,u));for(var d in this.inbandTextTracks_)ss(n,a,this.inbandTextTracks_[d]);ss(n,a,this.segmentMetadataTrack_),u()},r.monitorBuffer_=function(){this.checkBufferTimeout_&&L.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=L.setTimeout(this.monitorBufferTick_.bind(this),1)},r.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&L.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=L.setTimeout(this.monitorBufferTick_.bind(this),QI)},r.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var n=this.chooseNextRequest_();!n||(typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline})),this.loadSegment_(n))}},r.isEndOfStream_=function(n,a,s){if(n===void 0&&(n=this.mediaIndex),a===void 0&&(a=this.playlist_),s===void 0&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var o=typeof n=="number"&&a.segments[n],l=n+1===a.segments.length,u=!o||!o.parts||s+1===o.parts.length;return a.endList&&this.mediaSource_.readyState==="open"&&l&&u},r.chooseNextRequest_=function(){var n=this.buffered_(),a=Xv(n)||0,s=Lp(n,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,l=s>=this.goalBufferLength_(),u=this.playlist_.segments;if(!u.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var d={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(d.isSyncRequest)d.mediaIndex=YI(this.currentTimeline_,u,a);else if(this.mediaIndex!==null){var h=u[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;d.startOfSegment=h.end?h.end:a,h.parts&&h.parts[f+1]?(d.mediaIndex=this.mediaIndex,d.partIndex=f+1):d.mediaIndex=this.mediaIndex+1}else{var y=Pt.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),x=y.segmentIndex,S=y.startTime,v=y.partIndex;d.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),d.mediaIndex=x,d.startOfSegment=S,d.partIndex=v}var _=u[d.mediaIndex],E=_&&typeof d.partIndex=="number"&&_.parts&&_.parts[d.partIndex];if(!_||typeof d.partIndex=="number"&&!E)return null;if(typeof d.partIndex!="number"&&_.parts&&(d.partIndex=0,E=_.parts[0]),!s&&E&&!E.independent)if(d.partIndex===0){var C=u[d.mediaIndex-1],P=C.parts&&C.parts.length&&C.parts[C.parts.length-1];P&&P.independent&&(d.mediaIndex-=1,d.partIndex=C.parts.length-1,d.independent="previous segment")}else _.parts[d.partIndex-1].independent&&(d.partIndex-=1,d.independent="previous part");var M=this.mediaSource_&&this.mediaSource_.readyState==="ended";return d.mediaIndex>=u.length-1&&M&&!this.seeking_()?null:this.generateSegmentInfo_(d)},r.generateSegmentInfo_=function(n){var a=n.independent,s=n.playlist,o=n.mediaIndex,l=n.startOfSegment,u=n.isSyncRequest,d=n.partIndex,h=n.forceTimestampOffset,f=n.getMediaInfoForTime,y=s.segments[o],x=typeof d=="number"&&y.parts[d],S={requestId:"segment-loader-"+Math.random(),uri:x&&x.resolvedUri||y.resolvedUri,mediaIndex:o,partIndex:x?d:null,isSyncRequest:u,startOfSegment:l,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:y.timeline,duration:x&&x.duration||y.duration,segment:y,part:x,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:a},v=typeof h!="undefined"?h:this.isPendingTimestampOffset_;S.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:y.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:v});var _=Xv(this.sourceUpdater_.audioBuffered());return typeof _=="number"&&(S.audioAppendStart=_-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(S.gopsToAlignWith=GI(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),S},r.timestampOffsetForSegment_=function(n){return eL(n)},r.earlyAbortWhenNeeded_=function(n){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=n.bandwidth,o=this.pendingSegment_.duration,l=Pt.estimateSegmentRequestTime(o,s,this.playlist_,n.bytesReceived),u=CA(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(l<=u)){var d=FI({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:u,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!d){var h=l-u,f=h-d.rebufferingImpact,y=.5;u<=bn&&(y=1),!(!d.playlist||d.playlist.uri===this.playlist_.uri||f<y)&&(this.bandwidth=d.playlist.attributes.BANDWIDTH*qe.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},r.handleAbort_=function(n){this.logger_("Aborting "+Si(n)),this.mediaRequestsAborted+=1},r.handleProgress_=function(n,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},r.handleTrackInfo_=function(n,a){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&(this.checkForIllegalMediaSwitch(a)||(a=a||{},KI(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(n.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},r.handleTimingInfo_=function(n,a,s,o){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var l=this.pendingSegment_,u=a0(a);l[u]=l[u]||{},l[u][s]=o,this.logger_("timinginfo: "+a+" - "+s+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},r.handleCaptions_=function(n,a){var s=this;if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(a.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,n,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};a.forEach(function(d){u[d.stream]=u[d.stream]||{startTime:1/0,captions:[],endTime:0};var h=u[d.stream];h.startTime=Math.min(h.startTime,d.startTime+l),h.endTime=Math.max(h.endTime,d.endTime+l),h.captions.push(d)}),Object.keys(u).forEach(function(d){var h=u[d],f=h.startTime,y=h.endTime,x=h.captions,S=s.inbandTextTracks_;s.logger_("adding cues from "+f+" -> "+y+" for "+d),jI(S,s.vhs_.tech_,d),ss(f,y,S[d]),VI({captionArray:x,inbandTextTracks:S,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},r.handleId3_=function(n,a,s){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,n,a,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();WI(this.inbandTextTracks_,s,this.vhs_.tech_),zI({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:l,videoDuration:this.duration_()})}},r.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(n){return n()}),this.metadataQueue_.caption.forEach(function(n){return n()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},r.processCallQueue_=function(){var n=this.callQueue_;this.callQueue_=[],n.forEach(function(a){return a()})},r.processLoadQueue_=function(){var n=this.loadQueue_;this.loadQueue_=[],n.forEach(function(a){return a()})},r.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var n=this.pendingSegment_;return n?this.getCurrentMediaInfo_()?!s0({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},r.getCurrentMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),n&&n.trackInfo||this.currentMediaInfo_},r.getMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),this.getCurrentMediaInfo_(n)||this.startingMediaInfo_},r.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var n=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!n||!a)return!1;var s=a.hasAudio,o=a.hasVideo,l=a.isMuxed;return!(o&&!n.videoTimingInfo||s&&!this.audioDisabled_&&!l&&!n.audioTimingInfo||s0({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},r.handleData_=function(n,a){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,n,a));return}var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(n.map&&(n.map=this.initSegmentForMap(n.map,!0),s.segment.map=n.map),n.key&&this.segmentKey(n.key,!0),s.isFmp4=n.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[a0(a.type)].start;else{var o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo,u;l&&(u=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:u,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});var d=this.chooseNextRequest_();if(d.mediaIndex!==s.mediaIndex||d.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}},r.updateAppendInitSegmentStatus=function(n,a){this.loaderType_==="main"&&typeof n.timestampOffset=="number"&&!n.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==n.playlist&&(this.appendInitSegment_[a]=!0)},r.getInitSegmentAndUpdateState_=function(n){var a=n.type,s=n.initSegment,o=n.map,l=n.playlist;if(o){var u=mu(o);if(this.activeInitSegmentId_===u)return null;s=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=l,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},r.handleQuotaExceededError_=function(n,a){var s=this,o=n.segmentInfo,l=n.type,u=n.bytes,d=this.sourceUpdater_.audioBuffered(),h=this.sourceUpdater_.videoBuffered();d.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+zn(d).join(", ")),h.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+zn(h).join(", "));var f=d.length?d.start(0):0,y=d.length?d.end(d.length-1):0,x=h.length?h.start(0):0,S=h.length?h.end(h.length-1):0;if(y-f<=Ka&&S-x<=Ka){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+u.byteLength+", ")+("audio buffer: "+zn(d).join(", ")+", ")+("video buffer: "+zn(h).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:l,bytes:u}));var v=this.currentTime_(),_=v-Ka;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+_),this.remove(0,_,function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Ka+"s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=L.setTimeout(function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()},Ka*1e3)},!0)},r.handleAppendError_=function(n,a){var s=n.segmentInfo,o=n.type,l=n.bytes;if(!!a){if(a.code===ax){this.handleQuotaExceededError_({segmentInfo:s,type:o,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(o+" append of "+l.length+"b failed for segment "+("#"+s.mediaIndex+" in playlist "+s.playlist.id)),this.trigger("appenderror")}},r.appendToSourceBuffer_=function(n){var a=n.segmentInfo,s=n.type,o=n.initSegment,l=n.data,u=n.bytes;if(!u){var d=[l],h=l.byteLength;o&&(d.unshift(o),h+=o.byteLength),u=BI({bytes:h,segments:d})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:u}))},r.handleSegmentTimingInfo_=function(n,a,s){if(!(!this.pendingSegment_||a!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,l=n+"TimingInfo";o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[l].transmuxedPresentationStart=s.start.presentation,o[l].transmuxedDecodeStart=s.start.decode,o[l].transmuxedPresentationEnd=s.end.presentation,o[l].transmuxedDecodeEnd=s.end.decode,o[l].baseMediaDecodeTime=s.baseMediaDecodeTime}},r.appendData_=function(n,a){var s=a.type,o=a.data;if(!(!o||!o.byteLength)&&!(s==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:n.playlist,map:n.isFmp4?n.segment.map:null});this.appendToSourceBuffer_({segmentInfo:n,type:s,initSegment:l,data:o})}},r.loadSegment_=function(n){var a=this;if(this.state="WAITING",this.pendingSegment_=n,this.trimBackBuffer_(n),typeof n.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var s=Wt({},n,{forceTimestampOffset:!0});Wt(n,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(n)});return}this.updateTransmuxerAndRequestSegment_(n)},r.updateTransmuxerAndRequestSegment_=function(n){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset}));var s=this.createSimplifiedSegmentObj_(n),o=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex),l=this.mediaIndex!==null,u=n.timeline!==this.currentTimeline_&&n.timeline>0,d=o||l&&u;this.logger_("Requesting "+Si(n)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=LI({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:d,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(f){var y=f.message,x=f.level,S=f.stream;a.logger_(Si(n)+" logged from transmuxer stream "+S+" as a "+x+": "+y)}})},r.trimBackBuffer_=function(n){var a=JI(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},r.createSimplifiedSegmentObj_=function(n){var a=n.segment,s=n.part,o={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:n.requestId,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,part:n.part},l=n.playlist.segments[n.mediaIndex-1];if(l&&l.timeline===a.timeline&&(l.videoTimingInfo?o.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(o.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),a.key){var u=a.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]);o.key=this.segmentKey(a.key),o.key.iv=u}return a.map&&(o.map=this.initSegmentForMap(a.map)),o},r.saveTransferStats_=function(n){this.mediaRequests+=1,n&&(this.mediaBytesTransferred+=n.bytesReceived,this.mediaTransferDuration+=n.roundTripTime)},r.saveBandwidthRelatedStats_=function(n,a){if(this.pendingSegment_.byteLength=a.bytesReceived,n<ol){this.logger_("Ignoring segment's bandwidth because its duration of "+n+(" is less than the min to record "+ol));return}this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime},r.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},r.segmentRequestFinished_=function(n,a,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,n,a,s));return}if(this.saveTransferStats_(a.stats),!!this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",n.code===xr.ABORTED)return;if(this.pause(),n.code===xr.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(n),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,a.stats),o.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=qI(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},r.setTimeMapping_=function(n){var a=this.syncController_.mappingForTimeline(n);a!==null&&(this.timeMapping_=a)},r.updateMediaSecondsLoaded_=function(n){typeof n.start=="number"&&typeof n.end=="number"?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration},r.shouldUpdateTransmuxerTimestampOffset_=function(n){return n===null?!1:this.loaderType_==="main"&&n!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&n!==this.sourceUpdater_.audioTimestampOffset()},r.trueSegmentStart_=function(n){var a=n.currentStart,s=n.playlist,o=n.mediaIndex,l=n.firstVideoFrameTimeForData,u=n.currentVideoTimestampOffset,d=n.useVideoTimingInfo,h=n.videoTimingInfo,f=n.audioTimingInfo;if(typeof a!="undefined")return a;if(!d)return f.start;var y=s.segments[o-1];return o===0||!y||typeof y.start=="undefined"||y.end!==l+u?l:h.start},r.waitForAppendsToComplete_=function(n){var a=this.getCurrentMediaInfo_(n);if(!a){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var s=a.hasAudio,o=a.hasVideo,l=a.isMuxed,u=this.loaderType_==="main"&&o,d=!this.audioDisabled_&&s&&!l;if(n.waitingOnAppends=0,!n.hasAppendedData_){!n.timingInfo&&typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),n.timingInfo={start:0},n.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(n),this.processMetadataQueue_()),this.checkAppendsDone_(n);return}u&&n.waitingOnAppends++,d&&n.waitingOnAppends++,u&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,n)),d&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,n))},r.checkAppendsDone_=function(n){this.checkForAbort_(n.requestId)||(n.waitingOnAppends--,n.waitingOnAppends===0&&this.handleAppendsDone_())},r.checkForIllegalMediaSwitch=function(n){var a=ZI(this.loaderType_,this.getCurrentMediaInfo_(),n);return a?(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0):!1},r.updateSourceBufferTimestampOffset_=function(n){if(!(n.timestampOffset===null||typeof n.timingInfo.start!="number"||n.changedTimestampOffset||this.loaderType_!=="main")){var a=!1;n.timestampOffset-=n.timingInfo.start,n.changedTimestampOffset=!0,n.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(n.timestampOffset),a=!0),n.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(n.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},r.updateTimingInfoEnd_=function(n){n.timingInfo=n.timingInfo||{};var a=this.getMediaInfo_(),s=this.loaderType_==="main"&&a&&a.hasVideo,o=s&&n.videoTimingInfo?n.videoTimingInfo:n.audioTimingInfo;!o||(n.timingInfo.end=typeof o.end=="number"?o.end:o.start+n.duration)},r.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var n=this.pendingSegment_;this.updateTimingInfoEnd_(n),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});var a=rL(n,this.sourceType_);if(a&&(a.severity==="warn"?U.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(n),this.pendingSegment_=null,this.state="READY",n.isSyncRequest&&(this.trigger("syncinfoupdate"),!n.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+Si(n));return}this.logger_("Appended "+Si(n)),this.addSegmentMetadataCue_(n),this.fetchAtBuffer_=!0,this.currentTimeline_!==n.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:n.timeline})),this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate");var s=n.segment,o=n.part,l=s.end&&this.currentTime_()-s.end>n.playlist.targetDuration*3,u=o&&o.end&&this.currentTime_()-o.end>n.playlist.partTargetDuration*3;if(l||u){this.logger_("bad "+(l?"segment":"part")+" "+Si(n)),this.resetEverything();return}var d=this.mediaIndex!==null;d&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=n.mediaIndex,this.partIndex=n.partIndex,this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)&&this.endOfStream(),this.trigger("appended"),n.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},r.recordThroughput_=function(n){if(n.duration<ol){this.logger_("Ignoring segment's throughput because its duration of "+n.duration+(" is less than the min to record "+ol));return}var a=this.throughput.rate,s=Date.now()-n.endOfAllRequests+1,o=Math.floor(n.byteLength/s*8*1e3);this.throughput.rate+=(o-a)/++this.throughput.count},r.addSegmentMetadataCue_=function(n){if(!!this.segmentMetadataTrack_){var a=n.segment,s=a.start,o=a.end;if(!(!i0(s)||!i0(o))){ss(s,o,this.segmentMetadataTrack_);var l=L.WebKitDataCue||L.VTTCue,u={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.id,start:s,end:o},d=JSON.stringify(u),h=new l(s,o,d);h.value=u,this.segmentMetadataTrack_.addCue(h)}}},e}(U.EventTarget);function Nr(){}var sx=function(e){return typeof e!="string"?e:e.replace(/./,function(r){return r.toUpperCase()})},nL=["video","audio"],Df=function(e,r){var i=r[e+"Buffer"];return i&&i.updating||r.queuePending[e]},iL=function(e,r){for(var i=0;i<r.length;i++){var n=r[i];if(n.type==="mediaSource")return null;if(n.type===e)return i}return null},Up=function t(e,r){if(r.queue.length!==0){var i=0,n=r.queue[i];if(n.type==="mediaSource"){!r.updating()&&r.mediaSource.readyState!=="closed"&&(r.queue.shift(),n.action(r),n.doneFn&&n.doneFn(),t("audio",r),t("video",r));return}if(e!=="mediaSource"&&!(!r.ready()||r.mediaSource.readyState==="closed"||Df(e,r))){if(n.type!==e){if(i=iL(e,r.queue),i===null)return;n=r.queue[i]}if(r.queue.splice(i,1),r.queuePending[e]=n,n.action(e,r),!n.doneFn){r.queuePending[e]=null,t(e,r);return}}}},ox=function(e,r){var i=r[e+"Buffer"],n=sx(e);!i||(i.removeEventListener("updateend",r["on"+n+"UpdateEnd_"]),i.removeEventListener("error",r["on"+n+"Error_"]),r.codecs[e]=null,r[e+"Buffer"]=null)},gr=function(e,r){return e&&r&&Array.prototype.indexOf.call(e.sourceBuffers,r)!==-1},Bt={appendBuffer:function(e,r,i){return function(n,a){var s=a[n+"Buffer"];if(!!gr(a.mediaSource,s)){a.logger_("Appending segment "+r.mediaIndex+"'s "+e.length+" bytes to "+n+"Buffer");try{s.appendBuffer(e)}catch(o){a.logger_("Error with code "+o.code+" "+(o.code===ax?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+r.mediaIndex+" to "+n+"Buffer")),a.queuePending[n]=null,i(o)}}}},remove:function(e,r){return function(i,n){var a=n[i+"Buffer"];if(!!gr(n.mediaSource,a)){n.logger_("Removing "+e+" to "+r+" from "+i+"Buffer");try{a.remove(e,r)}catch{n.logger_("Remove "+e+" to "+r+" from "+i+"Buffer failed")}}}},timestampOffset:function(e){return function(r,i){var n=i[r+"Buffer"];!gr(i.mediaSource,n)||(i.logger_("Setting "+r+"timestampOffset to "+e),n.timestampOffset=e)}},callback:function(e){return function(r,i){e()}},endOfStream:function(e){return function(r){if(r.mediaSource.readyState==="open"){r.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{r.mediaSource.endOfStream(e)}catch(i){U.log.warn("Failed to call media source endOfStream",i)}}}},duration:function(e){return function(r){r.logger_("Setting mediaSource duration to "+e);try{r.mediaSource.duration=e}catch(i){U.log.warn("Failed to set media source duration",i)}}},abort:function(){return function(e,r){if(r.mediaSource.readyState==="open"){var i=r[e+"Buffer"];if(!!gr(r.mediaSource,i)){r.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(n){U.log.warn("Failed to abort on "+e+"Buffer",n)}}}}},addSourceBuffer:function(e,r){return function(i){var n=sx(e),a=Bs(r);i.logger_("Adding "+e+"Buffer with codec "+r+" to mediaSource");var s=i.mediaSource.addSourceBuffer(a);s.addEventListener("updateend",i["on"+n+"UpdateEnd_"]),s.addEventListener("error",i["on"+n+"Error_"]),i.codecs[e]=r,i[e+"Buffer"]=s}},removeSourceBuffer:function(e){return function(r){var i=r[e+"Buffer"];if(ox(e,r),!!gr(r.mediaSource,i)){r.logger_("Removing "+e+"Buffer with codec "+r.codecs[e]+" from mediaSource");try{r.mediaSource.removeSourceBuffer(i)}catch(n){U.log.warn("Failed to removeSourceBuffer "+e+"Buffer",n)}}}},changeType:function(e){return function(r,i){var n=i[r+"Buffer"],a=Bs(e);!gr(i.mediaSource,n)||i.codecs[r]!==e&&(i.logger_("changing "+r+"Buffer codec from "+i.codecs[r]+" to "+e),n.changeType(a),i.codecs[r]=e)}}},jt=function(e){var r=e.type,i=e.sourceUpdater,n=e.action,a=e.doneFn,s=e.name;i.queue.push({type:r,action:n,doneFn:a,name:s}),Up(r,i)},l0=function(e,r){return function(i){if(r.queuePending[e]){var n=r.queuePending[e].doneFn;r.queuePending[e]=null,n&&n(r[e+"Error_"])}Up(e,r)}},lx=function(t){X(e,t);function e(i){var n;return n=t.call(this)||this,n.mediaSource=i,n.sourceopenListener_=function(){return Up("mediaSource",oe(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=cr("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=l0("video",oe(n)),n.onAudioUpdateEnd_=l0("audio",oe(n)),n.onVideoError_=function(a){n.videoError_=a},n.onAudioError_=function(a){n.audioError_=a},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}var r=e.prototype;return r.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},r.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},r.hasInitializedAnyEme=function(){return this.initializedEme_},r.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},r.createSourceBuffers=function(n){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(n),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},r.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},r.addSourceBuffer=function(n,a){jt({type:"mediaSource",sourceUpdater:this,action:Bt.addSourceBuffer(n,a),name:"addSourceBuffer"})},r.abort=function(n){jt({type:n,sourceUpdater:this,action:Bt.abort(n),name:"abort"})},r.removeSourceBuffer=function(n){if(!this.canRemoveSourceBuffer()){U.log.error("removeSourceBuffer is not supported!");return}jt({type:"mediaSource",sourceUpdater:this,action:Bt.removeSourceBuffer(n),name:"removeSourceBuffer"})},r.canRemoveSourceBuffer=function(){return!U.browser.IE_VERSION&&!U.browser.IS_FIREFOX&&L.MediaSource&&L.MediaSource.prototype&&typeof L.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return L.SourceBuffer&&L.SourceBuffer.prototype&&typeof L.SourceBuffer.prototype.changeType=="function"},r.canChangeType=function(){return this.constructor.canChangeType()},r.changeType=function(n,a){if(!this.canChangeType()){U.log.error("changeType is not supported!");return}jt({type:n,sourceUpdater:this,action:Bt.changeType(a),name:"changeType"})},r.addOrChangeSourceBuffers=function(n){var a=this;if(!n||typeof n!="object"||Object.keys(n).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(n).forEach(function(s){var o=n[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,o);a.canChangeType()&&a.changeType(s,o)})},r.appendBuffer=function(n,a){var s=this,o=n.segmentInfo,l=n.type,u=n.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([n,a]),this.logger_("delayed audio append of "+u.length+" until video append");return}var d=a;if(jt({type:l,sourceUpdater:this,action:Bt.appendBuffer(u,o||{mediaIndex:-1},d),doneFn:a,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var h=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+h.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,h.forEach(function(f){s.appendBuffer.apply(s,f)})}},r.audioBuffered=function(){return gr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:U.createTimeRange()},r.videoBuffered=function(){return gr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:U.createTimeRange()},r.buffered=function(){var n=gr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=gr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!n?this.audioBuffered():n&&!a?this.videoBuffered():wA(this.audioBuffered(),this.videoBuffered())},r.setDuration=function(n,a){a===void 0&&(a=Nr),jt({type:"mediaSource",sourceUpdater:this,action:Bt.duration(n),name:"duration",doneFn:a})},r.endOfStream=function(n,a){n===void 0&&(n=null),a===void 0&&(a=Nr),typeof n!="string"&&(n=void 0),jt({type:"mediaSource",sourceUpdater:this,action:Bt.endOfStream(n),name:"endOfStream",doneFn:a})},r.removeAudio=function(n,a,s){if(s===void 0&&(s=Nr),!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}jt({type:"audio",sourceUpdater:this,action:Bt.remove(n,a),doneFn:s,name:"remove"})},r.removeVideo=function(n,a,s){if(s===void 0&&(s=Nr),!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}jt({type:"video",sourceUpdater:this,action:Bt.remove(n,a),doneFn:s,name:"remove"})},r.updating=function(){return!!(Df("audio",this)||Df("video",this))},r.audioTimestampOffset=function(n){return typeof n!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==n&&(jt({type:"audio",sourceUpdater:this,action:Bt.timestampOffset(n),name:"timestampOffset"}),this.audioTimestampOffset_=n),this.audioTimestampOffset_},r.videoTimestampOffset=function(n){return typeof n!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==n&&(jt({type:"video",sourceUpdater:this,action:Bt.timestampOffset(n),name:"timestampOffset"}),this.videoTimestampOffset_=n),this.videoTimestampOffset_},r.audioQueueCallback=function(n){!this.audioBuffer||jt({type:"audio",sourceUpdater:this,action:Bt.callback(n),name:"callback"})},r.videoQueueCallback=function(n){!this.videoBuffer||jt({type:"video",sourceUpdater:this,action:Bt.callback(n),name:"callback"})},r.dispose=function(){var n=this;this.trigger("dispose"),nL.forEach(function(a){n.abort(a),n.canRemoveSourceBuffer()?n.removeSourceBuffer(a):n[a+"QueueCallback"](function(){return ox(a,n)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(U.EventTarget),u0=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},d0=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),aL=function(t){X(e,t);function e(i,n){var a;return n===void 0&&(n={}),a=t.call(this,i,n)||this,a.mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=i.featuresNativeTextTracks,a.shouldSaveSegmentTimingInfo_=!1,a}var r=e.prototype;return r.createTransmuxer_=function(){return null},r.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return U.createTimeRanges();var n=this.subtitlesTrack_.cues,a=n[0].startTime,s=n[n.length-1].startTime;return U.createTimeRanges([[a,s]])},r.initSegmentForMap=function(n,a){if(a===void 0&&(a=!1),!n)return null;var s=mu(n),o=this.initSegments_[s];if(a&&!o&&n.bytes){var l=d0.byteLength+n.bytes.byteLength,u=new Uint8Array(l);u.set(n.bytes),u.set(d0,n.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:u}}return o||n},r.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},r.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},r.track=function(n){return typeof n=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=n,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},r.remove=function(n,a){ss(n,a,this.subtitlesTrack_)},r.fillBuffer_=function(){var n=this,a=this.chooseNextRequest_();if(!!a){if(this.syncController_.timestampOffsetForTimeline(a.timeline)===null){var s=function(){n.state="READY",n.paused()||n.monitorBuffer_()};this.syncController_.one("timestampoffset",s),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(a)}},r.timestampOffsetForSegment_=function(){return null},r.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},r.skipEmptySegments_=function(n){for(;n&&n.segment.empty;){if(n.mediaIndex+1>=n.playlist.segments.length){n=null;break}n=this.generateSegmentInfo_({playlist:n.playlist,mediaIndex:n.mediaIndex+1,startOfSegment:n.startOfSegment+n.duration,isSyncRequest:n.isSyncRequest})}return n},r.stopForError=function(n){this.error(n),this.state="READY",this.pause(),this.trigger("error")},r.segmentRequestFinished_=function(n,a,s){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(a.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(n){n.code===xr.TIMEOUT&&this.handleTimeout_(),n.code===xr.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(n);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,a.stats),this.state="APPENDING",this.trigger("appending");var u=l.segment;if(u.map&&(u.map.bytes=a.map.bytes),l.bytes=a.bytes,typeof L.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var d,h=function(){o.subtitlesTrack_.tech_.off("vttjsloaded",d),o.stopForError({message:"Error loading vtt.js"})};d=function(){o.subtitlesTrack_.tech_.off("vttjserror",h),o.segmentRequestFinished_(n,a,s)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",d),this.subtitlesTrack_.tech_.one("vttjserror",h);return}u.requested=!0;try{this.parseVTTCues_(l)}catch(f){this.stopForError({message:f.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,l.cues.forEach(function(f){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new L.VTTCue(f.startTime,f.endTime,f.text):f)}),$I(this.subtitlesTrack_),this.handleAppendsDone_()},r.handleData_=function(){},r.updateTimingInfoEnd_=function(){},r.parseVTTCues_=function(n){var a,s=!1;typeof L.TextDecoder=="function"?a=new L.TextDecoder("utf8"):(a=L.WebVTT.StringDecoder(),s=!0);var o=new L.WebVTT.Parser(L,L.vttjs,a);if(n.cues=[],n.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=n.cues.push.bind(n.cues),o.ontimestampmap=function(d){n.timestampmap=d},o.onparsingerror=function(d){U.log.warn("Error encountered when parsing cues: "+d.message)},n.segment.map){var l=n.segment.map.bytes;s&&(l=u0(l)),o.parse(l)}var u=n.bytes;s&&(u=u0(u)),o.parse(u),o.flush()},r.updateTimeMapping_=function(n,a,s){var o=n.segment;if(!!a){if(!n.cues.length){o.empty=!0;return}var l=n.timestampmap,u=l.MPEGTS/nu.ONE_SECOND_IN_TS-l.LOCAL+a.mapping;if(n.cues.forEach(function(f){f.startTime+=u,f.endTime+=u}),!s.syncInfo){var d=n.cues[0].startTime,h=n.cues[n.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+n.mediaIndex,time:Math.min(d,h-o.duration)}}}},e}(Of),sL=function(e,r){for(var i=e.cues,n=0;n<i.length;n++){var a=i[n];if(r>=a.adStartTime&&r<=a.adEndTime)return a}return null},oL=function(e,r,i){if(i===void 0&&(i=0),!!e.segments)for(var n=i,a,s=0;s<e.segments.length;s++){var o=e.segments[s];if(a||(a=sL(r,n+o.duration/2)),a){if("cueIn"in o){a.endTime=n,a.adEndTime=n,n+=o.duration,a=null;continue}if(n<a.endTime){n+=o.duration;continue}a.endTime+=o.duration}else if("cueOut"in o&&(a=new L.VTTCue(n,n+o.duration,o.cueOut),a.adStartTime=n,a.adEndTime=n+parseFloat(o.cueOut),r.addCue(a)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],d=l[1];a=new L.VTTCue(n,n+o.duration,""),a.adStartTime=n-u,a.adEndTime=a.adStartTime+d,r.addCue(a)}n+=o.duration}},lL=86400,c0=[{name:"VOD",run:function(e,r,i,n,a){if(i!==1/0){var s={time:0,segmentIndex:0,partIndex:null};return s}return null}},{name:"ProgramDateTime",run:function(e,r,i,n,a){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var s=null,o=null,l=Ef(r);a=a||0;for(var u=0;u<l.length;u++){var d=r.endList||a===0?u:l.length-(u+1),h=l[d],f=h.segment,y=e.timelineToDatetimeMappings[f.timeline];if(!(!y||!f.dateTimeObject)){var x=f.dateTimeObject.getTime()/1e3,S=x+y;if(f.parts&&typeof h.partIndex=="number")for(var v=0;v<h.partIndex;v++)S+=f.parts[v].duration;var _=Math.abs(a-S);if(o!==null&&(_===0||o<_))break;o=_,s={time:S,segmentIndex:h.segmentIndex,partIndex:h.partIndex}}}return s}},{name:"Segment",run:function(e,r,i,n,a){var s=null,o=null;a=a||0;for(var l=Ef(r),u=0;u<l.length;u++){var d=r.endList||a===0?u:l.length-(u+1),h=l[d],f=h.segment,y=h.part&&h.part.start||f&&f.start;if(f.timeline===n&&typeof y!="undefined"){var x=Math.abs(a-y);if(o!==null&&o<x)break;(!s||o===null||o>=x)&&(o=x,s={time:y,segmentIndex:h.segmentIndex,partIndex:h.partIndex})}}return s}},{name:"Discontinuity",run:function(e,r,i,n,a){var s=null;if(a=a||0,r.discontinuityStarts&&r.discontinuityStarts.length)for(var o=null,l=0;l<r.discontinuityStarts.length;l++){var u=r.discontinuityStarts[l],d=r.discontinuitySequence+l+1,h=e.discontinuities[d];if(h){var f=Math.abs(a-h.time);if(o!==null&&o<f)break;(!s||o===null||o>=f)&&(o=f,s={time:h.time,segmentIndex:u,partIndex:null})}}return s}},{name:"Playlist",run:function(e,r,i,n,a){if(r.syncInfo){var s={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence,partIndex:null};return s}return null}}],uL=function(t){X(e,t);function e(i){var n;return n=t.call(this)||this,n.timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=cr("SyncController"),n}var r=e.prototype;return r.getSyncPoint=function(n,a,s,o){var l=this.runStrategies_(n,a,s,o);return l.length?this.selectSyncPoint_(l,{key:"time",value:o}):null},r.getExpiredTime=function(n,a){if(!n||!n.segments)return null;var s=this.runStrategies_(n,a,n.discontinuitySequence,0);if(!s.length)return null;var o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+Ss({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:o.segmentIndex,endIndex:0}))},r.runStrategies_=function(n,a,s,o){for(var l=[],u=0;u<c0.length;u++){var d=c0[u],h=d.run(this,n,a,s,o);h&&(h.strategy=d.name,l.push({strategy:d.name,syncPoint:h}))}return l},r.selectSyncPoint_=function(n,a){for(var s=n[0].syncPoint,o=Math.abs(n[0].syncPoint[a.key]-a.value),l=n[0].strategy,u=1;u<n.length;u++){var d=Math.abs(n[u].syncPoint[a.key]-a.value);d<o&&(o=d,s=n[u].syncPoint,l=n[u].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy"+(" ["+l+"]: [time:"+s.time+",")+(" segmentIndex:"+s.segmentIndex)+(typeof s.partIndex=="number"?",partIndex:"+s.partIndex:"")+"]"),s},r.saveExpiredSegmentInfo=function(n,a){var s=a.mediaSequence-n.mediaSequence;if(s>lL){U.log.warn("Not saving expired segment info. Media sequence gap "+s+" is too large.");return}for(var o=s-1;o>=0;o--){var l=n.segments[o];if(l&&typeof l.start!="undefined"){a.syncInfo={mediaSequence:n.mediaSequence+o,time:l.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+","+(" mediaSequence: "+a.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},r.setDateTimeMappingForStart=function(n){if(this.timelineToDatetimeMappings={},n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var a=n.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},r.saveSegmentTimingInfo=function(n){var a=n.segmentInfo,s=n.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),l=a.segment;o&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:l.start}));var u=l.dateTimeObject;l.discontinuity&&s&&u&&(this.timelineToDatetimeMappings[l.timeline]=-(u.getTime()/1e3))},r.timestampOffsetForTimeline=function(n){return typeof this.timelines[n]=="undefined"?null:this.timelines[n].time},r.mappingForTimeline=function(n){return typeof this.timelines[n]=="undefined"?null:this.timelines[n].mapping},r.calculateSegmentTimeMapping_=function(n,a,s){var o=n.segment,l=n.part,u=this.timelines[n.timeline],d,h;if(typeof n.timestampOffset=="number")u={time:n.startOfSegment,mapping:n.startOfSegment-a.start},s&&(this.timelines[n.timeline]=u,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": "+("[time: "+u.time+"] [mapping: "+u.mapping+"]"))),d=n.startOfSegment,h=a.end+u.mapping;else if(u)d=a.start+u.mapping,h=a.end+u.mapping;else return!1;return l&&(l.start=d,l.end=h),(!o.start||d<o.start)&&(o.start=d),o.end=h,!0},r.saveDiscontinuitySyncInfo_=function(n){var a=n.playlist,s=n.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var o=0;o<a.discontinuityStarts.length;o++){var l=a.discontinuityStarts[o],u=a.discontinuitySequence+o+1,d=l-n.mediaIndex,h=Math.abs(d);if(!this.discontinuities[u]||this.discontinuities[u].accuracy>h){var f=void 0;d<0?f=s.start-Ss({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:n.mediaIndex,endIndex:l}):f=s.end+Ss({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:n.mediaIndex+1,endIndex:l}),this.discontinuities[u]={time:f,accuracy:h}}}},r.dispose=function(){this.trigger("dispose"),this.off()},e}(U.EventTarget),dL=function(t){X(e,t);function e(){var i;return i=t.call(this)||this,i.pendingTimelineChanges_={},i.lastTimelineChanges_={},i}var r=e.prototype;return r.clearPendingTimelineChange=function(n){this.pendingTimelineChanges_[n]=null,this.trigger("pendingtimelinechange")},r.pendingTimelineChange=function(n){var a=n.type,s=n.from,o=n.to;return typeof s=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},r.lastTimelineChange=function(n){var a=n.type,s=n.from,o=n.to;return typeof s=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[a]={type:a,from:s,to:o},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},r.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(U.EventTarget),cL=XS(KS(function(){function t(S,v,_){return _={path:v,exports:{},require:function(C,P){return e(C,P==null?_.path:P)}},S(_,_.exports),_.exports}function e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var r=t(function(S){function v(E,C){for(var P=0;P<C.length;P++){var M=C[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}function _(E,C,P){return C&&v(E.prototype,C),P&&v(E,P),E}S.exports=_,S.exports.default=S.exports,S.exports.__esModule=!0}),i=t(function(S){function v(_,E){return S.exports=v=Object.setPrototypeOf||function(P,M){return P.__proto__=M,P},S.exports.default=S.exports,S.exports.__esModule=!0,v(_,E)}S.exports=v,S.exports.default=S.exports,S.exports.__esModule=!0}),n=t(function(S){function v(_,E){_.prototype=Object.create(E.prototype),_.prototype.constructor=_,i(_,E)}S.exports=v,S.exports.default=S.exports,S.exports.__esModule=!0}),a=function(){function S(){this.listeners={}}var v=S.prototype;return v.on=function(E,C){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push(C)},v.off=function(E,C){if(!this.listeners[E])return!1;var P=this.listeners[E].indexOf(C);return this.listeners[E]=this.listeners[E].slice(0),this.listeners[E].splice(P,1),P>-1},v.trigger=function(E){var C=this.listeners[E];if(!!C)if(arguments.length===2)for(var P=C.length,M=0;M<P;++M)C[M].call(this,arguments[1]);else for(var D=Array.prototype.slice.call(arguments,1),j=C.length,N=0;N<j;++N)C[N].apply(this,D)},v.dispose=function(){this.listeners={}},v.pipe=function(E){this.on("data",function(C){E.push(C)})},S}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function s(S){return S.subarray(0,S.byteLength-S[S.byteLength-1])}/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */var o=function(){var v=[[[],[],[],[],[]],[[],[],[],[],[]]],_=v[0],E=v[1],C=_[4],P=E[4],M,D,j,N=[],F=[],B,z,K,J,pe,se;for(M=0;M<256;M++)F[(N[M]=M<<1^(M>>7)*283)^M]=M;for(D=j=0;!C[D];D^=B||1,j=F[j]||1)for(J=j^j<<1^j<<2^j<<3^j<<4,J=J>>8^J&255^99,C[D]=J,P[J]=D,K=N[z=N[B=N[D]]],se=K*16843009^z*65537^B*257^D*16843008,pe=N[J]*257^J*16843008,M=0;M<4;M++)_[M][D]=pe=pe<<24^pe>>>8,E[M][J]=se=se<<24^se>>>8;for(M=0;M<5;M++)_[M]=_[M].slice(0),E[M]=E[M].slice(0);return v},l=null,u=function(){function S(_){l||(l=o()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var E,C,P,M=this._tables[0][4],D=this._tables[1],j=_.length,N=1;if(j!==4&&j!==6&&j!==8)throw new Error("Invalid aes key size");var F=_.slice(0),B=[];for(this._key=[F,B],E=j;E<4*j+28;E++)P=F[E-1],(E%j===0||j===8&&E%j===4)&&(P=M[P>>>24]<<24^M[P>>16&255]<<16^M[P>>8&255]<<8^M[P&255],E%j===0&&(P=P<<8^P>>>24^N<<24,N=N<<1^(N>>7)*283)),F[E]=F[E-j]^P;for(C=0;E;C++,E--)P=F[C&3?E:E-4],E<=4||C<4?B[C]=P:B[C]=D[0][M[P>>>24]]^D[1][M[P>>16&255]]^D[2][M[P>>8&255]]^D[3][M[P&255]]}var v=S.prototype;return v.decrypt=function(E,C,P,M,D,j){var N=this._key[1],F=E^N[0],B=M^N[1],z=P^N[2],K=C^N[3],J,pe,se,de=N.length/4-2,fe,he=4,Le=this._tables[1],me=Le[0],q=Le[1],re=Le[2],ie=Le[3],Se=Le[4];for(fe=0;fe<de;fe++)J=me[F>>>24]^q[B>>16&255]^re[z>>8&255]^ie[K&255]^N[he],pe=me[B>>>24]^q[z>>16&255]^re[K>>8&255]^ie[F&255]^N[he+1],se=me[z>>>24]^q[K>>16&255]^re[F>>8&255]^ie[B&255]^N[he+2],K=me[K>>>24]^q[F>>16&255]^re[B>>8&255]^ie[z&255]^N[he+3],he+=4,F=J,B=pe,z=se;for(fe=0;fe<4;fe++)D[(3&-fe)+j]=Se[F>>>24]<<24^Se[B>>16&255]<<16^Se[z>>8&255]<<8^Se[K&255]^N[he++],J=F,F=B,B=z,z=K,K=J},S}(),d=function(S){n(v,S);function v(){var E;return E=S.call(this,a)||this,E.jobs=[],E.delay=1,E.timeout_=null,E}var _=v.prototype;return _.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},_.push=function(C){this.jobs.push(C),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},v}(a),h=function(v){return v<<24|(v&65280)<<8|(v&16711680)>>8|v>>>24},f=function(v,_,E){var C=new Int32Array(v.buffer,v.byteOffset,v.byteLength>>2),P=new u(Array.prototype.slice.call(_)),M=new Uint8Array(v.byteLength),D=new Int32Array(M.buffer),j,N,F,B,z,K,J,pe,se;for(j=E[0],N=E[1],F=E[2],B=E[3],se=0;se<C.length;se+=4)z=h(C[se]),K=h(C[se+1]),J=h(C[se+2]),pe=h(C[se+3]),P.decrypt(z,K,J,pe,D,se),D[se]=h(D[se]^j),D[se+1]=h(D[se+1]^N),D[se+2]=h(D[se+2]^F),D[se+3]=h(D[se+3]^B),j=z,N=K,F=J,B=pe;return M},y=function(){function S(_,E,C,P){var M=S.STEP,D=new Int32Array(_.buffer),j=new Uint8Array(_.byteLength),N=0;for(this.asyncStream_=new d,this.asyncStream_.push(this.decryptChunk_(D.subarray(N,N+M),E,C,j)),N=M;N<D.length;N+=M)C=new Uint32Array([h(D[N-4]),h(D[N-3]),h(D[N-2]),h(D[N-1])]),this.asyncStream_.push(this.decryptChunk_(D.subarray(N,N+M),E,C,j));this.asyncStream_.push(function(){P(null,s(j))})}var v=S.prototype;return v.decryptChunk_=function(E,C,P,M){return function(){var D=f(E,C,P);M.set(D,E.byteOffset)}},r(S,null,[{key:"STEP",get:function(){return 32e3}}]),S}(),x=function(v){var _={};return Object.keys(v).forEach(function(E){var C=v[E];ArrayBuffer.isView(C)?_[E]={bytes:C.buffer,byteOffset:C.byteOffset,byteLength:C.byteLength}:_[E]=C}),_};self.onmessage=function(S){var v=S.data,_=new Uint8Array(v.encrypted.bytes,v.encrypted.byteOffset,v.encrypted.byteLength),E=new Uint32Array(v.key.bytes,v.key.byteOffset,v.key.byteLength/4),C=new Uint32Array(v.iv.bytes,v.iv.byteOffset,v.iv.byteLength/4);new y(_,E,C,function(P,M){self.postMessage(x({source:v.source,decrypted:M}),[M.buffer])})}})),fL=qS(cL),hL=function(e){var r=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(r="main-desc"),r},_u=function(e,r){e.abort(),e.pause(),r&&r.activePlaylistLoader&&(r.activePlaylistLoader.pause(),r.activePlaylistLoader=null)},Mf=function(e,r){r.activePlaylistLoader=e,e.load()},pL=function(e,r){return function(){var i=r.segmentLoaders,n=i[e],a=i.main,s=r.mediaTypes[e],o=s.activeTrack(),l=s.getActiveGroup(),u=s.activePlaylistLoader,d=s.lastGroup_;if(!(l&&d&&l.id===d.id)&&(s.lastGroup_=l,s.lastTrack_=o,_u(n,s),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){u&&a.resetEverything();return}n.resyncLoader(),Mf(l.playlistLoader,s)}}},mL=function(e,r){return function(){var i=r.segmentLoaders[e],n=r.mediaTypes[e];n.lastGroup_=null,i.abort(),i.pause()}},gL=function(e,r){return function(){var i=r.masterPlaylistLoader,n=r.segmentLoaders,a=n[e],s=n.main,o=r.mediaTypes[e],l=o.activeTrack(),u=o.getActiveGroup(),d=o.activePlaylistLoader,h=o.lastTrack_;if(!(h&&l&&h.id===l.id)&&(o.lastGroup_=u,o.lastTrack_=l,_u(a,o),!!u)){if(u.isMasterPlaylist){if(!l||!h||l.id===h.id)return;var f=r.vhs.masterPlaylistController_,y=f.selectPlaylist();if(f.media()===y)return;o.logger_("track change. Switching master audio from "+h.id+" to "+l.id),i.pause(),s.resetEverything(),f.fastQualityChange_(y);return}if(e==="AUDIO"){if(!u.playlistLoader){s.setAudio(!0),s.resetEverything();return}a.setAudio(!0),s.setAudio(!1)}if(d===u.playlistLoader){Mf(u.playlistLoader,o);return}a.track&&a.track(l),a.resetEverything(),Mf(u.playlistLoader,o)}}},Tu={AUDIO:function(e,r){return function(){var i=r.segmentLoaders[e],n=r.mediaTypes[e],a=r.blacklistCurrentPlaylist;_u(i,n);var s=n.activeTrack(),o=n.activeGroup(),l=(o.filter(function(h){return h.default})[0]||o[0]).id,u=n.tracks[l];if(s===u){a({message:"Problem encountered loading the default audio track."});return}U.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in n.tracks)n.tracks[d].enabled=n.tracks[d]===u;n.onTrackChanged()}},SUBTITLES:function(e,r){return function(){var i=r.segmentLoaders[e],n=r.mediaTypes[e];U.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),_u(i,n);var a=n.activeTrack();a&&(a.mode="disabled"),n.onTrackChanged()}}},f0={AUDIO:function(e,r,i){if(!!r){var n=i.tech,a=i.requestOptions,s=i.segmentLoaders[e];r.on("loadedmetadata",function(){var o=r.media();s.playlist(o,a),(!n.paused()||o.endList&&n.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),n.paused()||s.load()}),r.on("error",Tu[e](e,i))}},SUBTITLES:function(e,r,i){var n=i.tech,a=i.requestOptions,s=i.segmentLoaders[e],o=i.mediaTypes[e];r.on("loadedmetadata",function(){var l=r.media();s.playlist(l,a),s.track(o.activeTrack()),(!n.paused()||l.endList&&n.preload()!=="none")&&s.load()}),r.on("loadedplaylist",function(){s.playlist(r.media(),a),n.paused()||s.load()}),r.on("error",Tu[e](e,i))}},vL={AUDIO:function(e,r){var i=r.vhs,n=r.sourceType,a=r.segmentLoaders[e],s=r.requestOptions,o=r.master.mediaGroups,l=r.mediaTypes[e],u=l.groups,d=l.tracks,h=l.logger_,f=r.masterPlaylistLoader,y=po(f.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},y&&(o[e].main.default.playlists=f.master.playlists));for(var x in o[e]){u[x]||(u[x]=[]);for(var S in o[e][x]){var v=o[e][x][S],_=void 0;if(y?(h("AUDIO group '"+x+"' label '"+S+"' is a master playlist"),v.isMasterPlaylist=!0,_=null):n==="vhs-json"&&v.playlists?_=new Mi(v.playlists[0],i,s):v.resolvedUri?_=new Mi(v.resolvedUri,i,s):v.playlists&&n==="dash"?_=new If(v.playlists[0],i,s,f):_=null,v=U.mergeOptions({id:S,playlistLoader:_},v),f0[e](e,v.playlistLoader,r),u[x].push(v),typeof d[S]=="undefined"){var E=new U.AudioTrack({id:S,kind:hL(v),enabled:!1,language:v.language,default:v.default,label:S});d[S]=E}}}a.on("error",Tu[e](e,r))},SUBTITLES:function(e,r){var i=r.tech,n=r.vhs,a=r.sourceType,s=r.segmentLoaders[e],o=r.requestOptions,l=r.master.mediaGroups,u=r.mediaTypes[e],d=u.groups,h=u.tracks,f=r.masterPlaylistLoader;for(var y in l[e]){d[y]||(d[y]=[]);for(var x in l[e][y])if(!l[e][y][x].forced){var S=l[e][y][x],v=void 0;if(a==="hls")v=new Mi(S.resolvedUri,n,o);else if(a==="dash"){var _=S.playlists.filter(function(C){return C.excludeUntil!==1/0});if(!_.length)return;v=new If(S.playlists[0],n,o,f)}else a==="vhs-json"&&(v=new Mi(S.playlists?S.playlists[0]:S.resolvedUri,n,o));if(S=U.mergeOptions({id:x,playlistLoader:v},S),f0[e](e,S.playlistLoader,r),d[y].push(S),typeof h[x]=="undefined"){var E=i.addRemoteTextTrack({id:x,kind:"subtitles",default:S.default&&S.autoselect,language:S.language,label:x},!1).track;h[x]=E}}}s.on("error",Tu[e](e,r))},"CLOSED-CAPTIONS":function(e,r){var i=r.tech,n=r.master.mediaGroups,a=r.mediaTypes[e],s=a.groups,o=a.tracks;for(var l in n[e]){s[l]||(s[l]=[]);for(var u in n[e][l]){var d=n[e][l][u];if(!!/^(?:CC|SERVICE)/.test(d.instreamId)){var h=i.options_.vhs&&i.options_.vhs.captionServices||{},f={label:u,language:d.language,instreamId:d.instreamId,default:d.default&&d.autoselect};if(h[f.instreamId]&&(f=U.mergeOptions(f,h[f.instreamId])),f.default===void 0&&delete f.default,s[l].push(U.mergeOptions({id:u},d)),typeof o[u]=="undefined"){var y=i.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[u]=y}}}}}},yL=function t(e,r){for(var i=0;i<e.length;i++)if(Mp(r,e[i])||e[i].playlists&&t(e[i].playlists,r))return!0;return!1},_L=function(e,r){return function(i){var n=r.masterPlaylistLoader,a=r.mediaTypes[e].groups,s=n.media();if(!s)return null;var o=null;s.attributes[e]&&(o=a[s.attributes[e]]);var l=Object.keys(a);if(!o)if(e==="AUDIO"&&l.length>1&&po(r.master))for(var u=0;u<l.length;u++){var d=a[l[u]];if(yL(d,s)){o=d;break}}else a.main?o=a.main:l.length===1&&(o=a[l[0]]);return typeof i=="undefined"?o:i===null||!o?null:o.filter(function(h){return h.id===i.id})[0]||null}},TL={AUDIO:function(e,r){return function(){var i=r.mediaTypes[e].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(e,r){return function(){var i=r.mediaTypes[e].tracks;for(var n in i)if(i[n].mode==="showing"||i[n].mode==="hidden")return i[n];return null}}},SL=function(e,r){var i=r.mediaTypes;return function(){var n=i[e].activeTrack();return n?i[e].activeGroup(n):null}},xL=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(x){vL[x](x,e)});var r=e.mediaTypes,i=e.masterPlaylistLoader,n=e.tech,a=e.vhs,s=e.segmentLoaders,o=s.AUDIO,l=s.main;["AUDIO","SUBTITLES"].forEach(function(x){r[x].activeGroup=_L(x,e),r[x].activeTrack=TL[x](x,e),r[x].onGroupChanged=pL(x,e),r[x].onGroupChanging=mL(x,e),r[x].onTrackChanged=gL(x,e),r[x].getActiveGroup=SL(x,e)});var u=r.AUDIO.activeGroup();if(u){var d=(u.filter(function(x){return x.default})[0]||u[0]).id;r.AUDIO.tracks[d].enabled=!0,r.AUDIO.onGroupChanged(),r.AUDIO.onTrackChanged();var h=r.AUDIO.getActiveGroup();h.playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(x){return r[x].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(x){return r[x].onGroupChanging()})});var f=function(){r.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};n.audioTracks().addEventListener("change",f),n.remoteTextTracks().addEventListener("change",r.SUBTITLES.onTrackChanged),a.on("dispose",function(){n.audioTracks().removeEventListener("change",f),n.remoteTextTracks().removeEventListener("change",r.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(var y in r.AUDIO.tracks)n.audioTracks().addTrack(r.AUDIO.tracks[y])},bL=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(r){e[r]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Nr,activeTrack:Nr,getActiveGroup:Nr,onGroupChanged:Nr,onTrackChanged:Nr,lastTrack_:null,logger_:cr("MediaGroups["+r+"]")}}),e},EL=60*2,Lr,wL=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],CL=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},kL=function(e){var r=e.currentPlaylist,i=e.buffered,n=e.currentTime,a=e.nextPlaylist,s=e.bufferLowWaterLine,o=e.bufferHighWaterLine,l=e.duration,u=e.experimentalBufferBasedABR,d=e.log;if(!a)return U.log.warn("We received no playlist to switch to. Please check your stream."),!1;var h="allowing switch "+(r&&r.id||"null")+" -> "+a.id;if(!r)return d(h+" as current playlist is not set"),!0;if(a.id===r.id)return!1;var f=Boolean(Di(i,n).length);if(!r.endList)return!f&&typeof r.partTargetDuration=="number"?(d("not "+h+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(d(h+" as current playlist is live"),!0);var y=Lp(i,n),x=u?qe.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:qe.MAX_BUFFER_LOW_WATER_LINE;if(l<x)return d(h+" as duration < max low water line ("+l+" < "+x+")"),!0;var S=a.attributes.BANDWIDTH,v=r.attributes.BANDWIDTH;if(S<v&&(!u||y<o)){var _=h+" as next bandwidth < current bandwidth ("+S+" < "+v+")";return u&&(_+=" and forwardBuffer < bufferHighWaterLine ("+y+" < "+o+")"),d(_),!0}if((!u||S>v)&&y>=s){var E=h+" as forwardBuffer >= bufferLowWaterLine ("+y+" >= "+s+")";return u&&(E+=" and next bandwidth > current bandwidth ("+S+" > "+v+")"),d(E),!0}return d("not "+h+" as no switching criteria met"),!1},PL=function(t){X(e,t);function e(i){var n;n=t.call(this)||this;var a=i.src,s=i.handleManifestRedirects,o=i.withCredentials,l=i.tech,u=i.bandwidth,d=i.externVhs,h=i.useCueTags,f=i.blacklistDuration,y=i.enableLowInitialPlaylist,x=i.sourceType,S=i.cacheEncryptionKeys,v=i.experimentalBufferBasedABR,_=i.experimentalLeastPixelDiffSelector,E=i.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var C=i.maxPlaylistRetries;(C===null||typeof C=="undefined")&&(C=1/0),Lr=d,n.experimentalBufferBasedABR=Boolean(v),n.experimentalLeastPixelDiffSelector=Boolean(_),n.withCredentials=o,n.tech_=l,n.vhs_=l.vhs,n.sourceType_=x,n.useCueTags_=h,n.blacklistDuration=f,n.maxPlaylistRetries=C,n.enableLowInitialPlaylist=y,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:s,maxPlaylistRetries:C,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=bL(),n.mediaSource=new L.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(oe(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(oe(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(oe(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=U.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new uL(i),n.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new fL,n.sourceUpdater_=new lx(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new dL;var P={vhs:n.vhs_,parse708captions:i.parse708captions,captionServices:E,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:u,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:S,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};n.masterPlaylistLoader_=n.sourceType_==="dash"?new If(a,n.vhs_,n.requestOptions_):new Mi(a,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Of(U.mergeOptions(P,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),i),n.audioSegmentLoader_=new Of(U.mergeOptions(P,{loaderType:"audio"}),i),n.subtitleSegmentLoader_=new aL(U.mergeOptions(P,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),i),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),wL.forEach(function(D){n[D+"_"]=CL.bind(oe(n),D)}),n.logger_=cr("MPC"),n.triggeredFmp4Usage=!1,n.tech_.preload()==="none"?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var M=n.tech_.preload()==="none"?"play":"loadstart";return n.tech_.one(M,function(){var D=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-D,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}var r=e.prototype;return r.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},r.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},r.appendsToLoadedData_=function(){var n=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return n===-1||a===-1?-1:n+a},r.timeToLoadedData_=function(){return this.timeToLoadedData__},r.checkABR_=function(){var n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,"abr")},r.switchMedia_=function(n,a,s){var o=this.media(),l=o&&(o.id||o.uri),u=n.id||n.uri;l&&l!==u&&(this.logger_("switch media "+l+" -> "+u+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(n,s)},r.startABRTimer_=function(){var n=this;this.stopABRTimer_(),this.abrTimer_=L.setInterval(function(){return n.checkABR_()},250)},r.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(L.clearInterval(this.abrTimer_),this.abrTimer_=null)},r.getAudioTrackPlaylists_=function(){var n=this.master(),a=n&&n.playlists||[];if(!n||!n.mediaGroups||!n.mediaGroups.AUDIO)return a;var s=n.mediaGroups.AUDIO,o=Object.keys(s),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var u=s.main||o.length&&s[o[0]];for(var d in u)if(u[d].default){l={label:d};break}}if(!l)return a;var h=[];for(var f in s)if(s[f][l.label]){var y=s[f][l.label];if(y.playlists&&y.playlists.length)h.push.apply(h,y.playlists);else if(y.uri)h.push(y);else if(n.playlists.length)for(var x=0;x<n.playlists.length;x++){var S=n.playlists[x];S.attributes&&S.attributes.AUDIO&&S.attributes.AUDIO===f&&h.push(S)}}return h.length?h:a},r.setupMasterPlaylistLoaderListeners_=function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=n.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;wf(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=s,a.endList&&n.tech_.preload()!=="none"&&(n.mainSegmentLoader_.playlist(a,n.requestOptions_),n.mainSegmentLoader_.load()),xL({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,vhs:n.vhs_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),a),n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){n.loadOnPlay_&&n.tech_.off("play",n.loadOnPlay_);var a=n.masterPlaylistLoader_.media();if(!a){n.excludeUnsupportedVariants_();var s;if(n.enableLowInitialPlaylist&&(s=n.selectInitialPlaylist()),s||(s=n.selectPlaylist()),!s||!n.shouldSwitchToMedia_(s))return;n.initialMedia_=s,n.switchMedia_(n.initialMedia_,"initial");var o=n.sourceType_==="vhs-json"&&n.initialMedia_.segments;if(!o)return;a=n.initialMedia_}n.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=n.masterPlaylistLoader_.media(),s=a.targetDuration*1.5*1e3;wf(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=s,n.mainSegmentLoader_.playlist(a,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=n.masterPlaylistLoader_.media();if(a.lastExcludeReason_!=="playlist-unchanged"){var s=n.stuckAtPlaylistEnd_(a);s&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),n.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},r.handleUpdatedMediaPlaylist=function(n){this.useCueTags_&&this.updateAdCues_(n),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.updateDuration(!n.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},r.triggerPresenceUsage_=function(n,a){var s=n.mediaGroups||{},o=!0,l=Object.keys(s.AUDIO);for(var u in s.AUDIO)for(var d in s.AUDIO[u]){var h=s.AUDIO[u][d];h.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Lr.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(s.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},r.shouldSwitchToMedia_=function(n){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),u=this.tech_.buffered();return kL({buffered:u,currentTime:s,currentPlaylist:a,nextPlaylist:n,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},r.setupSegmentLoaderListeners_=function(){var n=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var s=n.selectPlaylist();n.shouldSwitchToMedia_(s)&&n.switchMedia_(s,"bandwidthupdate"),n.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){n.error=n.mainSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){n.error=n.audioSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){n.logger_("main segment loader ended"),n.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(s){n.experimentalBufferBasedABR||(n.delegateLoaders_("all",["abort"]),n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},EL))});var a=function(){if(!n.sourceUpdater_.hasCreatedSourceBuffers())return n.tryToCreateSourceBuffers_();var o=n.getCodecsOrExclude_();!o||n.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){n.logger_("audioSegmentLoader ended"),n.onEndOfStream()})},r.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},r.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},r.smoothQualityChange_=function(n){n===void 0&&(n=this.selectPlaylist()),this.fastQualityChange_(n)},r.fastQualityChange_=function(n){var a=this;if(n===void 0&&(n=this.selectPlaylist()),n===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(n,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){U.browser.IE_VERSION||U.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())})},r.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<n.start(0))return this.tech_.setCurrentTime(n.end(n.length-1))}},r.setupFirstPlay=function(){var n=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(U.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){n.trigger("firstplay"),n.tech_.setCurrentTime(s.end(0)),n.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},r.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var n=this.tech_.play();typeof n!="undefined"&&typeof n.then=="function"&&n.then(null,function(a){})}this.trigger("sourceopen")},r.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var n=this.inbandTextTracks_.metadataTrack_.cues;if(!(!n||!n.length)){var a=this.duration();n[n.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},r.handleDurationChange_=function(){this.tech_.trigger("durationchange")},r.onEndOfStream=function(){var n=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();!a||a.hasVideo?n=n&&this.audioSegmentLoader_.ended_:n=this.audioSegmentLoader_.ended_}!n||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},r.stuckAtPlaylistEnd_=function(n){var a=this.seekable();if(!a.length)return!1;var s=this.syncController_.getExpiredTime(n,this.duration());if(s===null)return!1;var o=Lr.Playlist.playlistEnd(n,s),l=this.tech_.currentTime(),u=this.tech_.buffered();if(!u.length)return o-l<=Sr;var d=u.end(u.length-1);return d-l<=Sr&&o-d<=Sr},r.blacklistCurrentPlaylist=function(n,a){n===void 0&&(n={});var s=n.playlist||this.masterPlaylistLoader_.media();if(a=a||n.blacklistDuration||this.blacklistDuration,!s){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}s.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,l=o.filter(ed),u=l.length===1&&l[0]===s;if(o.length===1&&a!==1/0)return U.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u);if(u){var d=!1;o.forEach(function(_){if(_!==s){var E=_.excludeUntil;typeof E!="undefined"&&E!==1/0&&(d=!0,delete _.excludeUntil)}}),d&&(U.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var h;s.playlistErrors_>this.maxPlaylistRetries?h=1/0:h=Date.now()+a*1e3,s.excludeUntil=h,n.reason&&(s.lastExcludeReason_=n.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var f=this.selectPlaylist();if(!f){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var y=n.internal?this.logger_:U.log.warn,x=n.message?" "+n.message:"";y((n.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+(x+" Switching to playlist "+f.id+".")),f.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),f.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var S=f.targetDuration/2*1e3||5*1e3,v=typeof f.lastRequest=="number"&&Date.now()-f.lastRequest<=S;return this.switchMedia_(f,"exclude",u||v)},r.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},r.delegateLoaders_=function(n,a){var s=this,o=[],l=n==="all";(l||n==="main")&&o.push(this.masterPlaylistLoader_);var u=[];(l||n==="audio")&&u.push("AUDIO"),(l||n==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(d){var h=s.mediaTypes_[d]&&s.mediaTypes_[d].activePlaylistLoader;h&&o.push(h)}),["main","audio","subtitle"].forEach(function(d){var h=s[d+"SegmentLoader_"];h&&(n===d||n==="all")&&o.push(h)}),o.forEach(function(d){return a.forEach(function(h){typeof d[h]=="function"&&d[h]()})})},r.setCurrentTime=function(n){var a=Di(this.tech_.buffered(),n);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(a&&a.length)return n;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},r.duration=function(){if(!this.masterPlaylistLoader_)return 0;var n=this.masterPlaylistLoader_.media();return n?n.endList?this.mediaSource?this.mediaSource.duration:Lr.Playlist.duration(n):1/0:0},r.seekable=function(){return this.seekable_},r.onSyncInfoUpdate_=function(){var n;if(!(!this.masterPlaylistLoader_||this.sourceUpdater_.hasCreatedSourceBuffers())){var a=this.masterPlaylistLoader_.media();if(!!a){var s=this.syncController_.getExpiredTime(a,this.duration());if(s!==null){var o=this.masterPlaylistLoader_.master,l=Lr.Playlist.seekable(a,s,Lr.Playlist.liveEdgeDelay(o,a));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(a,this.duration()),s===null||(n=Lr.Playlist.seekable(a,s,Lr.Playlist.liveEdgeDelay(o,a)),n.length===0)))){var u,d;this.seekable_&&this.seekable_.length&&(u=this.seekable_.end(0),d=this.seekable_.start(0)),n?n.start(0)>l.end(0)||l.start(0)>n.end(0)?this.seekable_=l:this.seekable_=U.createTimeRanges([[n.start(0)>l.start(0)?n.start(0):l.start(0),n.end(0)<l.end(0)?n.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===u&&this.seekable_.start(0)===d)&&(this.logger_("seekable updated ["+wS(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},r.updateDuration=function(n){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,n),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(n){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1));return}var s=this.tech_.buffered(),o=Lr.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(o=Math.max(o,s.end(s.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},r.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var s=n.mediaTypes_[a].groups;for(var o in s)s[o].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},r.master=function(){return this.masterPlaylistLoader_.master},r.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},r.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=n?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!a||!s)},r.getCodecsOrExclude_=function(){var n=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};a.video=a.main;var s=xs(this.master(),this.media()),o={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(o.video=s.video||a.main.videoCodec||g1),a.main.isMuxed&&(o.video+=","+(s.audio||a.main.audioCodec||ev)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||l)&&(o.audio=s.audio||a.main.audioCodec||a.audio.audioCodec||ev,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var u=function(v,_){return v?bl(_):Yd(_)},d={},h;if(["video","audio"].forEach(function(S){if(o.hasOwnProperty(S)&&!u(a[S].isFmp4,o[S])){var v=a[S].isFmp4?"browser":"muxer";d[v]=d[v]||[],d[v].push(o[S]),S==="audio"&&(h=v)}}),l&&h&&this.media().attributes.AUDIO){var f=this.media().attributes.AUDIO;this.master().playlists.forEach(function(S){var v=S.attributes&&S.attributes.AUDIO;v===f&&S!==n.media()&&(S.excludeUntil=1/0)}),this.logger_("excluding audio group "+f+" as "+h+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(d).length){var y=Object.keys(d).reduce(function(S,v){return S&&(S+=", "),S+=v+' does not support codec(s): "'+d[v].join(",")+'"',S},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:y,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var x=[];if(["video","audio"].forEach(function(S){var v=(mr(n.sourceUpdater_.codecs[S]||"")[0]||{}).type,_=(mr(o[S]||"")[0]||{}).type;v&&_&&v.toLowerCase()!==_.toLowerCase()&&x.push('"'+n.sourceUpdater_.codecs[S]+'" -> "'+o[S]+'"')}),x.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+x.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},r.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var n=this.getCodecsOrExclude_();if(!!n){this.sourceUpdater_.createSourceBuffers(n);var a=[n.video,n.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},r.excludeUnsupportedVariants_=function(){var n=this,a=this.master().playlists,s=[];Object.keys(a).forEach(function(o){var l=a[o];if(s.indexOf(l.id)===-1){s.push(l.id);var u=xs(n.master,l),d=[];u.audio&&!Yd(u.audio)&&!bl(u.audio)&&d.push("audio codec "+u.audio),u.video&&!Yd(u.video)&&!bl(u.video)&&d.push("video codec "+u.video),u.text&&u.text==="stpp.ttml.im1t"&&d.push("text codec "+u.text),d.length&&(l.excludeUntil=1/0,n.logger_("excluding "+l.id+" for unsupported: "+d.join(", ")))}})},r.excludeIncompatibleVariants_=function(n){var a=this,s=[],o=this.master().playlists,l=vu(mr(n)),u=t0(l),d=l.video&&mr(l.video)[0]||null,h=l.audio&&mr(l.audio)[0]||null;Object.keys(o).forEach(function(f){var y=o[f];if(!(s.indexOf(y.id)!==-1||y.excludeUntil===1/0)){s.push(y.id);var x=[],S=xs(a.masterPlaylistLoader_.master,y),v=t0(S);if(!(!S.audio&&!S.video)){if(v!==u&&x.push('codec count "'+v+'" !== "'+u+'"'),!a.sourceUpdater_.canChangeType()){var _=S.video&&mr(S.video)[0]||null,E=S.audio&&mr(S.audio)[0]||null;_&&d&&_.type.toLowerCase()!==d.type.toLowerCase()&&x.push('video codec "'+_.type+'" !== "'+d.type+'"'),E&&h&&E.type.toLowerCase()!==h.type.toLowerCase()&&x.push('audio codec "'+E.type+'" !== "'+h.type+'"')}x.length&&(y.excludeUntil=1/0,a.logger_("blacklisting "+y.id+": "+x.join(" && ")))}}})},r.updateAdCues_=function(n){var a=0,s=this.seekable();s.length&&(a=s.start(0)),oL(n,this.cueTagsTrack_,a)},r.goalBufferLength=function(){var n=this.tech_.currentTime(),a=qe.GOAL_BUFFER_LENGTH,s=qe.GOAL_BUFFER_LENGTH_RATE,o=Math.max(a,qe.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+n*s,o)},r.bufferLowWaterLine=function(){var n=this.tech_.currentTime(),a=qe.BUFFER_LOW_WATER_LINE,s=qe.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(a,qe.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(a,qe.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+n*s,this.experimentalBufferBasedABR?l:o)},r.bufferHighWaterLine=function(){return qe.BUFFER_HIGH_WATER_LINE},e}(U.EventTarget),AL=function(e,r,i){return function(n){var a=e.master.playlists[r],s=Dp(a),o=ed(a);return typeof n=="undefined"?o:(n?delete a.disabled:a.disabled=!0,n!==o&&!s&&(i(),n?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),n)}},IL=function(e,r,i){var n=e.masterPlaylistController_,a=e.options_.smoothQualityChange,s=a?"smooth":"fast",o=n[s+"QualityChange_"].bind(n);if(r.attributes){var l=r.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=r.attributes.BANDWIDTH}this.codecs=xs(n.master(),r),this.playlist=r,this.id=i,this.enabled=AL(e.playlists,r.id,o)},LL=function(e){e.representations=function(){var r=e.masterPlaylistController_.master(),i=po(r)?e.masterPlaylistController_.getAudioTrackPlaylists_():r.playlists;return i?i.filter(function(n){return!Dp(n)}).map(function(n,a){return new IL(e,n,n.id)}):[]}},h0=["seeking","seeked","pause","playing","error"],OL=function(){function t(r){var i=this;this.masterPlaylistController_=r.masterPlaylistController,this.tech_=r.tech,this.seekable=r.seekable,this.allowSeeksWithinUnsafeLiveWindow=r.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=r.liveRangeSafeTimeDelta,this.media=r.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=cr("PlaybackWatcher"),this.logger_("initialize");var n=function(){return i.monitorCurrentTime_()},a=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],d={};u.forEach(function(f){d[f]={reset:function(){return i.resetSegmentDownloads_(f)},updateend:function(){return i.checkSegmentDownloads_(f)}},l[f+"SegmentLoader_"].on("appendsdone",d[f].updateend),l[f+"SegmentLoader_"].on("playlistupdate",d[f].reset),i.tech_.on(["seeked","seeking"],d[f].reset)});var h=function(y){["main","audio"].forEach(function(x){l[x+"SegmentLoader_"][y]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),h("off"))},this.clearSeekingAppendCheck_=function(){return h("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),h("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(h0,o),this.tech_.on("canplay",a),this.tech_.one("play",n),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",s),i.tech_.off(h0,o),i.tech_.off("canplay",a),i.tech_.off("play",n),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),u.forEach(function(f){l[f+"SegmentLoader_"].off("appendsdone",d[f].updateend),l[f+"SegmentLoader_"].off("playlistupdate",d[f].reset),i.tech_.off(["seeked","seeking"],d[f].reset)}),i.checkCurrentTimeTimeout_&&L.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&L.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=L.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(i){var n=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=n.buffered_()},e.checkSegmentDownloads_=function(i){var n=this.masterPlaylistController_,a=n[i+"SegmentLoader_"],s=a.buffered_(),o=kA(this[i+"Buffered_"],s);if(this[i+"Buffered_"]=s,o){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:zn(s)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),i!=="subtitle"&&n.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var i=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===i&&(!n.length||i+Sr>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var i=this.tech_.seeking();if(!i)return!1;var n=this.seekable(),a=this.tech_.currentTime(),s=this.afterSeekableWindow_(n,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(s){var l=n.end(n.length-1);o=l}if(this.beforeSeekableWindow_(n,a)){var u=n.start(0);o=u+(u===n.end(0)?0:Sr)}if(typeof o!="undefined")return this.logger_("Trying to seek outside of seekable at time "+a+" with "+("seekable range "+wS(n)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var d=this.masterPlaylistController_.sourceUpdater_,h=this.tech_.buffered(),f=d.audioBuffer?d.audioBuffered():null,y=d.videoBuffer?d.videoBuffered():null,x=this.media(),S=x.partTargetDuration?x.partTargetDuration:(x.targetDuration-bn)*2,v=[f,y],_=0;_<v.length;_++)if(!!v[_]){var E=Lp(v[_],a);if(E<S)return!1}var C=al(h,a);return C.length===0?!1:(o=C.start(0)+Sr,this.logger_("Buffered region starts ("+C.start(0)+") "+(" just beyond seek point ("+a+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),n=this.tech_.buffered(),a=Di(n,i);if(a.length&&i+3<=a.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region "+("["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var i=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(i,n)){var a=i.end(i.length-1);return this.logger_("Fell out of live window at time "+n+". Seeking to "+("live point (seekable end) "+a)),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var s=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:n});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var u=al(o,n);if(u.length>0){var d=u.start(0)-n;return this.logger_("Stopped at "+n+", setting timer for "+d+", seeking "+("to "+u.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),d*1e3,n),!0}return!1},e.afterSeekableWindow_=function(i,n,a,s){if(s===void 0&&(s=!1),!i.length)return!1;var o=i.end(i.length-1)+Sr,l=!a.endList;return l&&s&&(o=i.end(i.length-1)+a.targetDuration*3),n>o},e.beforeSeekableWindow_=function(i,n){return!!(i.length&&i.start(0)>0&&n<i.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(i){var n=i.videoBuffered,a=i.audioBuffered,s=i.currentTime;if(!!n){var o;if(n.length&&a.length){var l=Di(n,s-3),u=Di(n,s),d=Di(a,s);d.length&&!u.length&&l.length&&(o={start:l.end(0),end:d.end(0)})}else{var h=al(n,s);h.length||(o=this.gapFromVideoUnderflow_(n,s))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+s)),!0):!1}},e.skipTheGap_=function(i){var n=this.tech_.buffered(),a=this.tech_.currentTime(),s=al(n,a);this.cancelTimer_(),!(s.length===0||a!==i)&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",i,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+bn),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(i,n){for(var a=EA(i),s=0;s<a.length;s++){var o=a.start(s),l=a.end(s);if(n-o<4&&n-o>2)return{start:o,end:l}}return null},t}(),DL={errorInterval:30,getSource:function(e){var r=this.tech({IWillNotUseThisInPlugins:!0}),i=r.currentSource_||this.currentSource();return e(i)}},ML=function t(e,r){var i=0,n=0,a=U.mergeOptions(DL,r);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){n&&e.currentTime(n)},o=function(f){f!=null&&(n=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(f),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-i<a.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!="function"){U.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),a.getSource.call(e,o)},u=function h(){e.off("loadedmetadata",s),e.off("error",l),e.off("dispose",h)},d=function(f){u(),t(e,f)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=d},RL=function(e){ML(this,e)},ux="2.12.0",NL="5.14.1",FL="0.19.2",UL="4.7.0",BL="3.1.2",it={PlaylistLoader:Mi,Playlist:Pt,utils:QA,STANDARD_PLAYLIST_SELECTOR:n0,INITIAL_PLAYLIST_SELECTOR:UI,lastBandwidthSelector:n0,movingAverageBandwidthSelector:NI,comparePlaylistBandwidth:Fp,comparePlaylistResolution:RI,xhr:jS()};Object.keys(qe).forEach(function(t){Object.defineProperty(it,t,{get:function(){return U.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),qe[t]},set:function(r){if(U.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof r!="number"||r<0){U.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}qe[t]=r}})});var dx="videojs-vhs",cx=function(e,r){for(var i=r.media(),n=-1,a=0;a<e.length;a++)if(e[a].id===i.id){n=a;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})},jL=function(e,r){r.representations().forEach(function(i){e.addQualityLevel(i)}),cx(e,r.playlists)};it.canPlaySource=function(){return U.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var VL=function(e,r,i){if(!e)return e;var n={};r&&r.attributes&&r.attributes.CODECS&&(n=vu(mr(r.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);var a=Bs(n.video),s=Bs(n.audio),o={};for(var l in e)o[l]={},s&&(o[l].audioContentType=s),a&&(o[l].videoContentType=a),r.contentProtection&&r.contentProtection[l]&&r.contentProtection[l].pssh&&(o[l].pssh=r.contentProtection[l].pssh),typeof e[l]=="string"&&(o[l].url=e[l]);return U.mergeOptions(e,o)},HL=function(e,r){return e.reduce(function(i,n){if(!n.contentProtection)return i;var a=r.reduce(function(s,o){var l=n.contentProtection[o];return l&&l.pssh&&(s[o]={pssh:l.pssh}),s},{});return Object.keys(a).length&&i.push(a),i},[])},zL=function(e){var r=e.player,i=e.sourceKeySystems,n=e.audioMedia,a=e.mainPlaylists;if(!r.eme.initializeMediaKeys)return Promise.resolve();var s=n?a.concat([n]):a,o=HL(s,Object.keys(i)),l=[],u=[];return o.forEach(function(d){u.push(new Promise(function(h,f){r.tech_.one("keysessioncreated",h)})),l.push(new Promise(function(h,f){r.eme.initializeMediaKeys({keySystems:d},function(y){if(y){f(y);return}h()})}))}),Promise.race([Promise.all(l),Promise.race(u)])},WL=function(e){var r=e.player,i=e.sourceKeySystems,n=e.media,a=e.audioMedia,s=VL(i,n,a);return s?(r.currentSource().keySystems=s,s&&!r.eme?(U.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},fx=function(){if(!L.localStorage)return null;var e=L.localStorage.getItem(dx);if(!e)return null;try{return JSON.parse(e)}catch{return null}},$L=function(e){if(!L.localStorage)return!1;var r=fx();r=r?U.mergeOptions(r,e):e;try{L.localStorage.setItem(dx,JSON.stringify(r))}catch{return!1}return r},GL=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};it.supportsNativeHls=function(){if(!$||!$.createElement)return!1;var t=$.createElement("video");if(!U.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(r){return/maybe|probably/i.test(t.canPlayType(r))})}();it.supportsNativeDash=function(){return!$||!$.createElement||!U.getTech("Html5").isSupported()?!1:/maybe|probably/i.test($.createElement("video").canPlayType("application/dash+xml"))}();it.supportsTypeNatively=function(t){return t==="hls"?it.supportsNativeHls:t==="dash"?it.supportsNativeDash:!1};it.isSupported=function(){return U.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var qL=U.getComponent("Component"),Bp=function(t){X(e,t);function e(i,n,a){var s;if(s=t.call(this,n,U.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&U.log.warn("Using hls options is deprecated. Use vhs instead."),typeof a.initialBandwidth=="number"&&(s.options_.bandwidth=a.initialBandwidth),s.logger_=cr("VhsHandler"),n.options_&&n.options_.playerId){var o=U(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return U.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),oe(s)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return U.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),oe(s)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return U.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),oe(s)},configurable:!0}),s.player_=o}if(s.tech_=n,s.source_=i,s.stats={},s.ignoreNextSeekingEvent_=!1,s.setOptions_(),s.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(s.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return s.on($,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var u=$.fullscreenElement||$.webkitFullscreenElement||$.mozFullScreenElement||$.msFullscreenElement;u&&u.contains(s.tech_.el())?s.masterPlaylistController_.fastQualityChange_():s.masterPlaylistController_.checkABR_()}),s.on(s.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),s.on(s.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),s.on(s.tech_,"play",s.play),s}var r=e.prototype;return r.setOptions_=function(){var n=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var a=fx();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=qe.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===qe.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(s){typeof n.source_[s]!="undefined"&&(n.options_[s]=n.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(n,a){var s=this;if(!!n){this.setOptions_(),this.options_.src=GL(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=it,this.options_.sourceType=O_(a),this.options_.seekTo=function(u){s.tech_.setCurrentTime(u)},this.options_.smoothQualityChange&&U.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new PL(this.options_);var o=U.mergeOptions({liveRangeSafeTimeDelta:Sr},this.options_,{seekable:function(){return s.seekable()},media:function(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new OL(o),this.masterPlaylistController_.on("error",function(){var u=U.players[s.tech_.options_.playerId],d=s.masterPlaylistController_.error;typeof d=="object"&&!d.code?d.code=3:typeof d=="string"&&(d={message:d,code:3}),u.error(d)});var l=this.options_.experimentalBufferBasedABR?it.movingAverageBandwidthSelector(.55):it.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=it.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(d){this.masterPlaylistController_.selectPlaylist=d.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=d,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var d=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,h=L.navigator.connection||L.navigator.mozConnection||L.navigator.webkitConnection,f=1e7;if(this.options_.useNetworkInformationApi&&h){var y=h.downlink*1e3*1e3;y>=f&&d>=f?d=Math.max(d,y):d=y}return d},set:function(d){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=d,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var d=1/(this.bandwidth||1),h;this.throughput>0?h=1/this.throughput:h=0;var f=Math.floor(1/(d+h));return f},set:function(){U.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return zn(s.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return s.tech_.name_},enumerable:!0},duration:{get:function(){return s.tech_.duration()},enumerable:!0},master:{get:function(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return zn(s.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){s.options_.useBandwidthFromLocalStorage&&$L({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){LL(s)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){s.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),!!this.tech_.el()&&(this.mediaSourceUrl_=L.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},r.setupEme_=function(){var n=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=WL({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});if(this.player_.tech_.on("keystatuschange",function(o){o.status==="output-restricted"&&n.masterPlaylistController_.blacklistCurrentPlaylist({playlist:n.masterPlaylistController_.media(),message:"DRM keystatus changed to "+o.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),U.browser.IE_VERSION===11||!s){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.logger_("waiting for EME key session creation"),zL({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){n.logger_("created EME key session"),n.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(o){n.logger_("error while creating EME key session",o),n.player_.error({message:"Failed to initialize media keys for EME",code:3})})},r.setupQualityLevels_=function(){var n=this,a=U.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){jL(n.qualityLevels_,n)}),this.playlists.on("mediachange",function(){cx(n.qualityLevels_,n.playlists)}))},e.version=function(){return{"@videojs/http-streaming":ux,"mux.js":NL,"mpd-parser":FL,"m3u8-parser":UL,"aes-decrypter":BL}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return lx.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(n){this.masterPlaylistController_.setCurrentTime(n)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&L.URL.revokeObjectURL&&(L.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),t.prototype.dispose.call(this)},r.convertToProgramTime=function(n,a){return iI({playlist:this.masterPlaylistController_.media(),time:n,callback:a})},r.seekToProgramTime=function(n,a,s,o){return s===void 0&&(s=!0),o===void 0&&(o=2),aI({programTime:n,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},e}(qL),td={name:"videojs-http-streaming",VERSION:ux,canHandleSource:function(e,r){r===void 0&&(r={});var i=U.mergeOptions(U.options,r);return td.canPlayType(e.type,i)},handleSource:function(e,r,i){i===void 0&&(i={});var n=U.mergeOptions(U.options,i);return r.vhs=new Bp(e,r,n),U.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return U.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),r.vhs},configurable:!0}),r.vhs.xhr=jS(),r.vhs.src(e.src,e.type),r.vhs},canPlayType:function(e,r){r===void 0&&(r={});var i=U.mergeOptions(U.options,r),n=i.vhs.overrideNative,a=n===void 0?!U.browser.IS_ANY_SAFARI:n,s=O_(e),o=s&&(!it.supportsTypeNatively(s)||a);return o?"maybe":""}},XL=function(){return bl("avc1.4d400d,mp4a.40.2")};XL()&&U.getTech("Html5").registerSourceHandler(td,0);U.VhsHandler=Bp;Object.defineProperty(U,"HlsHandler",{get:function(){return U.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Bp},configurable:!0});U.VhsSourceHandler=td;Object.defineProperty(U,"HlsSourceHandler",{get:function(){return U.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),td},configurable:!0});U.Vhs=it;Object.defineProperty(U,"Hls",{get:function(){return U.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),it},configurable:!0});U.use||(U.registerComponent("Hls",it),U.registerComponent("Vhs",it));U.options.vhs=U.options.vhs||{};U.options.hls=U.options.hls||{};if(!U.getPlugin||!U.getPlugin("reloadSourceOnError")){var KL=U.registerPlugin||U.plugin;KL("reloadSourceOnError",RL)}function YL(t,e){if(t==null)return{};var r={},i=Object.keys(t),n,a;for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function pc(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))}/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var p0=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,QL=/\\([\u000b\u0020-\u00ff])/g,ZL=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,JL=eO;function eO(t){if(!t)throw new TypeError("argument string is required");var e=typeof t=="object"?tO(t):t;if(typeof e!="string")throw new TypeError("argument string is required to be a string");var r=e.indexOf(";"),i=r!==-1?e.substr(0,r).trim():e.trim();if(!ZL.test(i))throw new TypeError("invalid media type");var n=new rO(i.toLowerCase());if(r!==-1){var a,s,o;for(p0.lastIndex=r;s=p0.exec(e);){if(s.index!==r)throw new TypeError("invalid parameter format");r+=s[0].length,a=s[1].toLowerCase(),o=s[2],o[0]==='"'&&(o=o.substr(1,o.length-2).replace(QL,"$1")),n.parameters[a]=o}if(r!==e.length)throw new TypeError("invalid parameter format")}return n}function tO(t){var e;if(typeof t.getHeader=="function"?e=t.getHeader("content-type"):typeof t.headers=="object"&&(e=t.headers&&t.headers["content-type"]),typeof e!="string")throw new TypeError("content-type header is missing from object");return e}function rO(t){this.parameters=Object.create(null),this.type=t}var Ei=new Map,hx=function(e){return e.cloneNode(!0)},m0=function(){return window.location.protocol==="file:"},px=function(e,r,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&n.readyState===2){var a=n.getResponseHeader("Content-Type");if(!a)throw new Error("Content type not found");var s=JL(a).type;if(!(s==="image/svg+xml"||s==="text/plain"))throw new Error("Invalid content type: ".concat(s))}if(n.readyState===4){if(n.status===404||n.responseXML===null)throw new Error(m0()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(n.status===200||m0()&&n.status===0)i(null,n);else throw new Error("There was a problem injecting the SVG: "+n.status+" "+n.statusText)}}catch(o){if(n.abort(),o instanceof Error)i(o,n);else throw o}},n.open("GET",e),n.withCredentials=r,n.overrideMimeType&&n.overrideMimeType("text/xml"),n.send()},tn={},g0=function(e,r){tn[e]=tn[e]||[],tn[e].push(r)},nO=function(e){for(var r=function(s,o){setTimeout(function(){if(Array.isArray(tn[e])){var l=Ei.get(e),u=tn[e][s];l instanceof SVGSVGElement&&u(null,hx(l)),l instanceof Error&&u(l),s===tn[e].length-1&&delete tn[e]}},0)},i=0,n=tn[e].length;i<n;i++)r(i)},iO=function(e,r,i){if(Ei.has(e)){var n=Ei.get(e);if(n===void 0){g0(e,i);return}if(n instanceof SVGSVGElement){i(null,hx(n));return}}Ei.set(e,void 0),g0(e,i),px(e,r,function(a,s){a?Ei.set(e,a):s.responseXML instanceof Document&&s.responseXML.documentElement&&s.responseXML.documentElement instanceof SVGSVGElement&&Ei.set(e,s.responseXML.documentElement),nO(e)})},aO=function(e,r,i){px(e,r,function(n,a){n?i(n):a.responseXML instanceof Document&&a.responseXML.documentElement&&a.responseXML.documentElement instanceof SVGSVGElement&&i(null,a.responseXML.documentElement)})},sO=0,oO=function(){return++sO},pr=[],v0={},lO="http://www.w3.org/2000/svg",mc="http://www.w3.org/1999/xlink",y0=function(e,r,i,n,a,s,o){var l=e.getAttribute("data-src")||e.getAttribute("src");if(!l){o(new Error("Invalid data-src or src attribute"));return}if(pr.indexOf(e)!==-1){pr.splice(pr.indexOf(e),1),e=null;return}pr.push(e),e.setAttribute("src","");var u=n?iO:aO;u(l,a,function(d,h){if(!h){pr.splice(pr.indexOf(e),1),e=null,o(d);return}var f=e.getAttribute("id");f&&h.setAttribute("id",f);var y=e.getAttribute("title");y&&h.setAttribute("title",y);var x=e.getAttribute("width");x&&h.setAttribute("width",x);var S=e.getAttribute("height");S&&h.setAttribute("height",S);var v=Array.from(new Set(pc(pc(pc([],(h.getAttribute("class")||"").split(" "),!0),["injected-svg"],!1),(e.getAttribute("class")||"").split(" "),!0))).join(" ").trim();h.setAttribute("class",v);var _=e.getAttribute("style");_&&h.setAttribute("style",_),h.setAttribute("data-src",l);var E=[].filter.call(e.attributes,function(he){return/^data-\w[\w-]*$/.test(he.name)});if(Array.prototype.forEach.call(E,function(he){he.name&&he.value&&h.setAttribute(he.name,he.value)}),i){var C={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]},P,M,D,j,N;Object.keys(C).forEach(function(he){P=he,D=C[he],M=h.querySelectorAll(P+"[id]");for(var Le=function(ie,Se){j=M[ie].id,N=j+"-"+oO();var Oe;Array.prototype.forEach.call(D,function(Pr){Oe=h.querySelectorAll("["+Pr+'*="'+j+'"]');for(var Ft=0,wa=Oe.length;Ft<wa;Ft++){var ve=Oe[Ft].getAttribute(Pr);ve&&!ve.match(new RegExp('url\\("?#'+j+'"?\\)'))||Oe[Ft].setAttribute(Pr,"url(#"+N+")")}});for(var Mt=h.querySelectorAll("[*|href]"),Rt=[],Nt=0,fr=Mt.length;Nt<fr;Nt++){var vo=Mt[Nt].getAttributeNS(mc,"href");vo&&vo.toString()==="#"+M[ie].id&&Rt.push(Mt[Nt])}for(var Ea=0,rd=Rt.length;Ea<rd;Ea++)Rt[Ea].setAttributeNS(mc,"href","#"+N);M[ie].id=N},me=0,q=M.length;me<q;me++)Le(me)})}h.removeAttribute("xmlns:a");for(var F=h.querySelectorAll("script"),B=[],z,K,J=0,pe=F.length;J<pe;J++)K=F[J].getAttribute("type"),(!K||K==="application/ecmascript"||K==="application/javascript"||K==="text/javascript")&&(z=F[J].innerText||F[J].textContent,z&&B.push(z),h.removeChild(F[J]));if(B.length>0&&(r==="always"||r==="once"&&!v0[l])){for(var se=0,de=B.length;se<de;se++)new Function(B[se])(window);v0[l]=!0}var fe=h.querySelectorAll("style");if(Array.prototype.forEach.call(fe,function(he){he.textContent+=""}),h.setAttribute("xmlns",lO),h.setAttribute("xmlns:xlink",mc),s(h),!e.parentNode){pr.splice(pr.indexOf(e),1),e=null,o(new Error("Parent node is null"));return}e.parentNode.replaceChild(h,e),pr.splice(pr.indexOf(e),1),e=null,o(null,h)})},uO=function(e,r){var i=r===void 0?{}:r,n=i.afterAll,a=n===void 0?function(){}:n,s=i.afterEach,o=s===void 0?function(){}:s,l=i.beforeEach,u=l===void 0?function(){}:l,d=i.cacheRequests,h=d===void 0?!0:d,f=i.evalScripts,y=f===void 0?"never":f,x=i.httpRequestWithCredentials,S=x===void 0?!1:x,v=i.renumerateIRIElements,_=v===void 0?!0:v;if(e&&"length"in e)for(var E=0,C=0,P=e.length;C<P;C++)y0(e[C],y,_,h,S,u,function(M,D){o(M,D),e&&"length"in e&&e.length===++E&&a(E)});else e?y0(e,y,_,h,S,u,function(M,D){o(M,D),a(1),e=null}):a(0)},et={exports:{}},dO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cO=dO,fO=cO;function mx(){}function gx(){}gx.resetWarningCache=mx;var hO=function(){function t(i,n,a,s,o,l){if(l!==fO){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gx,resetWarningCache:mx};return r.PropTypes=r,r};et.exports=hO();var pO=function(e,r){for(var i in e)if(!(i in r))return!0;for(var n in r)if(e[n]!==r[n])return!0;return!1},mO=["afterInjection","beforeInjection","evalScripts","fallback","httpRequestWithCredentials","loading","renumerateIRIElements","src","useRequestCache","wrapper"],ll="http://www.w3.org/2000/svg",_0="http://www.w3.org/1999/xlink",vx=function(t){X(e,t);function e(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=t.call.apply(t,[this].concat(a))||this,i.initialState={hasError:!1,isLoading:!0},i.state=i.initialState,i._isMounted=!1,i.reactWrapper=void 0,i.nonReactWrapper=void 0,i.refCallback=function(o){i.reactWrapper=o},i}var r=e.prototype;return r.renderSVG=function(){var n=this;if(this.reactWrapper instanceof Node){var a=this.props,s=a.beforeInjection,o=a.evalScripts,l=a.httpRequestWithCredentials,u=a.renumerateIRIElements,d=a.src,h=a.useRequestCache,f=this.props.afterInjection,y=this.props.wrapper,x,S;y==="svg"?(x=document.createElementNS(ll,y),x.setAttribute("xmlns",ll),x.setAttribute("xmlns:xlink",_0),S=document.createElementNS(ll,y)):(x=document.createElement(y),S=document.createElement(y)),x.appendChild(S),S.dataset.src=d,this.nonReactWrapper=this.reactWrapper.appendChild(x);var v=function(E,C){if(E&&(n.removeSVG(),!n._isMounted)){f(E);return}n._isMounted&&n.setState(function(){return{hasError:!!E,isLoading:!1}},function(){f(E,C)})};uO(S,{afterEach:v,beforeEach:s,cacheRequests:h,evalScripts:o,httpRequestWithCredentials:l,renumerateIRIElements:u})}},r.removeSVG=function(){var n;(n=this.nonReactWrapper)!=null&&n.parentNode&&(this.nonReactWrapper.parentNode.removeChild(this.nonReactWrapper),this.nonReactWrapper=null)},r.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},r.componentDidUpdate=function(n){var a=this;pO(n,this.props)&&this.setState(function(){return a.initialState},function(){a.removeSVG(),a.renderSVG()})},r.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},r.render=function(){var n=this.props;n.afterInjection,n.beforeInjection,n.evalScripts;var a=n.fallback;n.httpRequestWithCredentials;var s=n.loading;n.renumerateIRIElements,n.src,n.useRequestCache;var o=n.wrapper,l=YL(n,mO),u=o;return Te.exports.createElement(u,Wt({},l,{ref:this.refCallback},o==="svg"?{xmlns:ll,xmlnsXlink:_0}:{}),this.state.isLoading&&s&&Te.exports.createElement(s,null),this.state.hasError&&a&&Te.exports.createElement(a,null))},e}(Te.exports.Component);vx.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,httpRequestWithCredentials:!1,loading:null,renumerateIRIElements:!0,useRequestCache:!0,wrapper:"div"};vx.propTypes={afterInjection:et.exports.func,beforeInjection:et.exports.func,evalScripts:et.exports.oneOf(["always","once","never"]),fallback:et.exports.oneOfType([et.exports.func,et.exports.object,et.exports.string]),httpRequestWithCredentials:et.exports.bool,loading:et.exports.oneOfType([et.exports.func,et.exports.object,et.exports.string]),renumerateIRIElements:et.exports.bool,src:et.exports.string.isRequired,useRequestCache:et.exports.bool,wrapper:et.exports.oneOf(["div","span","svg"])};function T0(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function jp(t={},e={}){Object.keys(e).forEach(r=>{typeof t[r]=="undefined"?t[r]=e[r]:T0(e[r])&&T0(t[r])&&Object.keys(e[r]).length>0&&jp(t[r],e[r])})}const yx={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function qt(){const t=typeof document!="undefined"?document:{};return jp(t,yx),t}const gO={document:yx,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout=="undefined"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout!="undefined"&&clearTimeout(t)}};function Ze(){const t=typeof window!="undefined"?window:{};return jp(t,gO),t}function vO(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(r){e.__proto__=r}})}class sn extends Array{constructor(e){if(typeof e=="number")super(e);else{super(...e||[]);vO(this)}}}function go(t=[]){const e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...go(r)):e.push(r)}),e}function _x(t,e){return Array.prototype.filter.call(t,e)}function yO(t){const e=[];for(let r=0;r<t.length;r+=1)e.indexOf(t[r])===-1&&e.push(t[r]);return e}function _O(t,e){if(typeof t!="string")return[t];const r=[],i=e.querySelectorAll(t);for(let n=0;n<i.length;n+=1)r.push(i[n]);return r}function te(t,e){const r=Ze(),i=qt();let n=[];if(!e&&t instanceof sn)return t;if(!t)return new sn(n);if(typeof t=="string"){const a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){let s="div";a.indexOf("<li")===0&&(s="ul"),a.indexOf("<tr")===0&&(s="tbody"),(a.indexOf("<td")===0||a.indexOf("<th")===0)&&(s="tr"),a.indexOf("<tbody")===0&&(s="table"),a.indexOf("<option")===0&&(s="select");const o=i.createElement(s);o.innerHTML=a;for(let l=0;l<o.childNodes.length;l+=1)n.push(o.childNodes[l])}else n=_O(t.trim(),e||i)}else if(t.nodeType||t===r||t===i)n.push(t);else if(Array.isArray(t)){if(t instanceof sn)return t;n=t}return new sn(yO(n))}te.fn=sn.prototype;function TO(...t){const e=go(t.map(r=>r.split(" ")));return this.forEach(r=>{r.classList.add(...e)}),this}function SO(...t){const e=go(t.map(r=>r.split(" ")));return this.forEach(r=>{r.classList.remove(...e)}),this}function xO(...t){const e=go(t.map(r=>r.split(" ")));this.forEach(r=>{e.forEach(i=>{r.classList.toggle(i)})})}function bO(...t){const e=go(t.map(r=>r.split(" ")));return _x(this,r=>e.filter(i=>r.classList.contains(i)).length>0).length>0}function EO(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let r=0;r<this.length;r+=1)if(arguments.length===2)this[r].setAttribute(t,e);else for(const i in t)this[r][i]=t[i],this[r].setAttribute(i,t[i]);return this}function wO(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function CO(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function kO(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function PO(...t){let[e,r,i,n]=t;typeof t[1]=="function"&&([e,i,n]=t,r=void 0),n||(n=!1);function a(u){const d=u.target;if(!d)return;const h=u.target.dom7EventData||[];if(h.indexOf(u)<0&&h.unshift(u),te(d).is(r))i.apply(d,h);else{const f=te(d).parents();for(let y=0;y<f.length;y+=1)te(f[y]).is(r)&&i.apply(f[y],h)}}function s(u){const d=u&&u.target?u.target.dom7EventData||[]:[];d.indexOf(u)<0&&d.unshift(u),i.apply(this,d)}const o=e.split(" ");let l;for(let u=0;u<this.length;u+=1){const d=this[u];if(r)for(l=0;l<o.length;l+=1){const h=o[l];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[h]||(d.dom7LiveListeners[h]=[]),d.dom7LiveListeners[h].push({listener:i,proxyListener:a}),d.addEventListener(h,a,n)}else for(l=0;l<o.length;l+=1){const h=o[l];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[h]||(d.dom7Listeners[h]=[]),d.dom7Listeners[h].push({listener:i,proxyListener:s}),d.addEventListener(h,s,n)}}return this}function AO(...t){let[e,r,i,n]=t;typeof t[1]=="function"&&([e,i,n]=t,r=void 0),n||(n=!1);const a=e.split(" ");for(let s=0;s<a.length;s+=1){const o=a[s];for(let l=0;l<this.length;l+=1){const u=this[l];let d;if(!r&&u.dom7Listeners?d=u.dom7Listeners[o]:r&&u.dom7LiveListeners&&(d=u.dom7LiveListeners[o]),d&&d.length)for(let h=d.length-1;h>=0;h-=1){const f=d[h];i&&f.listener===i||i&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===i?(u.removeEventListener(o,f.proxyListener,n),d.splice(h,1)):i||(u.removeEventListener(o,f.proxyListener,n),d.splice(h,1))}}}return this}function IO(...t){const e=Ze(),r=t[0].split(" "),i=t[1];for(let n=0;n<r.length;n+=1){const a=r[n];for(let s=0;s<this.length;s+=1){const o=this[s];if(e.CustomEvent){const l=new e.CustomEvent(a,{detail:i,bubbles:!0,cancelable:!0});o.dom7EventData=t.filter((u,d)=>d>0),o.dispatchEvent(l),o.dom7EventData=[],delete o.dom7EventData}}}return this}function LO(t){const e=this;function r(i){i.target===this&&(t.call(this,i),e.off("transitionend",r))}return t&&e.on("transitionend",r),this}function OO(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function DO(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function MO(){if(this.length>0){const t=Ze(),e=qt(),r=this[0],i=r.getBoundingClientRect(),n=e.body,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,o=r===t?t.scrollY:r.scrollTop,l=r===t?t.scrollX:r.scrollLeft;return{top:i.top+o-a,left:i.left+l-s}}return null}function RO(){const t=Ze();return this[0]?t.getComputedStyle(this[0],null):{}}function NO(t,e){const r=Ze();let i;if(arguments.length===1)if(typeof t=="string"){if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(i=0;i<this.length;i+=1)for(const n in t)this[i].style[n]=t[n];return this}if(arguments.length===2&&typeof t=="string"){for(i=0;i<this.length;i+=1)this[i].style[t]=e;return this}return this}function FO(t){return t?(this.forEach((e,r)=>{t.apply(e,[e,r])}),this):this}function UO(t){const e=_x(this,t);return te(e)}function BO(t){if(typeof t=="undefined")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function jO(t){if(typeof t=="undefined")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function VO(t){const e=Ze(),r=qt(),i=this[0];let n,a;if(!i||typeof t=="undefined")return!1;if(typeof t=="string"){if(i.matches)return i.matches(t);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(i.msMatchesSelector)return i.msMatchesSelector(t);for(n=te(t),a=0;a<n.length;a+=1)if(n[a]===i)return!0;return!1}if(t===r)return i===r;if(t===e)return i===e;if(t.nodeType||t instanceof sn){for(n=t.nodeType?[t]:t,a=0;a<n.length;a+=1)if(n[a]===i)return!0;return!1}return!1}function HO(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function zO(t){if(typeof t=="undefined")return this;const e=this.length;if(t>e-1)return te([]);if(t<0){const r=e+t;return r<0?te([]):te([this[r]])}return te([this[t]])}function WO(...t){let e;const r=qt();for(let i=0;i<t.length;i+=1){e=t[i];for(let n=0;n<this.length;n+=1)if(typeof e=="string"){const a=r.createElement("div");for(a.innerHTML=e;a.firstChild;)this[n].appendChild(a.firstChild)}else if(e instanceof sn)for(let a=0;a<e.length;a+=1)this[n].appendChild(e[a]);else this[n].appendChild(e)}return this}function $O(t){const e=qt();let r,i;for(r=0;r<this.length;r+=1)if(typeof t=="string"){const n=e.createElement("div");for(n.innerHTML=t,i=n.childNodes.length-1;i>=0;i-=1)this[r].insertBefore(n.childNodes[i],this[r].childNodes[0])}else if(t instanceof sn)for(i=0;i<t.length;i+=1)this[r].insertBefore(t[i],this[r].childNodes[0]);else this[r].insertBefore(t,this[r].childNodes[0]);return this}function GO(t){return this.length>0?t?this[0].nextElementSibling&&te(this[0].nextElementSibling).is(t)?te([this[0].nextElementSibling]):te([]):this[0].nextElementSibling?te([this[0].nextElementSibling]):te([]):te([])}function qO(t){const e=[];let r=this[0];if(!r)return te([]);for(;r.nextElementSibling;){const i=r.nextElementSibling;t?te(i).is(t)&&e.push(i):e.push(i),r=i}return te(e)}function XO(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&te(e.previousElementSibling).is(t)?te([e.previousElementSibling]):te([]):e.previousElementSibling?te([e.previousElementSibling]):te([])}return te([])}function KO(t){const e=[];let r=this[0];if(!r)return te([]);for(;r.previousElementSibling;){const i=r.previousElementSibling;t?te(i).is(t)&&e.push(i):e.push(i),r=i}return te(e)}function YO(t){const e=[];for(let r=0;r<this.length;r+=1)this[r].parentNode!==null&&(t?te(this[r].parentNode).is(t)&&e.push(this[r].parentNode):e.push(this[r].parentNode));return te(e)}function QO(t){const e=[];for(let r=0;r<this.length;r+=1){let i=this[r].parentNode;for(;i;)t?te(i).is(t)&&e.push(i):e.push(i),i=i.parentNode}return te(e)}function ZO(t){let e=this;return typeof t=="undefined"?te([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function JO(t){const e=[];for(let r=0;r<this.length;r+=1){const i=this[r].querySelectorAll(t);for(let n=0;n<i.length;n+=1)e.push(i[n])}return te(e)}function eD(t){const e=[];for(let r=0;r<this.length;r+=1){const i=this[r].children;for(let n=0;n<i.length;n+=1)(!t||te(i[n]).is(t))&&e.push(i[n])}return te(e)}function tD(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const S0={addClass:TO,removeClass:SO,hasClass:bO,toggleClass:xO,attr:EO,removeAttr:wO,transform:CO,transition:kO,on:PO,off:AO,trigger:IO,transitionEnd:LO,outerWidth:OO,outerHeight:DO,styles:RO,offset:MO,css:NO,each:FO,html:BO,text:jO,is:VO,index:HO,eq:zO,append:WO,prepend:$O,next:GO,nextAll:qO,prev:XO,prevAll:KO,parent:YO,parents:QO,closest:ZO,find:JO,children:eD,filter:UO,remove:tD};Object.keys(S0).forEach(t=>{Object.defineProperty(te.fn,t,{value:S0[t],writable:!0})});function rD(t){const e=t;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function Rf(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Xs(){return Date.now()}function nD(t){const e=Ze();let r;return e.getComputedStyle&&(r=e.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function iD(t,e){e===void 0&&(e="x");const r=Ze();let i,n,a;const s=nD(t);return r.WebKitCSSMatrix?(n=s.transform||s.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(o=>o.replace(",",".")).join(", ")),a=new r.WebKitCSSMatrix(n==="none"?"":n)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=a.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?n=a.m41:i.length===16?n=parseFloat(i[12]):n=parseFloat(i[4])),e==="y"&&(r.WebKitCSSMatrix?n=a.m42:i.length===16?n=parseFloat(i[13]):n=parseFloat(i[5])),n||0}function ul(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function aD(t){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Vt(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const i=r<0||arguments.length<=r?void 0:arguments[r];if(i!=null&&!aD(i)){const n=Object.keys(Object(i)).filter(a=>e.indexOf(a)<0);for(let a=0,s=n.length;a<s;a+=1){const o=n[a],l=Object.getOwnPropertyDescriptor(i,o);l!==void 0&&l.enumerable&&(ul(t[o])&&ul(i[o])?i[o].__swiper__?t[o]=i[o]:Vt(t[o],i[o]):!ul(t[o])&&ul(i[o])?(t[o]={},i[o].__swiper__?t[o]=i[o]:Vt(t[o],i[o])):t[o]=i[o])}}}return t}function dl(t,e,r){t.style.setProperty(e,r)}function Tx(t){let{swiper:e,targetPosition:r,side:i}=t;const n=Ze(),a=-e.translate;let s=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const u=r>a?"next":"prev",d=(f,y)=>u==="next"&&f>=y||u==="prev"&&f<=y,h=()=>{o=new Date().getTime(),s===null&&(s=o);const f=Math.max(Math.min((o-s)/l,1),0),y=.5-Math.cos(f*Math.PI)/2;let x=a+y*(r-a);if(d(x,r)&&(x=r),e.wrapperEl.scrollTo({[i]:x}),d(x,r)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:x})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(h)};h()}let gc;function sD(){const t=Ze(),e=qt();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let i=!1;try{const n=Object.defineProperty({},"passive",{get(){i=!0}});t.addEventListener("testPassiveListener",null,n)}catch{}return i}(),gestures:function(){return"ongesturestart"in t}()}}function Sx(){return gc||(gc=sD()),gc}let vc;function oD(t){let{userAgent:e}=t===void 0?{}:t;const r=Sx(),i=Ze(),n=i.navigator.platform,a=e||i.navigator.userAgent,s={ios:!1,android:!1},o=i.screen.width,l=i.screen.height,u=a.match(/(Android);?[\s\/]+([\d.]+)?/);let d=a.match(/(iPad).*OS\s([\d_]+)/);const h=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),y=n==="Win32";let x=n==="MacIntel";const S=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&x&&r.touch&&S.indexOf(`${o}x${l}`)>=0&&(d=a.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),x=!1),u&&!y&&(s.os="android",s.android=!0),(d||f||h)&&(s.os="ios",s.ios=!0),s}function lD(t){return t===void 0&&(t={}),vc||(vc=oD(t)),vc}let yc;function uD(){const t=Ze();function e(){const r=t.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function dD(){return yc||(yc=uD()),yc}function cD(t){let{swiper:e,on:r,emit:i}=t;const n=Ze();let a=null,s=null;const o=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(h=>{s=n.requestAnimationFrame(()=>{const{width:f,height:y}=e;let x=f,S=y;h.forEach(v=>{let{contentBoxSize:_,contentRect:E,target:C}=v;C&&C!==e.el||(x=E?E.width:(_[0]||_).inlineSize,S=E?E.height:(_[0]||_).blockSize)}),(x!==f||S!==y)&&o()})}),a.observe(e.el))},u=()=>{s&&n.cancelAnimationFrame(s),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},d=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};r("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver!="undefined"){l();return}n.addEventListener("resize",o),n.addEventListener("orientationchange",d)}),r("destroy",()=>{u(),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",d)})}function fD(t){let{swiper:e,extendParams:r,on:i,emit:n}=t;const a=[],s=Ze(),o=function(d,h){h===void 0&&(h={});const f=s.MutationObserver||s.WebkitMutationObserver,y=new f(x=>{if(x.length===1){n("observerUpdate",x[0]);return}const S=function(){n("observerUpdate",x[0])};s.requestAnimationFrame?s.requestAnimationFrame(S):s.setTimeout(S,0)});y.observe(d,{attributes:typeof h.attributes=="undefined"?!0:h.attributes,childList:typeof h.childList=="undefined"?!0:h.childList,characterData:typeof h.characterData=="undefined"?!0:h.characterData}),a.push(y)},l=()=>{if(!!e.params.observer){if(e.params.observeParents){const d=e.$el.parents();for(let h=0;h<d.length;h+=1)o(d[h])}o(e.$el[0],{childList:e.params.observeSlideChildren}),o(e.$wrapperEl[0],{attributes:!1})}},u=()=>{a.forEach(d=>{d.disconnect()}),a.splice(0,a.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",u)}var hD={on(t,e,r){const i=this;if(typeof e!="function")return i;const n=r?"unshift":"push";return t.split(" ").forEach(a=>{i.eventsListeners[a]||(i.eventsListeners[a]=[]),i.eventsListeners[a][n](e)}),i},once(t,e,r){const i=this;if(typeof e!="function")return i;function n(){i.off(t,n),n.__emitterProxy&&delete n.__emitterProxy;for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];e.apply(i,s)}return n.__emitterProxy=e,i.on(t,n,r)},onAny(t,e){const r=this;if(typeof t!="function")return r;const i=e?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[i](t),r},offAny(t){const e=this;if(!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(t);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(t,e){const r=this;return r.eventsListeners&&t.split(" ").forEach(i=>{typeof e=="undefined"?r.eventsListeners[i]=[]:r.eventsListeners[i]&&r.eventsListeners[i].forEach((n,a)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&r.eventsListeners[i].splice(a,1)})}),r},emit(){const t=this;if(!t.eventsListeners)return t;let e,r,i;for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],r=a.slice(1,a.length),i=t):(e=a[0].events,r=a[0].data,i=a[0].context||t),r.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(i,[l,...r])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(i,r)})}),t}};function pD(){const t=this;let e,r;const i=t.$el;typeof t.params.width!="undefined"&&t.params.width!==null?e=t.params.width:e=i[0].clientWidth,typeof t.params.height!="undefined"&&t.params.height!==null?r=t.params.height:r=i[0].clientHeight,!(e===0&&t.isHorizontal()||r===0&&t.isVertical())&&(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),r=r-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:e,height:r,size:t.isHorizontal()?e:r}))}function mD(){const t=this;function e(B){return t.isHorizontal()?B:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[B]}function r(B,z){return parseFloat(B.getPropertyValue(e(z))||0)}const i=t.params,{$wrapperEl:n,size:a,rtlTranslate:s,wrongRTL:o}=t,l=t.virtual&&i.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,d=n.children(`.${t.params.slideClass}`),h=l?t.virtual.slides.length:d.length;let f=[];const y=[],x=[];let S=i.slidesOffsetBefore;typeof S=="function"&&(S=i.slidesOffsetBefore.call(t));let v=i.slidesOffsetAfter;typeof v=="function"&&(v=i.slidesOffsetAfter.call(t));const _=t.snapGrid.length,E=t.slidesGrid.length;let C=i.spaceBetween,P=-S,M=0,D=0;if(typeof a=="undefined")return;typeof C=="string"&&C.indexOf("%")>=0&&(C=parseFloat(C.replace("%",""))/100*a),t.virtualSize=-C,s?d.css({marginLeft:"",marginBottom:"",marginTop:""}):d.css({marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(dl(t.wrapperEl,"--swiper-centered-offset-before",""),dl(t.wrapperEl,"--swiper-centered-offset-after",""));const j=i.grid&&i.grid.rows>1&&t.grid;j&&t.grid.initSlides(h);let N;const F=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(B=>typeof i.breakpoints[B].slidesPerView!="undefined").length>0;for(let B=0;B<h;B+=1){N=0;const z=d.eq(B);if(j&&t.grid.updateSlide(B,z,h,e),z.css("display")!=="none"){if(i.slidesPerView==="auto"){F&&(d[B].style[e("width")]="");const K=getComputedStyle(z[0]),J=z[0].style.transform,pe=z[0].style.webkitTransform;if(J&&(z[0].style.transform="none"),pe&&(z[0].style.webkitTransform="none"),i.roundLengths)N=t.isHorizontal()?z.outerWidth(!0):z.outerHeight(!0);else{const se=r(K,"width"),de=r(K,"padding-left"),fe=r(K,"padding-right"),he=r(K,"margin-left"),Le=r(K,"margin-right"),me=K.getPropertyValue("box-sizing");if(me&&me==="border-box")N=se+he+Le;else{const{clientWidth:q,offsetWidth:re}=z[0];N=se+de+fe+he+Le+(re-q)}}J&&(z[0].style.transform=J),pe&&(z[0].style.webkitTransform=pe),i.roundLengths&&(N=Math.floor(N))}else N=(a-(i.slidesPerView-1)*C)/i.slidesPerView,i.roundLengths&&(N=Math.floor(N)),d[B]&&(d[B].style[e("width")]=`${N}px`);d[B]&&(d[B].swiperSlideSize=N),x.push(N),i.centeredSlides?(P=P+N/2+M/2+C,M===0&&B!==0&&(P=P-a/2-C),B===0&&(P=P-a/2-C),Math.abs(P)<1/1e3&&(P=0),i.roundLengths&&(P=Math.floor(P)),D%i.slidesPerGroup===0&&f.push(P),y.push(P)):(i.roundLengths&&(P=Math.floor(P)),(D-Math.min(t.params.slidesPerGroupSkip,D))%t.params.slidesPerGroup===0&&f.push(P),y.push(P),P=P+N+C),t.virtualSize+=N+C,M=N,D+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+v,s&&o&&(i.effect==="slide"||i.effect==="coverflow")&&n.css({width:`${t.virtualSize+i.spaceBetween}px`}),i.setWrapperSize&&n.css({[e("width")]:`${t.virtualSize+i.spaceBetween}px`}),j&&t.grid.updateWrapperSize(N,f,e),!i.centeredSlides){const B=[];for(let z=0;z<f.length;z+=1){let K=f[z];i.roundLengths&&(K=Math.floor(K)),f[z]<=t.virtualSize-a&&B.push(K)}f=B,Math.floor(t.virtualSize-a)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-a)}if(f.length===0&&(f=[0]),i.spaceBetween!==0){const B=t.isHorizontal()&&s?"marginLeft":e("marginRight");d.filter((z,K)=>i.cssMode?K!==d.length-1:!0).css({[B]:`${C}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let B=0;x.forEach(K=>{B+=K+(i.spaceBetween?i.spaceBetween:0)}),B-=i.spaceBetween;const z=B-a;f=f.map(K=>K<0?-S:K>z?z+v:K)}if(i.centerInsufficientSlides){let B=0;if(x.forEach(z=>{B+=z+(i.spaceBetween?i.spaceBetween:0)}),B-=i.spaceBetween,B<a){const z=(a-B)/2;f.forEach((K,J)=>{f[J]=K-z}),y.forEach((K,J)=>{y[J]=K+z})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:y,slidesSizesGrid:x}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){dl(t.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),dl(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-x[x.length-1]/2}px`);const B=-t.snapGrid[0],z=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(K=>K+B),t.slidesGrid=t.slidesGrid.map(K=>K+z)}if(h!==u&&t.emit("slidesLengthChange"),f.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),y.length!==E&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const B=`${i.containerModifierClass}backface-hidden`,z=t.$el.hasClass(B);h<=i.maxBackfaceHiddenSlides?z||t.$el.addClass(B):z&&t.$el.removeClass(B)}}function gD(t){const e=this,r=[],i=e.virtual&&e.params.virtual.enabled;let n=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=o=>i?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===o)[0]:e.slides.eq(o)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)e.visibleSlides.each(o=>{r.push(o)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const o=e.activeIndex+a;if(o>e.slides.length&&!i)break;r.push(s(o))}else r.push(s(e.activeIndex));for(a=0;a<r.length;a+=1)if(typeof r[a]!="undefined"){const o=r[a].offsetHeight;n=o>n?o:n}(n||n===0)&&e.$wrapperEl.css("height",`${n}px`)}function vD(){const t=this,e=t.slides;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop}function yD(t){t===void 0&&(t=this&&this.translate||0);const e=this,r=e.params,{slides:i,rtlTranslate:n,snapGrid:a}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset=="undefined"&&e.updateSlidesOffset();let s=-t;n&&(s=t),i.removeClass(r.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let o=0;o<i.length;o+=1){const l=i[o];let u=l.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(s+(r.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+r.spaceBetween),h=(s-a[0]+(r.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+r.spaceBetween),f=-(s-u),y=f+e.slidesSizesGrid[o];(f>=0&&f<e.size-1||y>1&&y<=e.size||f<=0&&y>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(o),i.eq(o).addClass(r.slideVisibleClass)),l.progress=n?-d:d,l.originalProgress=n?-h:h}e.visibleSlides=te(e.visibleSlides)}function _D(t){const e=this;if(typeof t=="undefined"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const r=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:a,isEnd:s}=e;const o=a,l=s;i===0?(n=0,a=!0,s=!0):(n=(t-e.minTranslate())/i,a=n<=0,s=n>=1),Object.assign(e,{progress:n,isBeginning:a,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(t),a&&!o&&e.emit("reachBeginning toEdge"),s&&!l&&e.emit("reachEnd toEdge"),(o&&!a||l&&!s)&&e.emit("fromEdge"),e.emit("progress",n)}function TD(){const t=this,{slides:e,params:r,$wrapperEl:i,activeIndex:n,realIndex:a}=t,s=t.virtual&&r.virtual.enabled;e.removeClass(`${r.slideActiveClass} ${r.slideNextClass} ${r.slidePrevClass} ${r.slideDuplicateActiveClass} ${r.slideDuplicateNextClass} ${r.slideDuplicatePrevClass}`);let o;s?o=t.$wrapperEl.find(`.${r.slideClass}[data-swiper-slide-index="${n}"]`):o=e.eq(n),o.addClass(r.slideActiveClass),r.loop&&(o.hasClass(r.slideDuplicateClass)?i.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${a}"]`).addClass(r.slideDuplicateActiveClass):i.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${a}"]`).addClass(r.slideDuplicateActiveClass));let l=o.nextAll(`.${r.slideClass}`).eq(0).addClass(r.slideNextClass);r.loop&&l.length===0&&(l=e.eq(0),l.addClass(r.slideNextClass));let u=o.prevAll(`.${r.slideClass}`).eq(0).addClass(r.slidePrevClass);r.loop&&u.length===0&&(u=e.eq(-1),u.addClass(r.slidePrevClass)),r.loop&&(l.hasClass(r.slideDuplicateClass)?i.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass):i.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass),u.hasClass(r.slideDuplicateClass)?i.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass):i.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()}function SD(t){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:i,snapGrid:n,params:a,activeIndex:s,realIndex:o,snapIndex:l}=e;let u=t,d;if(typeof u=="undefined"){for(let f=0;f<i.length;f+=1)typeof i[f+1]!="undefined"?r>=i[f]&&r<i[f+1]-(i[f+1]-i[f])/2?u=f:r>=i[f]&&r<i[f+1]&&(u=f+1):r>=i[f]&&(u=f);a.normalizeSlideIndex&&(u<0||typeof u=="undefined")&&(u=0)}if(n.indexOf(r)>=0)d=n.indexOf(r);else{const f=Math.min(a.slidesPerGroupSkip,u);d=f+Math.floor((u-f)/a.slidesPerGroup)}if(d>=n.length&&(d=n.length-1),u===s){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}const h=parseInt(e.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(e,{snapIndex:d,realIndex:h,previousIndex:s,activeIndex:u}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),o!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function xD(t){const e=this,r=e.params,i=te(t).closest(`.${r.slideClass}`)[0];let n=!1,a;if(i){for(let s=0;s<e.slides.length;s+=1)if(e.slides[s]===i){n=!0,a=s;break}}if(i&&n)e.clickedSlide=i,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(te(i).attr("data-swiper-slide-index"),10):e.clickedIndex=a;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}r.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var bD={updateSize:pD,updateSlides:mD,updateAutoHeight:gD,updateSlidesOffset:vD,updateSlidesProgress:yD,updateProgress:_D,updateSlidesClasses:TD,updateActiveIndex:SD,updateClickedSlide:xD};function ED(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:r,rtlTranslate:i,translate:n,$wrapperEl:a}=e;if(r.virtualTranslate)return i?-n:n;if(r.cssMode)return n;let s=iD(a[0],t);return i&&(s=-s),s||0}function wD(t,e){const r=this,{rtlTranslate:i,params:n,$wrapperEl:a,wrapperEl:s,progress:o}=r;let l=0,u=0;const d=0;r.isHorizontal()?l=i?-t:t:u=t,n.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),n.cssMode?s[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-l:-u:n.virtualTranslate||a.transform(`translate3d(${l}px, ${u}px, ${d}px)`),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?l:u;let h;const f=r.maxTranslate()-r.minTranslate();f===0?h=0:h=(t-r.minTranslate())/f,h!==o&&r.updateProgress(t),r.emit("setTranslate",r.translate,e)}function CD(){return-this.snapGrid[0]}function kD(){return-this.snapGrid[this.snapGrid.length-1]}function PD(t,e,r,i,n){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),i===void 0&&(i=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),u=a.maxTranslate();let d;if(i&&t>l?d=l:i&&t<u?d=u:d=t,a.updateProgress(d),s.cssMode){const h=a.isHorizontal();if(e===0)o[h?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return Tx({swiper:a,targetPosition:-d,side:h?"left":"top"}),!0;o.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(d),r&&(a.emit("beforeTransitionStart",e,n),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(d),r&&(a.emit("beforeTransitionStart",e,n),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(f){!a||a.destroyed||f.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,r&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}var AD={getTranslate:ED,setTranslate:wD,minTranslate:CD,maxTranslate:kD,translateTo:PD};function ID(t,e){const r=this;r.params.cssMode||r.$wrapperEl.transition(t),r.emit("setTransition",t,e)}function xx(t){let{swiper:e,runCallbacks:r,direction:i,step:n}=t;const{activeIndex:a,previousIndex:s}=e;let o=i;if(o||(a>s?o="next":a<s?o="prev":o="reset"),e.emit(`transition${n}`),r&&a!==s){if(o==="reset"){e.emit(`slideResetTransition${n}`);return}e.emit(`slideChangeTransition${n}`),o==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}function LD(t,e){t===void 0&&(t=!0);const r=this,{params:i}=r;i.cssMode||(i.autoHeight&&r.updateAutoHeight(),xx({swiper:r,runCallbacks:t,direction:e,step:"Start"}))}function OD(t,e){t===void 0&&(t=!0);const r=this,{params:i}=r;r.animating=!1,!i.cssMode&&(r.setTransition(0),xx({swiper:r,runCallbacks:t,direction:e,step:"End"}))}var DD={setTransition:ID,transitionStart:LD,transitionEnd:OD};function MD(t,e,r,i,n){if(t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const C=parseInt(t,10);if(!isFinite(C))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=C}const a=this;let s=t;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:u,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:y,enabled:x}=a;if(a.animating&&o.preventInteractionOnTransition||!x&&!i&&!n)return!1;const S=Math.min(a.params.slidesPerGroupSkip,s);let v=S+Math.floor((s-S)/a.params.slidesPerGroup);v>=l.length&&(v=l.length-1),(h||o.initialSlide||0)===(d||0)&&r&&a.emit("beforeSlideChangeStart");const _=-l[v];if(a.updateProgress(_),o.normalizeSlideIndex)for(let C=0;C<u.length;C+=1){const P=-Math.floor(_*100),M=Math.floor(u[C]*100),D=Math.floor(u[C+1]*100);typeof u[C+1]!="undefined"?P>=M&&P<D-(D-M)/2?s=C:P>=M&&P<D&&(s=C+1):P>=M&&(s=C)}if(a.initialized&&s!==h&&(!a.allowSlideNext&&_<a.translate&&_<a.minTranslate()||!a.allowSlidePrev&&_>a.translate&&_>a.maxTranslate()&&(h||0)!==s))return!1;let E;if(s>h?E="next":s<h?E="prev":E="reset",f&&-_===a.translate||!f&&_===a.translate)return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),o.effect!=="slide"&&a.setTranslate(_),E!=="reset"&&(a.transitionStart(r,E),a.transitionEnd(r,E)),!1;if(o.cssMode){const C=a.isHorizontal(),P=f?_:-_;if(e===0){const M=a.virtual&&a.params.virtual.enabled;M&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),y[C?"scrollLeft":"scrollTop"]=P,M&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1})}else{if(!a.support.smoothScroll)return Tx({swiper:a,targetPosition:P,side:C?"left":"top"}),!0;y.scrollTo({[C?"left":"top"]:P,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(_),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,i),a.transitionStart(r,E),e===0?a.transitionEnd(r,E):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(P){!a||a.destroyed||P.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(r,E))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0}function RD(t,e,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0);const n=this;let a=t;return n.params.loop&&(a+=n.loopedSlides),n.slideTo(a,e,r,i)}function ND(t,e,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const i=this,{animating:n,enabled:a,params:s}=i;if(!a)return i;let o=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:o;if(s.loop){if(n&&s.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return s.rewind&&i.isEnd?i.slideTo(0,t,e,r):i.slideTo(i.activeIndex+l,t,e,r)}function FD(t,e,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const i=this,{params:n,animating:a,snapGrid:s,slidesGrid:o,rtlTranslate:l,enabled:u}=i;if(!u)return i;if(n.loop){if(a&&n.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}const d=l?i.translate:-i.translate;function h(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const f=h(d),y=s.map(v=>h(v));let x=s[y.indexOf(f)-1];if(typeof x=="undefined"&&n.cssMode){let v;s.forEach((_,E)=>{f>=_&&(v=E)}),typeof v!="undefined"&&(x=s[v>0?v-1:v])}let S=0;if(typeof x!="undefined"&&(S=o.indexOf(x),S<0&&(S=i.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(S=S-i.slidesPerViewDynamic("previous",!0)+1,S=Math.max(S,0))),n.rewind&&i.isBeginning){const v=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(v,t,e,r)}return i.slideTo(S,t,e,r)}function UD(t,e,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const i=this;return i.slideTo(i.activeIndex,t,e,r)}function BD(t,e,r,i){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);const n=this;let a=n.activeIndex;const s=Math.min(n.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/n.params.slidesPerGroup),l=n.rtlTranslate?n.translate:-n.translate;if(l>=n.snapGrid[o]){const u=n.snapGrid[o],d=n.snapGrid[o+1];l-u>(d-u)*i&&(a+=n.params.slidesPerGroup)}else{const u=n.snapGrid[o-1],d=n.snapGrid[o];l-u<=(d-u)*i&&(a-=n.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,n.slidesGrid.length-1),n.slideTo(a,t,e,r)}function jD(){const t=this,{params:e,$wrapperEl:r}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let n=t.clickedIndex,a;if(e.loop){if(t.animating)return;a=parseInt(te(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?n<t.loopedSlides-i/2||n>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),n=r.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Rf(()=>{t.slideTo(n)})):t.slideTo(n):n>t.slides.length-i?(t.loopFix(),n=r.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Rf(()=>{t.slideTo(n)})):t.slideTo(n)}else t.slideTo(n)}var VD={slideTo:MD,slideToLoop:RD,slideNext:ND,slidePrev:FD,slideReset:UD,slideToClosest:BD,slideToClickedSlide:jD};function HD(){const t=this,e=qt(),{params:r,$wrapperEl:i}=t,n=i.children().length>0?te(i.children()[0].parentNode):i;n.children(`.${r.slideClass}.${r.slideDuplicateClass}`).remove();let a=n.children(`.${r.slideClass}`);if(r.loopFillGroupWithBlank){const l=r.slidesPerGroup-a.length%r.slidesPerGroup;if(l!==r.slidesPerGroup){for(let u=0;u<l;u+=1){const d=te(e.createElement("div")).addClass(`${r.slideClass} ${r.slideBlankClass}`);n.append(d)}a=n.children(`.${r.slideClass}`)}}r.slidesPerView==="auto"&&!r.loopedSlides&&(r.loopedSlides=a.length),t.loopedSlides=Math.ceil(parseFloat(r.loopedSlides||r.slidesPerView,10)),t.loopedSlides+=r.loopAdditionalSlides,t.loopedSlides>a.length&&(t.loopedSlides=a.length);const s=[],o=[];a.each((l,u)=>{const d=te(l);u<t.loopedSlides&&o.push(l),u<a.length&&u>=a.length-t.loopedSlides&&s.push(l),d.attr("data-swiper-slide-index",u)});for(let l=0;l<o.length;l+=1)n.append(te(o[l].cloneNode(!0)).addClass(r.slideDuplicateClass));for(let l=s.length-1;l>=0;l-=1)n.prepend(te(s[l].cloneNode(!0)).addClass(r.slideDuplicateClass))}function zD(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:r,loopedSlides:i,allowSlidePrev:n,allowSlideNext:a,snapGrid:s,rtlTranslate:o}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const d=-s[e]-t.getTranslate();e<i?(l=r.length-i*3+e,l+=i,t.slideTo(l,0,!1,!0)&&d!==0&&t.setTranslate((o?-t.translate:t.translate)-d)):e>=r.length-i&&(l=-r.length+e+i,l+=i,t.slideTo(l,0,!1,!0)&&d!==0&&t.setTranslate((o?-t.translate:t.translate)-d)),t.allowSlidePrev=n,t.allowSlideNext=a,t.emit("loopFix")}function WD(){const t=this,{$wrapperEl:e,params:r,slides:i}=t;e.children(`.${r.slideClass}.${r.slideDuplicateClass},.${r.slideClass}.${r.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}var $D={loopCreate:HD,loopFix:zD,loopDestroy:WD};function GD(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;r.style.cursor="move",r.style.cursor=t?"-webkit-grabbing":"-webkit-grab",r.style.cursor=t?"-moz-grabbin":"-moz-grab",r.style.cursor=t?"grabbing":"grab"}function qD(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}var XD={setGrabCursor:GD,unsetGrabCursor:qD};function KD(t,e){e===void 0&&(e=this);function r(i){return!i||i===qt()||i===Ze()?null:(i.assignedSlot&&(i=i.assignedSlot),i.closest(t)||r(i.getRootNode().host))}return r(e)}function YD(t){const e=this,r=qt(),i=Ze(),n=e.touchEventsData,{params:a,touches:s,enabled:o}=e;if(!o||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let u=te(l.target);if(a.touchEventsTarget==="wrapper"&&!u.closest(e.wrapperEl).length||(n.isTouchEvent=l.type==="touchstart",!n.isTouchEvent&&"which"in l&&l.which===3)||!n.isTouchEvent&&"button"in l&&l.button>0||n.isTouched&&n.isMoved)return;!!a.noSwipingClass&&a.noSwipingClass!==""&&l.target&&l.target.shadowRoot&&t.path&&t.path[0]&&(u=te(t.path[0]));const h=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,f=!!(l.target&&l.target.shadowRoot);if(a.noSwiping&&(f?KD(h,l.target):u.closest(h)[0])){e.allowClick=!0;return}if(a.swipeHandler&&!u.closest(a.swipeHandler)[0])return;s.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,s.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const y=s.currentX,x=s.currentY,S=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,v=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(S&&(y<=v||y>=i.innerWidth-v))if(S==="prevent")t.preventDefault();else return;if(Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=y,s.startY=x,n.touchStartTime=Xs(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(n.allowThresholdMove=!1),l.type!=="touchstart"){let _=!0;u.is(n.focusableElements)&&(_=!1,u[0].nodeName==="SELECT"&&(n.isTouched=!1)),r.activeElement&&te(r.activeElement).is(n.focusableElements)&&r.activeElement!==u[0]&&r.activeElement.blur();const E=_&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||E)&&!u[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function QD(t){const e=qt(),r=this,i=r.touchEventsData,{params:n,touches:a,rtlTranslate:s,enabled:o}=r;if(!o)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&r.emit("touchMoveOpposite",l);return}if(i.isTouchEvent&&l.type!=="touchmove")return;const u=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),d=l.type==="touchmove"?u.pageX:l.pageX,h=l.type==="touchmove"?u.pageY:l.pageY;if(l.preventedByNestedSwiper){a.startX=d,a.startY=h;return}if(!r.allowTouchMove){te(l.target).is(i.focusableElements)||(r.allowClick=!1),i.isTouched&&(Object.assign(a,{startX:d,startY:h,currentX:d,currentY:h}),i.touchStartTime=Xs());return}if(i.isTouchEvent&&n.touchReleaseOnEdges&&!n.loop){if(r.isVertical()){if(h<a.startY&&r.translate<=r.maxTranslate()||h>a.startY&&r.translate>=r.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<a.startX&&r.translate<=r.maxTranslate()||d>a.startX&&r.translate>=r.minTranslate())return}if(i.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&te(l.target).is(i.focusableElements)){i.isMoved=!0,r.allowClick=!1;return}if(i.allowTouchCallbacks&&r.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;a.currentX=d,a.currentY=h;const f=a.currentX-a.startX,y=a.currentY-a.startY;if(r.params.threshold&&Math.sqrt(f**2+y**2)<r.params.threshold)return;if(typeof i.isScrolling=="undefined"){let _;r.isHorizontal()&&a.currentY===a.startY||r.isVertical()&&a.currentX===a.startX?i.isScrolling=!1:f*f+y*y>=25&&(_=Math.atan2(Math.abs(y),Math.abs(f))*180/Math.PI,i.isScrolling=r.isHorizontal()?_>n.touchAngle:90-_>n.touchAngle)}if(i.isScrolling&&r.emit("touchMoveOpposite",l),typeof i.startMoving=="undefined"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(i.startMoving=!0),i.isScrolling){i.isTouched=!1;return}if(!i.startMoving)return;r.allowClick=!1,!n.cssMode&&l.cancelable&&l.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&l.stopPropagation(),i.isMoved||(n.loop&&!n.cssMode&&r.loopFix(),i.startTranslate=r.getTranslate(),r.setTransition(0),r.animating&&r.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,n.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)),r.emit("sliderMove",l),i.isMoved=!0;let x=r.isHorizontal()?f:y;a.diff=x,x*=n.touchRatio,s&&(x=-x),r.swipeDirection=x>0?"prev":"next",i.currentTranslate=x+i.startTranslate;let S=!0,v=n.resistanceRatio;if(n.touchReleaseOnEdges&&(v=0),x>0&&i.currentTranslate>r.minTranslate()?(S=!1,n.resistance&&(i.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+i.startTranslate+x)**v)):x<0&&i.currentTranslate<r.maxTranslate()&&(S=!1,n.resistance&&(i.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-i.startTranslate-x)**v)),S&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0)if(Math.abs(x)>n.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,i.currentTranslate=i.startTranslate,a.diff=r.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{i.currentTranslate=i.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&r.freeMode||n.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),r.params.freeMode&&n.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(i.currentTranslate),r.setTranslate(i.currentTranslate))}function ZD(t){const e=this,r=e.touchEventsData,{params:i,touches:n,rtlTranslate:a,slidesGrid:s,enabled:o}=e;if(!o)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),r.allowTouchCallbacks&&e.emit("touchEnd",l),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&i.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}i.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=Xs(),d=u-r.touchStartTime;if(e.allowClick){const E=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(E&&E[0]||l.target),e.emit("tap click",l),d<300&&u-r.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(r.lastClickTime=Xs(),Rf(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||n.diff===0||r.currentTranslate===r.startTranslate){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let h;if(i.followFinger?h=a?e.translate:-e.translate:h=-r.currentTranslate,i.cssMode)return;if(e.params.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,y=e.slidesSizesGrid[0];for(let E=0;E<s.length;E+=E<i.slidesPerGroupSkip?1:i.slidesPerGroup){const C=E<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof s[E+C]!="undefined"?h>=s[E]&&h<s[E+C]&&(f=E,y=s[E+C]-s[E]):h>=s[E]&&(f=E,y=s[s.length-1]-s[s.length-2])}let x=null,S=null;i.rewind&&(e.isBeginning?S=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(x=0));const v=(h-s[f])/y,_=f<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?x:f+_):e.slideTo(f)),e.swipeDirection==="prev"&&(v>1-i.longSwipesRatio?e.slideTo(f+_):S!==null&&v<0&&Math.abs(v)>i.longSwipesRatio?e.slideTo(S):e.slideTo(f))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+_):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(x!==null?x:f+_),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:f))}}function x0(){const t=this,{params:e,el:r}=t;if(r&&r.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:a}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=n,t.allowSlideNext=i,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function JD(t){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function eM(){const t=this,{wrapperEl:e,rtlTranslate:r,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===-0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let n;const a=t.maxTranslate()-t.minTranslate();a===0?n=0:n=(t.translate-t.minTranslate())/a,n!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let b0=!1;function tM(){}const bx=(t,e)=>{const r=qt(),{params:i,touchEvents:n,el:a,wrapperEl:s,device:o,support:l}=t,u=!!i.nested,d=e==="on"?"addEventListener":"removeEventListener",h=e;if(!l.touch)a[d](n.start,t.onTouchStart,!1),r[d](n.move,t.onTouchMove,u),r[d](n.end,t.onTouchEnd,!1);else{const f=n.start==="touchstart"&&l.passiveListener&&i.passiveListeners?{passive:!0,capture:!1}:!1;a[d](n.start,t.onTouchStart,f),a[d](n.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),a[d](n.end,t.onTouchEnd,f),n.cancel&&a[d](n.cancel,t.onTouchEnd,f)}(i.preventClicks||i.preventClicksPropagation)&&a[d]("click",t.onClick,!0),i.cssMode&&s[d]("scroll",t.onScroll),i.updateOnWindowResize?t[h](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",x0,!0):t[h]("observerUpdate",x0,!0)};function rM(){const t=this,e=qt(),{params:r,support:i}=t;t.onTouchStart=YD.bind(t),t.onTouchMove=QD.bind(t),t.onTouchEnd=ZD.bind(t),r.cssMode&&(t.onScroll=eM.bind(t)),t.onClick=JD.bind(t),i.touch&&!b0&&(e.addEventListener("touchstart",tM),b0=!0),bx(t,"on")}function nM(){bx(this,"off")}var iM={attachEvents:rM,detachEvents:nM};const E0=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function aM(){const t=this,{activeIndex:e,initialized:r,loopedSlides:i=0,params:n,$el:a}=t,s=n.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const u=(o in s?s[o]:void 0)||t.originalParams,d=E0(t,n),h=E0(t,u),f=n.enabled;d&&!h?(a.removeClass(`${n.containerModifierClass}grid ${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&h&&(a.addClass(`${n.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&n.grid.fill==="column")&&a.addClass(`${n.containerModifierClass}grid-column`),t.emitContainerClasses());const y=u.direction&&u.direction!==n.direction,x=n.loop&&(u.slidesPerView!==n.slidesPerView||y);y&&r&&t.changeDirection(),Vt(t.params,u);const S=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!S?t.disable():!f&&S&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",u),x&&r&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-i+t.loopedSlides,0,!1)),t.emit("breakpoint",u)}function sM(t,e,r){if(e===void 0&&(e="window"),!t||e==="container"&&!r)return;let i=!1;const n=Ze(),a=e==="window"?n.innerHeight:r.clientHeight,s=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:a*l,point:o}}return{value:o,point:o}});s.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<s.length;o+=1){const{point:l,value:u}=s[o];e==="window"?n.matchMedia(`(min-width: ${u}px)`).matches&&(i=l):u<=r.clientWidth&&(i=l)}return i||"max"}var oM={setBreakpoint:aM,getBreakpoint:sM};function lM(t,e){const r=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(n=>{i[n]&&r.push(e+n)}):typeof i=="string"&&r.push(e+i)}),r}function uM(){const t=this,{classNames:e,params:r,rtl:i,$el:n,device:a,support:s}=t,o=lM(["initialized",r.direction,{"pointer-events":!s.touch},{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:i},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides}],r.containerModifierClass);e.push(...o),n.addClass([...e].join(" ")),t.emitContainerClasses()}function dM(){const t=this,{$el:e,classNames:r}=t;e.removeClass(r.join(" ")),t.emitContainerClasses()}var cM={addClasses:uM,removeClasses:dM};function fM(t,e,r,i,n,a){const s=Ze();let o;function l(){a&&a()}!te(t).parent("picture")[0]&&(!t.complete||!n)&&e?(o=new s.Image,o.onload=l,o.onerror=l,i&&(o.sizes=i),r&&(o.srcset=r),e&&(o.src=e)):l()}function hM(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t=="undefined"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let r=0;r<t.imagesToLoad.length;r+=1){const i=t.imagesToLoad[r];t.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}var pM={loadImage:fM,preloadImages:hM};function mM(){const t=this,{isLocked:e,params:r}=t,{slidesOffsetBefore:i}=r;if(i){const n=t.slides.length-1,a=t.slidesGrid[n]+t.slidesSizesGrid[n]+i*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var gM={checkOverflow:mM},w0={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function vM(t,e){return function(i){i===void 0&&(i={});const n=Object.keys(i)[0],a=i[n];if(typeof a!="object"||a===null){Vt(e,i);return}if(["navigation","pagination","scrollbar"].indexOf(n)>=0&&t[n]===!0&&(t[n]={auto:!0}),!(n in t&&"enabled"in a)){Vt(e,i);return}t[n]===!0&&(t[n]={enabled:!0}),typeof t[n]=="object"&&!("enabled"in t[n])&&(t[n].enabled=!0),t[n]||(t[n]={enabled:!1}),Vt(e,i)}}const _c={eventsEmitter:hD,update:bD,translate:AD,transition:DD,slide:VD,loop:$D,grabCursor:XD,events:iM,breakpoints:oM,checkOverflow:gM,classes:cM,images:pM},Tc={};class vt{constructor(){let e,r;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];if(n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?r=n[0]:[e,r]=n,r||(r={}),r=Vt({},r),e&&!r.el&&(r.el=e),r.el&&te(r.el).length>1){const u=[];return te(r.el).each(d=>{const h=Vt({},r,{el:d});u.push(new vt(h))}),u}const s=this;s.__swiper__=!0,s.support=Sx(),s.device=lD({userAgent:r.userAgent}),s.browser=dD(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const o={};s.modules.forEach(u=>{u({swiper:s,extendParams:vM(r,o),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const l=Vt({},w0,o);return s.params=Vt({},l,Tc,r),s.originalParams=Vt({},s.params),s.passedParams=Vt({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(u=>{s.on(u,s.params.on[u])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=te,Object.assign(s,{enabled:s.params.enabled,el:e,classNames:[],slides:te(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const d=["touchstart","touchmove","touchend","touchcancel"],h=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:d[0],move:d[1],end:d[2],cancel:d[3]},s.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:Xs(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),s=(i.maxTranslate()-n)*e+n;i.translateTo(s,typeof r=="undefined"?0:r),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.each(i=>{const n=e.getSlideClasses(i);r.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e,r){e===void 0&&(e="current"),r===void 0&&(r=!1);const i=this,{params:n,slides:a,slidesGrid:s,slidesSizesGrid:o,size:l,activeIndex:u}=i;let d=1;if(n.centeredSlides){let h=a[u].swiperSlideSize,f;for(let y=u+1;y<a.length;y+=1)a[y]&&!f&&(h+=a[y].swiperSlideSize,d+=1,h>l&&(f=!0));for(let y=u-1;y>=0;y-=1)a[y]&&!f&&(h+=a[y].swiperSlideSize,d+=1,h>l&&(f=!0))}else if(e==="current")for(let h=u+1;h<a.length;h+=1)(r?s[h]+o[h]-s[u]<l:s[h]-s[u]<l)&&(d+=1);else for(let h=u-1;h>=0;h-=1)s[u]-s[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:i}=e;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){const s=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let a;e.params.freeMode&&e.params.freeMode.enabled?(n(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?a=e.slideTo(e.slides.length-1,0,!1,!0):a=e.slideTo(e.activeIndex,0,!1,!0),a||n()),i.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r){r===void 0&&(r=!0);const i=this,n=i.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(i.$el.removeClass(`${i.params.containerModifierClass}${n}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each(a=>{e==="vertical"?a.style.width="":a.style.height=""}),i.emit("changeDirection"),r&&i.update()),i}mount(e){const r=this;if(r.mounted)return!0;const i=te(e||r.params.el);if(e=i[0],!e)return!1;e.swiper=r;const n=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const o=te(e.shadowRoot.querySelector(n()));return o.children=l=>i.children(l),o}return i.children(n())})();if(s.length===0&&r.params.createElements){const l=qt().createElement("div");s=te(l),l.className=r.params.wrapperClass,i.append(l),i.children(`.${r.params.slideClass}`).each(u=>{s.append(u)})}return Object.assign(r,{$el:i,el:e,$wrapperEl:s,wrapperEl:s[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||i.css("direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||i.css("direction")==="rtl"),wrongRTL:s.css("display")==="-webkit-box"}),!0}init(e){const r=this;return r.initialized||r.mount(e)===!1||(r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.params.loop&&r.loopCreate(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.preloadImages&&r.preloadImages(),r.params.loop?r.slideTo(r.params.initialSlide+r.loopedSlides,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.attachEvents(),r.initialized=!0,r.emit("init"),r.emit("afterInit")),r}destroy(e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);const i=this,{params:n,$el:a,$wrapperEl:s,slides:o}=i;return typeof i.params=="undefined"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),r&&(i.removeClasses(),a.removeAttr("style"),s.removeAttr("style"),o&&o.length&&o.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.$el[0].swiper=null,rD(i)),i.destroyed=!0),null}static extendDefaults(e){Vt(Tc,e)}static get extendedDefaults(){return Tc}static get defaults(){return w0}static installModule(e){vt.prototype.__modules__||(vt.prototype.__modules__=[]);const r=vt.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>vt.installModule(r)),vt):(vt.installModule(e),vt)}}Object.keys(_c).forEach(t=>{Object.keys(_c[t]).forEach(e=>{vt.prototype[e]=_c[t][e]})});vt.use([cD,fD]);function ti(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function on(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>r.indexOf(i)<0).forEach(i=>{typeof t[i]=="undefined"?t[i]=e[i]:ti(e[i])&&ti(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:on(t[i],e[i]):t[i]=e[i]})}function Ex(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl=="undefined"&&typeof t.navigation.prevEl=="undefined"}function wx(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el=="undefined"}function Cx(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el=="undefined"}function kx(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),r=[];return e.forEach(i=>{r.indexOf(i)<0&&r.push(i)}),r.join(" ")}const Px=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function yM(t){t===void 0&&(t={});const e={on:{}},r={},i={};on(e,vt.defaults),on(e,vt.extendedDefaults),e._emitClasses=!0,e.init=!1;const n={},a=Px.map(s=>s.replace(/_/,""));return Object.keys(t).forEach(s=>{a.indexOf(s)>=0?ti(t[s])?(e[s]={},i[s]={},on(e[s],t[s]),on(i[s],t[s])):(e[s]=t[s],i[s]=t[s]):s.search(/on[A-Z]/)===0&&typeof t[s]=="function"?r[`${s[2].toLowerCase()}${s.substr(3)}`]=t[s]:n[s]=t[s]}),["navigation","pagination","scrollbar"].forEach(s=>{e[s]===!0&&(e[s]={}),e[s]===!1&&delete e[s]}),{params:e,passedParams:i,rest:n,events:r}}function _M(t,e){let{el:r,nextEl:i,prevEl:n,paginationEl:a,scrollbarEl:s,swiper:o}=t;Ex(e)&&i&&n&&(o.params.navigation.nextEl=i,o.originalParams.navigation.nextEl=i,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),wx(e)&&a&&(o.params.pagination.el=a,o.originalParams.pagination.el=a),Cx(e)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(r)}function Ax(t,e){let r=e.slidesPerView;if(e.breakpoints){const n=vt.prototype.getBreakpoint(e.breakpoints),a=n in e.breakpoints?e.breakpoints[n]:void 0;a&&a.slidesPerView&&(r=a.slidesPerView)}let i=Math.ceil(parseFloat(e.loopedSlides||r,10));return i+=e.loopAdditionalSlides,i>t.length&&(i=t.length),i}function TM(t,e,r){const i=e.map((l,u)=>Wn.cloneElement(l,{swiper:t,"data-swiper-slide-index":u}));function n(l,u,d){return Wn.cloneElement(l,{key:`${l.key}-duplicate-${u}-${d}`,className:`${l.props.className||""} ${r.slideDuplicateClass}`})}if(r.loopFillGroupWithBlank){const l=r.slidesPerGroup-i.length%r.slidesPerGroup;if(l!==r.slidesPerGroup)for(let u=0;u<l;u+=1){const d=Wn.createElement("div",{className:`${r.slideClass} ${r.slideBlankClass}`});i.push(d)}}r.slidesPerView==="auto"&&!r.loopedSlides&&(r.loopedSlides=i.length);const a=Ax(i,r),s=[],o=[];return i.forEach((l,u)=>{u<a&&o.push(n(l,u,"prepend")),u<i.length&&u>=i.length-a&&s.push(n(l,u,"append"))}),t&&(t.loopedSlides=a),[...s,...i,...o]}function SM(t,e,r,i){const n=[];if(!e)return n;const a=u=>{n.indexOf(u)<0&&n.push(u)},s=i.map(u=>u.key),o=r.map(u=>u.key);return s.join("")!==o.join("")&&a("children"),i.length!==r.length&&a("children"),Px.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(ti(t[u])&&ti(e[u])){const d=Object.keys(t[u]),h=Object.keys(e[u]);d.length!==h.length?a(u):(d.forEach(f=>{t[u][f]!==e[u][f]&&a(u)}),h.forEach(f=>{t[u][f]!==e[u][f]&&a(u)}))}else t[u]!==e[u]&&a(u)}),n}function Ix(t){const e=[];return Wn.Children.toArray(t).forEach(r=>{r.type&&r.type.displayName==="SwiperSlide"?e.push(r):r.props&&r.props.children&&Ix(r.props.children).forEach(i=>e.push(i))}),e}function xM(t){const e=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Wn.Children.toArray(t).forEach(i=>{if(i.type&&i.type.displayName==="SwiperSlide")e.push(i);else if(i.props&&i.props.slot&&r[i.props.slot])r[i.props.slot].push(i);else if(i.props&&i.props.children){const n=Ix(i.props.children);n.length>0?n.forEach(a=>e.push(a)):r["container-end"].push(i)}else r["container-end"].push(i)}),{slides:e,slots:r}}function bM(t){let{swiper:e,slides:r,passedParams:i,changedParams:n,nextEl:a,prevEl:s,scrollbarEl:o,paginationEl:l}=t;const u=n.filter(D=>D!=="children"&&D!=="direction"),{params:d,pagination:h,navigation:f,scrollbar:y,virtual:x,thumbs:S}=e;let v,_,E,C,P;n.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(v=!0),n.includes("controller")&&i.controller&&i.controller.control&&d.controller&&!d.controller.control&&(_=!0),n.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(d.pagination||d.pagination===!1)&&h&&!h.el&&(E=!0),n.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||o)&&(d.scrollbar||d.scrollbar===!1)&&y&&!y.el&&(C=!0),n.includes("navigation")&&i.navigation&&(i.navigation.prevEl||s)&&(i.navigation.nextEl||a)&&(d.navigation||d.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(P=!0);const M=D=>{!e[D]||(e[D].destroy(),D==="navigation"?(d[D].prevEl=void 0,d[D].nextEl=void 0,e[D].prevEl=void 0,e[D].nextEl=void 0):(d[D].el=void 0,e[D].el=void 0))};u.forEach(D=>{if(ti(d[D])&&ti(i[D]))on(d[D],i[D]);else{const j=i[D];(j===!0||j===!1)&&(D==="navigation"||D==="pagination"||D==="scrollbar")?j===!1&&M(D):d[D]=i[D]}}),u.includes("controller")&&!_&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),n.includes("children")&&x&&d.virtual.enabled?(x.slides=r,x.update(!0)):n.includes("children")&&e.lazy&&e.params.lazy.enabled&&e.lazy.load(),v&&S.init()&&S.update(!0),_&&(e.controller.control=d.controller.control),E&&(l&&(d.pagination.el=l),h.init(),h.render(),h.update()),C&&(o&&(d.scrollbar.el=o),y.init(),y.updateSize(),y.setTranslate()),P&&(a&&(d.navigation.nextEl=a),s&&(d.navigation.prevEl=s),f.init(),f.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),n.includes("direction")&&e.changeDirection(i.direction,!1),e.update()}function EM(t){!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())}function wM(t,e,r){if(!r)return null;const i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`};return e.filter((n,a)=>a>=r.from&&a<=r.to).map(n=>Wn.cloneElement(n,{swiper:t,style:i}))}function bs(t,e){return typeof window=="undefined"?Te.exports.useEffect(t,e):Te.exports.useLayoutEffect(t,e)}const CM=Te.exports.createContext(null),kM=Te.exports.createContext(null),PM=Te.exports.forwardRef(function(t,e){let Le=t===void 0?{}:t,{className:r,tag:i="div",wrapperTag:n="div",children:a,onSwiper:s}=Le,o=Td(Le,["className","tag","wrapperTag","children","onSwiper"]),l=!1;const[u,d]=Te.exports.useState("swiper"),[h,f]=Te.exports.useState(null),[y,x]=Te.exports.useState(!1),S=Te.exports.useRef(!1),v=Te.exports.useRef(null),_=Te.exports.useRef(null),E=Te.exports.useRef(null),C=Te.exports.useRef(null),P=Te.exports.useRef(null),M=Te.exports.useRef(null),D=Te.exports.useRef(null),j=Te.exports.useRef(null),{params:N,passedParams:F,rest:B,events:z}=yM(o),{slides:K,slots:J}=xM(a),pe=()=>{x(!y)};Object.assign(N.on,{_containerClasses(me,q){d(q)}});const se=()=>{if(Object.assign(N.on,z),l=!0,_.current=new vt(N),_.current.loopCreate=()=>{},_.current.loopDestroy=()=>{},N.loop&&(_.current.loopedSlides=Ax(K,N)),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=K;const me={cache:!1,slides:K,renderExternal:f,renderExternalUpdate:!1};on(_.current.params.virtual,me),on(_.current.originalParams.virtual,me)}};v.current||se(),_.current&&_.current.on("_beforeBreakpoint",pe);const de=()=>{l||!z||!_.current||Object.keys(z).forEach(me=>{_.current.on(me,z[me])})},fe=()=>{!z||!_.current||Object.keys(z).forEach(me=>{_.current.off(me,z[me])})};Te.exports.useEffect(()=>()=>{_.current&&_.current.off("_beforeBreakpoint",pe)}),Te.exports.useEffect(()=>{!S.current&&_.current&&(_.current.emitSlidesClasses(),S.current=!0)}),bs(()=>{if(e&&(e.current=v.current),!!v.current)return _.current.destroyed&&se(),_M({el:v.current,nextEl:P.current,prevEl:M.current,paginationEl:D.current,scrollbarEl:j.current,swiper:_.current},N),s&&s(_.current),()=>{_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}},[]),bs(()=>{de();const me=SM(F,E.current,K,C.current);return E.current=F,C.current=K,me.length&&_.current&&!_.current.destroyed&&bM({swiper:_.current,slides:K,passedParams:F,changedParams:me,nextEl:P.current,prevEl:M.current,scrollbarEl:j.current,paginationEl:D.current}),()=>{fe()}}),bs(()=>{EM(_.current)},[h]);function he(){return N.virtual?wM(_.current,K,h):!N.loop||_.current&&_.current.destroyed?K.map(me=>Wn.cloneElement(me,{swiper:_.current})):TM(_.current,K,N)}return en(i,_d(yd({ref:v,className:kx(`${u}${r?` ${r}`:""}`)},B),{children:$d(kM.Provider,{value:_.current,children:[J["container-start"],Ex(N)&&$d(cC,{children:[en("div",{ref:M,className:"swiper-button-prev"}),en("div",{ref:P,className:"swiper-button-next"})]}),Cx(N)&&en("div",{ref:j,className:"swiper-scrollbar"}),wx(N)&&en("div",{ref:D,className:"swiper-pagination"}),$d(n,{className:"swiper-wrapper",children:[J["wrapper-start"],he(),J["wrapper-end"]]}),J["container-end"]]})}))});PM.displayName="Swiper";const AM=Te.exports.forwardRef(function(t,e){let S=t===void 0?{}:t,{tag:r="div",children:i,className:n="",swiper:a,zoom:s,virtualIndex:o}=S,l=Td(S,["tag","children","className","swiper","zoom","virtualIndex"]);const u=Te.exports.useRef(null),[d,h]=Te.exports.useState("swiper-slide");function f(v,_,E){_===u.current&&h(E)}bs(()=>{if(e&&(e.current=u.current),!(!u.current||!a)){if(a.destroyed){d!=="swiper-slide"&&h("swiper-slide");return}return a.on("_slideClass",f),()=>{!a||a.off("_slideClass",f)}}}),bs(()=>{a&&u.current&&h(a.getSlideClasses(u.current))},[a]);const y={isActive:d.indexOf("swiper-slide-active")>=0||d.indexOf("swiper-slide-duplicate-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isDuplicate:d.indexOf("swiper-slide-duplicate")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0||d.indexOf("swiper-slide-duplicate-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0||d.indexOf("swiper-slide-duplicate-next")>=0},x=()=>typeof i=="function"?i(y):i;return en(r,_d(yd({ref:u,className:kx(`${d}${n?` ${n}`:""}`),"data-swiper-slide-index":o},l),{children:en(CM.Provider,{value:y,children:s?en("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof s=="number"?s:void 0,children:x()}):x()})}))});AM.displayName="SwiperSlide";export{Wn as R,PM as S,en as a,vx as b,OM as c,AM as d,LM as e,$d as j,Te as r,U as v};
